<!doctype html>
<html lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.59.1" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>开发者问答集锦 | </title>
    <meta property="og:title" content="开发者问答集锦 | ">
    <meta property="og:type" content="website">
    <meta name="Keywords" content="">
    <meta name="description" content="">
    <meta property="og:url" content="https://zaina.newban.cn/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <h1>
                        <a id="logo" href="https://zaina.newban.cn">
                            开发者问答集锦
                        </a>
                    </h1>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellawkweb%E6%8A%A5%E8%A1%A8/" title="shellawkweb报表">shellawkweb报表</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shellawkweb%E6%8A%A5%E8%A1%A8/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellawk%E4%B8%A4%E4%B8%AA%E7%89%B9%E6%AE%8A%E6%A8%A1%E5%BC%8Fbegin%E5%92%8Cend%E5%8F%8Aawk%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%BE%AA%E7%8E%AF/" title="SHELLawk两个特殊模式BEGIN和END及awk高级应用条件判断循环">SHELLawk两个特殊模式BEGIN和END及awk高级应用条件判断循环</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            一、Awk 的两个特殊模式  BEGIN 和 END，BEGIN 被放置在没有读取任何数据之前，而 END 被放置在所有的数据读取完成以后执行 体现如下：
BEGIN{}: 读入第一行文本之前执行的语句，一般用来初始化操作
{}: 逐行处理
END{}: 处理完最后以行文本后执行，一般用来处理输出结果
 实例：
 文件开头加REDHAT，末尾加WESTOS，打印行号和内容
[root@server19 mnt]# awk -F: &lsquo;BEGIN {print &ldquo;REDHAT&rdquo;} {print NR;print} END {print &ldquo;WESTOS&rdquo;}&rsquo; passwd REDHAT 1 root:x:0:0:root:/root:/bin/bash 2 bin:x:1:1:bin:/bin:/sbin/nologin 3 daemon:x:2:2:daemon:/sbin:/sbin/nologin 4 adm:x:3:4:adm:/var/adm:/sbin/nologin 5 lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin 6 sync:x:5:0:sync:/sbin:/bin/sync 7 shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown WESTOS
 统计文本总字段个数
[root@server19 mnt]# vim test.txt hui hui XX XX XX ni Xx
[root@server19 mnt]# awk &lsquo;BEGIN{i=0}{i+=NF}END{print i}&rsquo; test.txt 7……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shellawk%E4%B8%A4%E4%B8%AA%E7%89%B9%E6%AE%8A%E6%A8%A1%E5%BC%8Fbegin%E5%92%8Cend%E5%8F%8Aawk%E9%AB%98%E7%BA%A7%E5%BA%94%E7%94%A8%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD%E5%BE%AA%E7%8E%AF/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellawk%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8Bawk%E5%90%88%E5%B9%B6%E8%A1%8C/" title="shellawk使用实例awk合并行">shellawk使用实例awk合并行</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shellawk%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8Bawk%E5%90%88%E5%B9%B6%E8%A1%8C/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellawk%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/" title="shellawk使用详解">shellawk使用详解</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            目录
awk基本格式
常用命令选项
awk执行过程分析
AWK内置变量
重定向到另一个文件
语法
自定义变量
awk内部自定义
将外部变量值传递给awk
运算符
循环结构
for
while
do while
break
continue
next
exit
数组
创建数组
数组长度
输出数组内容
判断键值是否存在
删除键值
正则
if中使用
match匹配
函数
算数函数
字符串函数
时间函数
输出
正常输出
输出变量
printf格式化输出
awk基本格式  awk [options] 'BEGIN{action;..} pattern{ action;....} END {action;....}' file awk 'BEGIN{ commands } pattern{ commands } END{ commands }' file awk 'BEGIN{ i=0 } { i++ } END{ print i }' filename  常用命令选项  -F fs fs 指定输入分隔符，fs可以时字符串或正则表达式……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shellawk%E4%BD%BF%E7%94%A8%E8%AF%A6%E8%A7%A3/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellawk%E5%8F%8A%E4%BE%8B%E5%AD%90/" title="SHELLawk及例子">SHELLawk及例子</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shellawk%E5%8F%8A%E4%BE%8B%E5%AD%90/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellawk%E5%91%BD%E4%BB%A4%E5%88%86%E5%89%B2%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E5%B9%B6%E5%86%99%E5%85%A5%E6%96%B0%E6%96%87%E4%BB%B6%E5%90%88%E5%B9%B6%E6%96%87%E4%BB%B6/" title="ShellAWK命令分割文件内容并写入新文件合并文件">ShellAWK命令分割文件内容并写入新文件合并文件</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            awk -F &lsquo;\t&rsquo; &lsquo;NR&gt;900000 {print $1&rdquo;\r\n&rdquo;$2}&rsquo; 2019050802-1800000.txt &gt; result_2.txt
分隔符：tab制表符
NR &gt; 90000 ：从第90001行开始进行操作
$1：分割后的第一个子串
&rdquo;&ldquo;：双引号中的内容代表 在两个子串中需要增加的 字符串
比如 原始文件
a b
c d
新文件：
a
b
c
d
可以使用cat命令从文件中读入两个文件，然后将重定向到一个新的文件。
用法示例：
将file1.txt和file2.txt合并到file.txt
$ cat file1.txt file2.txt &gt; file.txt
也可以只使用cat命令读入一个文件，然后使用&gt;&gt;将文本流追加到另一个文件的末位。
用法示例：
将file1.txt追加到file2.txt的末尾
$ cat file1.txt &gt;&gt; file2.txt……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shellawk%E5%91%BD%E4%BB%A4%E5%88%86%E5%89%B2%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E5%B9%B6%E5%86%99%E5%85%A5%E6%96%B0%E6%96%87%E4%BB%B6%E5%90%88%E5%B9%B6%E6%96%87%E4%BB%B6/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellawk%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/" title="shellawk命令详解">shellawk命令详解</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shellawk%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellawk%E5%92%8Csed%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/" title="shellawk和sed使用中遇到的问题">shellawk和sed使用中遇到的问题</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            1.awk给shell变量赋值：
var=cat info.txt | awk -F'=' 'NR==2 {printf $2}' //注释：将info.txt文件第二行，以=为分隔符，分割后的第二个字段赋值给变量var.
注：第一个并不是单引号',而是~那个键上的
2.sed引用shell变量进行替换：
eval sed -i &rsquo;s/$s1/$s2/g&rsquo; info.txt
其他方法：
1.sed &ldquo;s/$a/$b/&rdquo; filename
2.sed ’s/’$a’/’$b’/’ filename
3.sed s/$a/$b/ filename
注：s1和s2都是shell变量，sed前需要加eval
3. 统计文本的行数
文件test1.txt有17行
awk &lsquo;{print NR}&rsquo; test1.txt | tail -n1
管道前打印所有行号，管道后则打印最后一行
或者：
awk &lsquo;END{print NR}&rsquo; test1.txt……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shellawk%E5%92%8Csed%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellawk%E5%AE%9E%E7%8E%B0%E5%88%A0%E9%99%A4hdfs%E4%B8%8A%E6%9F%90%E6%97%A5%E6%9C%9F%E4%B9%8B%E5%89%8D%E7%9A%84%E6%96%87%E4%BB%B6/" title="shellawk实现删除hdfs上某日期之前的文件">shellawk实现删除hdfs上某日期之前的文件</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shellawk%E5%AE%9E%E7%8E%B0%E5%88%A0%E9%99%A4hdfs%E4%B8%8A%E6%9F%90%E6%97%A5%E6%9C%9F%E4%B9%8B%E5%89%8D%E7%9A%84%E6%96%87%E4%BB%B6/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellawk%E5%AE%9E%E7%94%A8%E6%95%99%E7%A8%8B/" title="ShellAwk实用教程">ShellAwk实用教程</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shellawk%E5%AE%9E%E7%94%A8%E6%95%99%E7%A8%8B/">阅读全文</a></p>
    </article>
    
    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/page/780/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/779/">779</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/780/">780</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/page/781/">781</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/782/">782</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/783/">783</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1960/">1960</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/page/782/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>