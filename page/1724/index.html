<!doctype html>
<html lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.59.1" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>开发者问答集锦 | </title>
    <meta property="og:title" content="开发者问答集锦 | ">
    <meta property="og:type" content="website">
    <meta name="Keywords" content="">
    <meta name="description" content="">
    <meta property="og:url" content="https://zaina.newban.cn/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <h1>
                        <a id="logo" href="https://zaina.newban.cn">
                            开发者问答集锦
                        </a>
                    </h1>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AEshell%E5%9F%BA%E7%A1%80/" title="大数据Shell基础">大数据Shell基础</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            前言  大数据 基础概念 大数据 Centos基础 大数据 Shell基础 大数据 ZooKeeper 大数据 Hadoop介绍、配置与使用 大数据 Hadoop之HDFS 大数据 MapReduce 大数据 Hive 大数据 Yarn 大数据 MapReduce使用 大数据 Hadoop高可用HA  介绍  Shell 是用来解决什么问题的？ - 伟哥-Wayne的回答 - 知乎
Linux的命令行接口归结起来就是各种Shell，那么到底什么是Shell？
Shell就是一个命令行解释器，它的作用是解释执行用户的命令，用户输入一条命令，Shell就解释执行一条，这种方式称为交互式(Interactive)。
Shell，译为外壳，是用户直接连入计算机所使用的计算机程序，负责解析用户提供的命令，如词法分析、语法分析、句法分析。
 完整教程  Shell 教程  Shell执行方式  ./test.sh sh test.sh source test.sh  方式1和方式2其实是一样的，都是在当前父进程下的子进程中执行，子进程执行结束之后，子进程中的变量和操作将会结束而且不会传回到父进程中。
换句话说， 方式1和方式2是作用于子进程本身，方式3则作用于整个父进程 。
Shell变量 查看系统变量可以使用set命令查看。
变量的声明采用的是变量名=值的方式定义，而且等号的左右不能有空格，否则报错，变量名称一般习惯采用大写。
在定义变量的时候，双引号是允许格式化字符串，比如Hello World！$USERNAME输出结果为Hello World！Linux。而单引号禁止格式化字符串，即Hello World！$USERNAME输出结果为Hello World！$USERNAME。
 双引号的优点：  双引号里可以出现转义字符 双引号里可以有变量  单引号的限制：  单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的； 单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。   系统变量可以使用unset 变量名撤销。……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AEshell%E5%9F%BA%E7%A1%80/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AEshell%E7%BC%96%E7%A8%8B/" title="大数据Shell编程">大数据Shell编程</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            Shell编程 Shell 是一个用 C 语言编写的程序，通过 Shell 用户可以访问操作系统内核服务。它类似于 DOS 下的 command 和后来的 cmd.exe。Shell 既是一种命令语言，又是一种程序设计语言。Shell script 是一种为 shell 编写的脚本程序。Shell 编程一般指 shell脚本编程，不是指开发 shell 自身。Shell 编程跟 java、php 编程一样，只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了Linux 的 Shell 种类众多，一个系统可以存在多个 shell，可以通过 cat /etc/shells 命令查看系统中安装的 shell。Bash 由于易用和免费，在日常工作中被广泛使用。同时，Bash 也是大多数Linux 系统默认的 Shell。
1. 基本格式 #!/bin/bash echo &quot;Hello World !&quot;  #!是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。
echo 命令用于向窗口输出文本。
Shell 脚本的执行 ：
chmod +x ./hello.sh #使脚本具有执行权限
./hello.sh #执行脚本
直接写 hello.sh，linux 系统会去 PATH 里寻找有没有叫 hello.sh的。用 ./hello.sh 告诉系统说，就在当前目录找。还可以作为解释器参数运行。直接运行解释器，其参数就是 shell 脚
本的文件名，如：
绝对路径读取……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AEshell%E7%BC%96%E7%A8%8B/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B9%8Bhadoop%E5%AD%A6%E4%B9%A0%E5%85%ABhbaseshell%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%88%9B%E5%BB%BA/" title="大数据之Hadoop学习八HBaseShell数据库表创建">大数据之Hadoop学习八HBaseShell数据库表创建</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            HBase Shell数据库表创建 * 一、启动Hadoop和HBase * 1.启动Hadoop * 2.启动HBase * 3.进入shell * 二、创建表 * 三、插入数据 * ①新增学号为2015001的学生的所有信息 * ②、新增学号为2015002的学生的所有信息 * ③、新增学号为2015003的学生的所有信息 * 四、查看表的数据 * ①、新增学号2015001的学生信息过后表的数据 * ②、新增学号为2015002的学生信息过后表的数据 * ③、学生信息全都新增过后表的数据  根据以下关系型数据库表，使用HBase Shell设计并创建适宜的HBase数据表

一、启动Hadoop和HBase 1.启动Hadoop cd /usr/local/hadoop/ ./sbin/start-dfs.sh  2.启动HBase cd /usr/local/hbase/ bin/start-hbase.sh  3.进入shell ./bin/hbase shell  
二、创建表 create 'StudentAdmin','student','course1','course2','course3'  
三、插入数据 学号作为RowKey即行键，因此插入数据时不必在插入学生编号，同时课程建了三个列族，用于存储同一行键下的不同课程
①新增学号为2015001的学生的所有信息 put 'StudentAdmin','2015001','student:S_Name','Zhangsan' put 'StudentAdmin','2015001','student:S_Age','23' put 'StudentAdmin','2015001','student:S_Sex','male' put 'StudentAdmin','2015001','course1:C_No','123001' put 'StudentAdmin','2015001','course1:C_Name','Math' put 'StudentAdmin','2015001','course1:C_Credit','2.0' put 'StudentAdmin','2015001','course1:Score','86' put 'StudentAdmin','2015001','course3:C_No','123003' put 'StudentAdmin','2015001','course3:C_Name','English' put 'StudentAdmin','2015001','course3:C_Credit','3.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B9%8Bhadoop%E5%AD%A6%E4%B9%A0%E5%85%ABhbaseshell%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E5%88%9B%E5%BB%BA/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B9%8Bhadoop%E5%AD%A6%E4%B9%A0%E5%85%AD%E5%88%A9%E7%94%A8shell%E5%91%BD%E4%BB%A4%E5%AF%B9hbase%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" title="大数据之Hadoop学习六利用Shell命令对HBase数据库基本操作">大数据之Hadoop学习六利用Shell命令对HBase数据库基本操作</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            HBase数据库基本操作 * 一、启动Hadoop和HBase * 1.打开Hadoop * 2.启动HBase * 3.进入Shell界面 * 二、HBase中创建表 * 三、HBase数据库基本操作 * 1.添加数据 * 2.删除数据 * 3.查看数据 * 4.删除表 * 5.查询表历史数据 * 6、退出HBase数据库表操作  一、启动Hadoop和HBase 1.打开Hadoop cd /usr/local/hadoop/ ./sbin/start-dfs.sh  
2.启动HBase cd /usr/local/hbase/ bin/start-hbase.sh  
3.进入Shell界面 bin/hbase shell  
二、HBase中创建表  create 'student','Sname','Ssex','Sage','Sdept','course'  
通过describe命令查看“student”表的基本信息
describe 'student'  
三、HBase数据库基本操作 1.添加数据 put 'student','95001','Sname','LiYing'  当运行命令：put ‘student’,’95001’,’Sname’,’LiYing’时，即为student表添加了学号为95001，名字为LiYing的一行数据，其行键为95001

 put 'student','95001','course:math','80'  为95001行下的course列族的math列添加了一个数据……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B9%8Bhadoop%E5%AD%A6%E4%B9%A0%E5%85%AD%E5%88%A9%E7%94%A8shell%E5%91%BD%E4%BB%A4%E5%AF%B9hbase%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B9%8Bhdfs%E6%9E%B6%E6%9E%84%E8%AF%BB%E5%86%99%E7%AD%96%E7%95%A5shell%E5%91%BD%E4%BB%A4/" title="大数据之hdfs架构读写策略shell命令">大数据之hdfs架构读写策略shell命令</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            一、hdfs架构简介 文件系统：由三部分组成与文件管理有关软件、被管理文件以及实施文件管理所需数据结构。
元数据：用于描述要素、数据集或数据集系列的内容、覆盖范围、质量、管理方式、数据的所有者、数据的提供方式 等有关的信息。更简单的说，是关于数据的数据。HDFS就是将巨大的数据变成大量数据的数据。
架构组成：
•一个HDFS文件系统包括一个主控节点NameNode和一组DataNode从节点。
NameNode 是 一个主服务器，用来管理整个文件系统的命名空间和元数据，以及处理来自外界的文件 访问 请求
NameNode 保存了文件系统的三种元数据：命名空间、数据名和文件名的映射表、每个数据块副本的位置信息； 可以执行文件操作 比如打开、关闭、重命名等 ; 而且 NameNode 也 负责 向 DataNode 分配 数据块并建立数据块和 DataNode 的对应关系。
DataNode用来实际存储和管理文件的数据块，负责处理文件系统用户具体的数据读写请求，同时也可以处理NameNode对数据块的创建、删除副本的指令
典型的部署模式采用 NameNode 单独运行于一台服务器节点上，其余的服务器节点，每一台运行个 DataNode
读写策略——数据读取
1、客户端调用FileSystem 实例的open 方法，获得这个文件对应的输入流InputStream
2、通过RPC 远程调用NameNode ，获得NameNode 中此文件对应的数据块保存位置，包括这个文件的副本的保存位置( 主要是各DataNode的地址) 。
3、获得输入流之后，客户端调用read 方法读取数据。选择最近的DataNode 建立连接并读取数据。
4、如果客户端和其中一个DataNode 位于同一机器(比如MapReduce 过程中的mapper 和reducer)，那么就会直接从本地读取数据。
5、到达数据块末端，关闭与这个DataNode 的连接，然后重新查找下一个数据块。
6、不断执行第2 - 5 步直到数据全部读完
7、客户端调用close ，关闭输入流DF S InputStream
读写策略——数据写入
1、客户端调用Fi leSystem 实例的create 方法，创建文件。NameNode 通过一些检查，比如文件是否存在，客户端是否拥有创建权限等;通过检查之后，在NameNode 添加文件信息。注意，因为此时文件没有数据，所以NameNode 上也没有文件数据块的信息。
2、创建结束之后， HDFS 会返回一个输出流DFSDataOutputStream 给客户端。……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B9%8Bhdfs%E6%9E%B6%E6%9E%84%E8%AF%BB%E5%86%99%E7%AD%96%E7%95%A5shell%E5%91%BD%E4%BB%A4/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B9%8B%E8%B7%AFhadoop4hadoopshell%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" title="大数据之路Hadoop4hadoopshell命令基本操作">大数据之路Hadoop4hadoopshell命令基本操作</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            * * 一HDFS 基本概念 * 1 HDFS 前言 * 2 HDFS的概念和特性 * 它是一个文件系统用于存储文件通过统一的命名空间目录树来定位文件 * 它是分布式的由很多服务器联合起来实现其功能集群中的服务器有各自的角色 * 重要特性如下  二HDFS基本操作  1 命令行客户端支持的命令参数 2 常用命令参数    一、HDFS 基本概念 1.1 HDFS 前言  设计思想
分而治之：将大文件、大批量文件，分布式存放在大量服务器上，以便于采取分而治之的方式对海量数据进行运算分析。
 在大数据系统中的应用
为各类分布式运算框架（mapreduce,spark…）提供数据存储服务
 重点概念
文件切块、副本存放、元数据
  1.2 HDFS的概念和特性 1. 它是一个文件系统，用于存储文件，通过统一的命名空间——目录树来定位文件 2. 它是分布式的，由很多服务器联合起来实现其功能，集群中的服务器有各自的角色 3. 重要特性如下： （1） HDFS中的文件在物理上是分块存储（block），块的大小可以通过配置参数( dfs.blocksize)来规定，默认大小在hadoop2.x版本中是128M，老版本中是64M
（2） HDFS文件系统会给客户端提供一个统一的抽象目录树，客户端通过路径来访问文件，形如：
hdfs://namenode:port/dir-a/dir-b/dir-c/file.data  （3） 目录结构及文件分块信息(元数据)的管理由namenode节点承担 —— namenode是HDFS集群主节点，负责维护整个hdfs文件系统的目录树，以及每一个路径（文件）所对应的block块信息（block的id，及所在的datanode服务器）
（4） 文件的各个block的存储管理由datanode节点承担
—- datanode是HDFS集群从节点，每一个block都可以在多个datanode上存储多个副本（副本数量也可以通过参数设置dfs.replication）
（5） HDFS是设计成适应一次写入，多次读出的场景，且不支持文件的修改……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E4%B9%8B%E8%B7%AFhadoop4hadoopshell%E5%91%BD%E4%BB%A4%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%97%E4%B9%8Bhdfs%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9Fshell%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9Chdfs%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" title="大数据入门教程系列之HDFS分布式文件系统shell命令操作HDFS分布式文件系统">大数据入门教程系列之HDFS分布式文件系统shell命令操作HDFS分布式文件系统</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            本篇文章主要介绍使用shell命令在xhsell工具上操作HDFS分布式文件系统。
1、fs最常用命令
hadoop fs -ls hdfs_path //查看HDFS目录下的文件和子目录
hadoop fs -mkdir hdfs_path //在HDFS上创建文件夹
hadoop fs -rm hdfs_path //删除HDFS上的文件
hadoop fs -rmr hdfs_path //删除HDFS上的文件夹
hadoop fs -put local_file hdfs_path //将本地文件copy到HDFS上
hadoop fs -get hdfs_file local_path //复制HDFS文件到本地
hadoop fs -cat hdfs_file //查看HDFS上某文件的内容
2、查看目录下文件（夹）大小
//单位Byte：
bin/hadoop fs -du / | sort -n
//单位MB：
bin/hadoop fs -du / | awk -F &lsquo; &rsquo; &lsquo;{printf &ldquo;%.2fMB\t\t%s\n&rdquo;, $1/1024/1024,$2}&rsquo; | sort -n
//单位GB，大于1G：
bin/hadoop fs -du / | awk -F &lsquo; &rsquo; &lsquo;{num=$1/1024/1024/1024; if(num&gt;1){printf &ldquo;%.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%E7%B3%BB%E5%88%97%E4%B9%8Bhdfs%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9Fshell%E5%91%BD%E4%BB%A4%E6%93%8D%E4%BD%9Chdfs%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E4%BA%8Cshell%E5%91%BD%E4%BB%A4/" title="大数据基础知识二Shell命令">大数据基础知识二Shell命令</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            Shell命令 Shell是系统的 用户界面，提供了用户与 内核进行交互操作的一种 接口。它接收用户输入的命令并把它送入内核去执行 [1] 。
实际上Shell是一个命令 解释器，它解释由用户输入的命令并且把它们送到内核。不仅如此，Shell有自己的编程语言用于对命令的编辑，它允许用户编写由shell命令组成的程序。Shell编程语言具有普通编程语言的很多特点，比如它也有 循环结构和分支控制结构等，用这种编程语言编写的Shell程序与其他应用程序具有同样的效果。
编写Shell脚本是一个大数据工程师必备的技能，所以每一个学习大数据的程序猿应该掌握项基本的技能。
Sed命令 1. Sed简介 sed 是一种在线编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”（pattern space），接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。文件内容并没有 改变，除非你使用重定向存储输出。Sed主要用来自动编辑一个或多个文件；简化对文件的反复操作；编写转换程序等。以下介绍的是Gnu版本的Sed 3.02。
2. 定址 可以通过定址来定位你所希望编辑的行，该地址用数字构成，用逗号分隔的两个行数表示以这两行为起止的行的范围（包括行数表示的那两行）。如1，3表示1，2，3行，美元符号($)表示最后一行。范围可以通过数据，正则表达式或者二者结合的方式确定 。
3. Sed命令 调用sed命令有两种形式：
*
sed [options] &lsquo;command&rsquo; file(s)
*
sed [options] -f scriptfile file(s)
a\
在当前行后面加入一行文本。
b lable
分支到脚本中带有标记的地方，如果分支不存在则分支到脚本的末尾。
c\
用新的文本改变本行的文本。
d
从模板块（Pattern space）位置删除行。
D
删除模板块的第一行。
i\
在当前行上面插入文本。
h
拷贝模板块的内容到内存中的缓冲区。
H
追加模板块的内容到内存中的缓冲区
g
获得内存缓冲区的内容，并替代当前模板块中的文本。
G
获得内存缓冲区的内容，并追加到当前模板块文本的后面。
l
列表不能打印字符的清单。
n
读取下一个输入行，用下一个命令处理新的行而不是用第一个命令。
N
追加下一个输入行到模板块后面并在二者间嵌入一个新行，改变当前行号码。
p
打印模板块的行。
P（大写）
打印模板块的第一行。……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86%E4%BA%8Cshell%E5%91%BD%E4%BB%A4/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AD%A6%E4%B9%A0shell%E7%BC%96%E7%A8%8B/" title="大数据学习shell编程">大数据学习shell编程</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            03/ shell编程综合练习 自动化软件部署脚本
3.1 需求 1、需求描述 公司内有一个N个节点的集群，需要统一安装一些软件（jdk）
需要开发一个脚本，实现对集群中的N台节点批量自动下载、安装jdk
2、思路 1/ 编写一个 启动脚本 ，用来发送一个软件 安装脚本 到每一台机器
2/ 然后启动每台机器上的软件安装脚本来执行软件下载和安装
3、 expect的使用 痛点：使用scp命令远程拷贝文件时，会有人机交互的过程，如何让脚本完成人机交互？
妙药： expect
用法示例：
先观察 ssh localhost 的过程
再看expect的功能
#!/bin/bash/expect
exp_test.sh set timeout -1;
spawn ssh localhost;
expect {
&rdquo;(yes/no)&rdquo; {send &ldquo;yes\r&rdquo;;exp_continue;}
&ldquo;password:&rdquo; {send &ldquo;hadoop\r&rdquo;;exp_continue;}
eof {exit 0;}
}
_执行： expect -f exptest.sh
3.2 准备内网软件下载服务器 选择一台服务器（比如mini）作为软件源服务器
1、安装httpd （如果已有，可跳过）
yum install -y httpd
service httpd start
chkconfig &ndash;level 35 httpd on……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AD%A6%E4%B9%A0shell%E7%BC%96%E7%A8%8B/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AD%A6%E4%B9%A0yarnshell%E4%BB%A5%E5%8F%8Ayarnrestshell/" title="大数据学习YarnShell以及YarnRestShell">大数据学习YarnShell以及YarnRestShell</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%AD%A6%E4%B9%A0yarnshell%E4%BB%A5%E5%8F%8Ayarnrestshell/">阅读全文</a></p>
    </article>
    
    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/page/1723/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1722/">1722</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1723/">1723</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/page/1724/">1724</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1725/">1725</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1726/">1726</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1960/">1960</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/page/1725/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>