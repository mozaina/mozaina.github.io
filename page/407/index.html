<!doctype html>
<html lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.59.1" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>开发者问答集锦 | </title>
    <meta property="og:title" content="开发者问答集锦 | ">
    <meta property="og:type" content="website">
    <meta name="Keywords" content="">
    <meta name="description" content="">
    <meta property="og:url" content="https://zaina.newban.cn/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <h1>
                        <a id="logo" href="https://zaina.newban.cn">
                            开发者问答集锦
                        </a>
                    </h1>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%84%9A%E6%9C%AC%E6%AF%94%E8%BE%83%E6%95%B0%E5%AD%97%E5%A4%A7%E5%B0%8F/" title="Linux中shell脚本比较数字大小">Linux中shell脚本比较数字大小</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%84%9A%E6%9C%AC%E6%AF%94%E8%BE%83%E6%95%B0%E5%AD%97%E5%A4%A7%E5%B0%8F/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99%E5%9F%BA%E7%A1%80/" title="linux中shell脚本编写基础">linux中shell脚本编写基础</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            执行shell脚本 文件名必须以*.sh结尾
1 ./test.sh
此方法需要给对应文件添加执行权限
chmod a+x test.sh
2 sh test.sh
可直接执行
str字符串截取 
if,else条件语句 
最终需要以fi结尾
while语句 
执行结果:

$0:文件名
$1:第一个参数
$2:第二个参数…
格式:
while 条件
do
done
for语句 
执行结果:

格式
for 变量 in 列表
do
执行语句
done
函数调用 
执行结果:

格式
[ function ]functionName(){
语句
[ return ]
}
function和return为可选项
但是只能return整数,不能return字符串……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99%E5%9F%BA%E7%A1%80/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%84%9A%E6%9C%AC%E8%A7%A3%E6%9E%90%E5%8F%8A%E8%AF%BE%E5%90%8E%E4%B9%A0%E9%A2%98%E8%A7%A3%E7%AD%94%E5%B7%A5%E5%9D%8A%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%9552/" title="Linux中shell脚本解析及课后习题解答工坊学习记录52">Linux中shell脚本解析及课后习题解答工坊学习记录52</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            文章目录  一、shell脚本  1.什么是shell脚本  1.1 shell脚本的创建和执行 1.2 命令 date  2. shell脚本中的变量  2.1 数学运算 2.2 和用户交互 2.3 shell脚本预设变量  3. shell脚本中的逻辑判断  3.1 不带 else 3.2 带有 else 3.3 带有 elif 3.4 和文档相关的判断 3.5 case逻辑判断  4. shell 脚本中的循环  4.1 for循环 4.2 while 循环  5. shell 脚本中的函数 6. shell 脚本中的中断和继续  6.1 break 6.2 continue 6.3 exit   二、课后习题  一、shell脚本 1.什么是shell脚本  shell脚本并不能作为正式的编程语言，因为它是在Linux的shell中运行的，所以称为shell脚本。事实上，she脚本就是一些命令的集合。  1.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%84%9A%E6%9C%AC%E8%A7%A3%E6%9E%90%E5%8F%8A%E8%AF%BE%E5%90%8E%E4%B9%A0%E9%A2%98%E8%A7%A3%E7%AD%94%E5%B7%A5%E5%9D%8A%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%9552/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%84%9A%E6%9C%AC%E9%80%9A%E8%BF%87%E5%8F%82%E6%95%B0%E6%9D%A5%E6%89%A7%E8%A1%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E5%8A%9F%E8%83%BD/" title="Linux中shell脚本通过参数来执行不同的功能">Linux中shell脚本通过参数来执行不同的功能</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%84%9A%E6%9C%AC%E9%80%9A%E8%BF%87%E5%8F%82%E6%95%B0%E6%9D%A5%E6%89%A7%E8%A1%8C%E4%B8%8D%E5%90%8C%E7%9A%84%E5%8A%9F%E8%83%BD/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%84%9A%E6%AD%A5%E5%88%9D%E4%BD%93%E9%AA%8C%E6%B5%8B%E8%AF%9512310/" title="linux中shell脚步初体验测试12310">linux中shell脚步初体验测试12310</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            #!/bin/bash #测试1+2+3+...10=? total (){ num=0 sum=0 while [ ${num} -lt 10 ] do num=`expr ${num} + 1` sum=`expr ${sum} + ${num}` done return ${sum} } total echo &quot;1+2+3+....10=$? 运行结果为：1+2+3+....10=55  ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%84%9A%E6%AD%A5%E5%88%9D%E4%BD%93%E9%AA%8C%E6%B5%8B%E8%AF%9512310/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%87%AA%E5%8A%A8%E4%BA%A4%E4%BA%92%E7%9A%84%E4%BD%BF%E7%94%A8/" title="Linux中shell自动交互的使用">Linux中shell自动交互的使用</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ﻿﻿
自动交互方法二
需求2中要求采用非交互的方式改变登录用户密码，尝试用方法1，无法实现。
这时候联想到交互信息的另一个自动输入方法，管道，通过echo + sleep + | 可以实现这个需求。
#!/bin/bash
(echo &ldquo;curpassword&rdquo;
sleep 1
echo &ldquo;newpassword&rdquo;
sleep 1
echo &ldquo;newpassword&rdquo;)|passwd
测试通过，运行这个脚本，直接把当前用户的curpassword改成newpassword。
六、自动交互方法三
需求3中要求自动登录root账号，尝试方法1和方法2，都出现错误提示standard in must be a tty。
这时候尝试寻找外部帮助，一个shell工具expect可以实现这个功能，其实expect就是一个专门用来实现自动交互功能的工具，expect的语法可以参考相关资料，代码如下：
#!/usr/bin/expect
spawn su root
expect &ldquo;password: &ldquo;
send &ldquo;123456\r&rdquo;
expect eof
exit
测试通过，运行这个脚本，直接从当前用户登录到root用户。
七、方法总结
方法一(重定向)简单直观，也经常有实际应用，但是在自动交互领域功能有限。
方法二(管道)也很简单直观，有时甚至不用sleep配合就能展现强大的自动交互实力，但是在某些时候也束手无策。
方法三(expect)在功能上是最为强大的，expect本来就是为实现自动交互功能而生，但是缺点是需要安装expect包，在嵌入式等环境下难以安装。
三个方法各有优劣，应用的好，都可以让实际工作中的很多琐事一劳永逸。(完)
P.S:本人也是刚接触shell，以上是我在shell学习过程中对shell自动化脚本的一些初浅的看法和总结，一方面可以把&rdquo;懒人&rdquo;从一些重复的雷同的工作量中解脱出来，另一方面在实际应用中可能也会有用武之地。以上3种方法可能存在错误或者疏漏，欢迎前辈们批评指正，或者有其他更好的方法希望可以交流探讨~~~……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%87%AA%E5%8A%A8%E4%BA%A4%E4%BA%92%E7%9A%84%E4%BD%BF%E7%94%A8/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%BF%90%E7%AE%97%E7%AC%A6%E8%AF%A6%E8%A7%A3/" title="Linux中shell运算符详解">Linux中shell运算符详解</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            目录 文章目录  目录 * 概述 * 1. 算数运算符 * 2. 关系（比较）运算符 * 3. 逻辑运算符 * 4. 字符串运算符 * 5. 文件测试运算符  概述 Bash 支持很多运算符，其中包括：
 - 算数运算符 - 关系（比较）运算符 - 逻辑运算符 - 字符串运算符 - 文件测试运算符  1. 算数运算符 a=10 b=20     算术运算符 说明 举例     + 加法 expr $a + $b 结果为30   - 减法 expr $a - $b 结果为-10   * 乘法 expr $a \* $b 结果为200   / 除法 expr $b / $2 结果为2   % 取余 expr $b % $a 结果为0   = 赋值 a=$b 把变量b的值赋值给变量a   == 相等。判断两个数字是否相等，相等则返回true [ $a == $b ] 返回true   !……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E8%BF%90%E7%AE%97%E7%AC%A6%E8%AF%A6%E8%A7%A3/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E9%80%BB%E8%BE%91%E8%A1%A8%E8%BE%BE%E5%BC%8Fifelse%E4%BB%A5%E5%8F%8A%E5%A4%A7%E4%BA%8E%E5%B0%8F%E4%BA%8E%E7%AD%89%E4%BA%8E/" title="linux中shell逻辑表达式ifelse以及大于小于等于">linux中shell逻辑表达式ifelse以及大于小于等于</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            在linux中shell是常用的命令程序，在shell中又存在很多常见的逻辑判断，
下面我们就来看看这些逻辑判断的用法以及规范。
比如可以比较字符串、判断文件是否存在及是否可读等,通常用&rdquo;[]&ldquo;来表示条件测试。
注意这里的空格很重要。要确保方括号的空格。 否则将会报错。
if &hellip;.; then
&hellip;.
elif &hellip;.; then
&hellip;.
else
&hellip;.
fi
[ -f &ldquo;somefile&rdquo; ] ：判断是否是一个文件
[ -x &ldquo;/bin/ls&rdquo; ] ：判断/bin/ls是否存在并有可执行权限
[ -n &ldquo;$var&rdquo; ] ：判断$var变量是否有值
[ &ldquo;$a&rdquo; = &ldquo;$b&rdquo; ] ：判断$a和$b是否相等
-r file 用户可读为真
-w file 用户可写为真
-x file 用户可执行为真
-f file 文件为正规文件为真
-d file 文件为目录为真
-c file 文件为字符特殊文件为真
-b file 文件为块特殊文件为真
-s file 文件大小非0时为真
-t file 当文件描述符(默认为1)指定的设备为终端时为真
#########################################################
含条件选择的shell脚本 对于不含变量的任务简单shell脚本一般能胜任。但在执行一些决策任务时，就需要包含if/then的条件判断了。shell脚本编程支持此类运算，包括比较运算、判断文件是否存在等。基本的if条件命令选项有： - eq —比较两个参数是否相等（例如，if [ 2 –eq 5 ]）……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E9%80%BB%E8%BE%91%E8%A1%A8%E8%BE%BE%E5%BC%8Fifelse%E4%BB%A5%E5%8F%8A%E5%A4%A7%E4%BA%8E%E5%B0%8F%E4%BA%8E%E7%AD%89%E4%BA%8E/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E9%87%8D%E5%AE%9A%E5%90%91/" title="Linux中shell重定向">Linux中shell重定向</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E4%B8%ADshell%E9%87%8D%E5%AE%9A%E5%90%91/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E4%B8%AD%E4%BD%BF%E7%94%A8msmtpmuttshell%E8%87%AA%E5%8A%A8%E5%8F%91%E9%82%AE%E4%BB%B6%E7%A8%8B%E5%BA%8F%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/" title="Linux中使用Msmtpmuttshell自动发邮件程序安装说明">Linux中使用Msmtpmuttshell自动发邮件程序安装说明</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E4%B8%AD%E4%BD%BF%E7%94%A8msmtpmuttshell%E8%87%AA%E5%8A%A8%E5%8F%91%E9%82%AE%E4%BB%B6%E7%A8%8B%E5%BA%8F%E5%AE%89%E8%A3%85%E8%AF%B4%E6%98%8E/">阅读全文</a></p>
    </article>
    
    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/page/406/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/405/">405</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/406/">406</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/page/407/">407</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/408/">408</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/409/">409</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1960/">1960</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/page/408/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>