<!doctype html>
<html lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.59.1" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>开发者问答集锦 | </title>
    <meta property="og:title" content="开发者问答集锦 | ">
    <meta property="og:type" content="website">
    <meta name="Keywords" content="">
    <meta name="description" content="">
    <meta property="og:url" content="https://zaina.newban.cn/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <h1>
                        <a id="logo" href="https://zaina.newban.cn">
                            开发者问答集锦
                        </a>
                    </h1>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/windowsshell%E8%B7%AF%E5%BE%84%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0/" title="WindowsShell路径处理函数">WindowsShell路径处理函数</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            Windows Shell路径处理函数。以下函数由Shlwapi.dll导出，并在Shlwapi.h和Shlwapi.lib中定义。
PathAddBackslash 在字符串的末尾添加反斜杠，以创建路径的正确语法。如果源路径已经有一个尾部反斜杠，则不会添加反斜线。注意滥用此功能可能导致缓冲区溢出。我们建议在其位置使用更安全的PathCchAddBackslash或PathCchAddBackslashEx功能。 PathAddExtension 将文件扩展名添加到路径字符串。注意滥用此功能可能导致缓冲区溢出。我们建议在其位置使用更安全的PathCchAddExtension功能。 PathAppend 追加一条路径到另一条路径。注意滥用此功能可能导致缓冲区溢出。我们建议在其位置使用更安全的PathCchAppend或PathCchAppendEx函数。 PathBuildRoot 从给定的驱动器号创建根路径。 PathCanonicalize 通过移除诸如&quot;.&quot;和&quot;..&quot;这样的导航元素来简化路径，以产生一个直接的，形成良好的路径。 PathCombine 将表示正确形成的路径的两个串连接到一个路径中;也连接任何相对路径元素。注意滥用此功能可能导致缓冲区溢出。我们建议在其位置使用更安全的PathCchCombine或PathCchCombineEx函数。 PathCommonPrefix 比较两条路径，以确定它们是否共享公共前缀。前缀是以下类型之一：&quot;C:\\&quot;, &quot;.&quot;, &quot;..&quot;, &quot;..\\&quot;. PathCompactPath 通过用椭圆替换路径组件来截断文件路径以适应给定像素宽度。 PathCompactPathEx 通过用椭圆替换路径组件来截断一个适合一定数量字符的路径。 PathCreateFromUrl 将文件URL转换为Microsoft MS-DOS路径。 PathCreateFromUrlAlloc 从文件URL创建路径。 PathFileExists 确定文件系统对象（如文件或文件夹）的路径是否有效。 PathFindExtension 搜索路径中的扩展名。 PathFindFileName 搜索路径中的文件名。 PathFindNextComponent 解析路径并返回该路径的第一个反斜杠后面的部分。 PathFindOnPath 搜索文件。 PathFindSuffixArray 确定给定的文件名是否具有后缀列表之一。 PathGetArgs 查找给定路径中的命令行参数。 PathGetCharType 确定与路径相关的字符类型。 PathGetDriveNumber 搜索“A”到“Z”范围内的驱动器号的路径，并返回相应的驱动器号。 PathIsContentType 确定文件的注册内容类型是否与指定的内容类型匹配。此函数获取指定文件类型的内容类型，并将该字符串与pszContentType进行比较。比较不区分大小写。 PathIsDirectory 验证路径是否是有效的目录。 PathIsDirectoryEmpty 确定指定的路径是否为空目录。 PathIsFileSpec 搜索任何路径分隔字符的路径（例如，':'或'\'）。如果没有路径分隔字符存在，则该路径被认为是文件规范路径。 PathIsHTMLFile 确定文件是否为HTML文件。根据为文件扩展名注册的内容类型进行确定。 PathIsLFNFileSpec 确定文件名是否为长格式。 PathIsNetworkPath 确定路径字符串是否表示网络资源。 PathIsPrefix 搜索路径以确定它是否包含由pszPrefix传递的类型的有效前缀。前缀是以下类型之一：&quot;C:\\&quot;，&quot;.&quot;，&quot;..&quot;，&quot;..\\&quot;。 PathIsRelative 搜索路径并确定它是否相对。 PathIsRoot 确定路径字符串是否引用卷的根。 PathIsSameRoot 比较两个路径以确定它们是否具有公共根组件。 PathIsSystemFolder 确定现有文件夹是否包含使其成为系统文件夹的属性。或者，此功能指示某些属性是否将文件夹限定为系统文件夹。 PathIsUNC 确定路径字符串是否是有效的通用命名约定（UNC）路径，而不是基于驱动器号的路径。 PathIsUNCServer 确定字符串是否仅是服务器路径的有效UNC。 PathIsUNCServerShare 确定字符串是否为有效的UNC共享路径\\ server \ share。 PathIsURL 测试给定的字符串以确定它是否符合有效的URL格式。 PathMakePretty 将全大写路径转换为所有小写字符，以使路径保持一致的外观。 PathMakeSystemFolder 给现有的文件夹提供正确的属性成为一个系统文件夹。 PathMatchSpec 使用MS-DOS通配符匹配类型搜索字符串。 PathMatchSpecEx 从一个或多个文件名模式的路径匹配文件名。 PathParseIconLocation 解析包含文件位置和图标索引的文件位置字符串，并返回单独的值。 PathQuoteSpaces 搜索空格的路径。如果找到空格，整个路径都用引号括起来。 PathRelativePathTo 创建从一个文件或文件夹到另一个的相对路径。 PathRemoveArgs 从给定的路径移除任何参数。 PathRemoveBackslash 从给定的路径中删除尾随的反斜杠。注意此功能已弃用。我们建议在其位置使用PathCchRemoveBackslash或PathCchRemoveBackslashEx函数。 PathRemoveBlanks 从字符串中删除所有前导和尾随空格。 PathRemoveExtension 从路径中删除文件扩展名（如果存在）。注意此功能已弃用。我们建议在其位置使用PathCchRemoveExtension。 PathRemoveFileSpec 从路径中删除尾随的文件名和反斜杠（如果存在）。注意此功能已弃用。我们建议在其位置使用PathCchRemoveFileSpec功能。 PathRenameExtension 使用新的扩展名替换文件名的扩展名。如果文件名不包含扩展名，扩展名将被附加到字符串的末尾。注意滥用此功能可能导致缓冲区溢出。我们建议在其位置使用更安全的PathCchRenameExtension功能。 PathSearchAndQualify 确定给定的路径是否格式正确并完全限定。 PathSetDlgItemPath 在窗口或对话框中设置子控件的文本，使用PathCompactPath确保路径适合控件。 PathSkipRoot 检索指向驱动器号或UNC服务器/共享路径元素后的路径中的第一个字符的指针。 PathStripPath 删除完全限定路径和文件的路径部分。 PathStripToRoot 除去根信息之外的路径中的所有文件和目录元素。注意滥用此功能可能导致缓冲区溢出。我们建议在其位置使用更安全的PathCchStripToRoot功能。 PathUndecorate 从路径字符串中删除装饰。 PathUnExpandEnvStrings 用相关联的环境字符串替换完全限定路径中的某些文件夹名称。 PathUnmakeSystemFolder 从使其成为系统文件夹的文件夹中删除属性。该文件夹必须实际存在于文件系统中。 PathUnquoteSpaces 从路径的开头和末尾删除引号。 SHSkipJunction 检查绑定上下文以查看绑定到特定组件对象是否安全。 UrlApplyScheme 确定指定URL字符串的方案，并返回一个具有适当前缀的字符串。 UrlCanonicalize 将URL字符串转换为规范形式。 UrlCombine 当提供相对URL及其基础时，以规范形式返回URL。 UrlCompare 对两个URL字符串进行区分大小写的比较。 UrlCreateFromPath 将MS-DOS路径转换为规范化URL。 UrlEscape 将网址中的字符或代理对转换为可能会通过Internet传输（“不安全”字符）到其相应的转义序列中。代理对是U + 10000到U + 10FFFF（UTF-32）之间或DC00到DFFF（UTF-16）之间的字符。 UrlEscapeSpaces 将空格字符转换为相应的转义序列的宏。 UrlGetLocation 从URL检索位置。 UrlGetPart 接受URL字符串并返回该URL的指定部分。 UrlHash 哈希URL字符串。 UrlIs 测试URL是否是指定的类型。 UrlIsFileUrl 测试URL以确定它是否是文件URL。 UrlIsNoHistory 返回URL是否是浏览器通常不包含在导航历史记录中的URL。 UrlIsOpaque 返回URL是否不透明。 UrlUnescape 将转义序列转换回普通字符。 UrlUnescapeInPlace 将转义序列转换回普通字符并覆盖原始字符串。  ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/windowsshell%E8%B7%AF%E5%BE%84%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/windowsterminalpowershell%E7%BE%8E%E5%8C%96%E5%90%8E%E6%A0%87%E7%AD%BE%E7%AE%AD%E5%A4%B4%E4%B9%B1%E7%A0%81%E7%9A%84%E8%A7%A3%E5%86%B3%E4%BB%A5%E5%8F%8A%E5%9C%A8vscode%E4%B8%AD%E7%9A%84%E8%A7%A3%E5%86%B3/" title="WindowsTerminalPowerShell美化后标签箭头乱码的解决以及在VSCode中的解决">WindowsTerminalPowerShell美化后标签箭头乱码的解决以及在VSCode中的解决</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            今天无聊想着美化一下Windows Terminal，我照着这篇文章
知乎：https://zhuanlan.zhihu.com/p/104720872?utm_source=wechat_session
但是遇到了一些奇怪的问题：
#渲染错误

本来应该是这样的：
解决办法：
我找了半天发现貌似是字体问题，在渲染某些字符（比如 Git 相关符号）还会出乱码。所以换字体吧。
换什么？
适合代码阅读环境的等宽字体有「等距更纱黑体 SC」或者「Sarasa Mono SC Regular」，名称可能有细微差别，以自己情况为准。纱黑体 GitHub 页面
下载。
如果你完全没有中文字体需求（系统语言、终端语言、路径名称、环境变量等完全不含中文），你也可以尝试下一款专门为阅读代码设计的字体 JetBrains Mono
。不过官方说明暂时没有支持中文的计划，详见这个 Issue
。
当然你也可以尝试其他 PowerLine 字体
，安装后在 Settings 中做好与上面类似配置即可，至于有没有专门做好中文字体显示优化就要看你的选择了。
setting.json
加上这个修改字体 ，我用的是这个字体
&quot;fontFace&quot; : &quot;JetBrains Mono&quot;, { &quot;acrylicOpacity&quot; : 0.70, //亚克力背景透明度（需启用useAcrylic） &quot;background&quot; : &quot;#012456&quot;, //背景颜色，PS默认为蓝色 &quot;closeOnExit&quot; : true, //关闭窗口的时候退出所有挂载的程序 &quot;colorScheme&quot; : &quot;Dracula&quot;, //配色方案（Dracula需导入） &quot;commandline&quot; : &quot;powershell.exe&quot;, //此处终端打开PS &quot;cursorColor&quot; : &quot;#FFFFFF&quot;, //光标颜色 &quot;cursorShape&quot; : &quot;bar&quot;, //光标形状（默认为bar，即条状） &quot;fontFace&quot; : &quot;JetBrains Mono&quot;, &quot;fontSize&quot; : 12, &quot;guid&quot; : &quot;{61c54bbd-c2c6-5271-96e7-009a87ff44bf}&quot;, //唯一标识符，随机生成 &quot;historySize&quot; : 9001, //缓存大小 &quot;icon&quot; : &quot;ms-appx:///ProfileIcons/{61c54bbd-c2c6-5271-96e7-009a87ff44bf}.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/windowsterminalpowershell%E7%BE%8E%E5%8C%96%E5%90%8E%E6%A0%87%E7%AD%BE%E7%AE%AD%E5%A4%B4%E4%B9%B1%E7%A0%81%E7%9A%84%E8%A7%A3%E5%86%B3%E4%BB%A5%E5%8F%8A%E5%9C%A8vscode%E4%B8%AD%E7%9A%84%E8%A7%A3%E5%86%B3/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/windows%E4%B8%8Abashshell%E6%80%8E%E4%B9%88%E6%89%BE%E5%90%8E%E5%8F%B0%E8%BF%9B%E7%A8%8B/" title="windows上bashshell怎么找后台进程">windows上bashshell怎么找后台进程</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/windows%E4%B8%8Abashshell%E6%80%8E%E4%B9%88%E6%89%BE%E5%90%8E%E5%8F%B0%E8%BF%9B%E7%A8%8B/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/windows%E4%B8%8A%E4%BD%BF%E7%94%A8notepad%E7%BC%96%E8%BE%91shell%E8%84%9A%E6%9C%AC%E5%B9%B6%E9%80%9A%E8%BF%87cygwin%E8%BF%90%E8%A1%8C/" title="windows上使用notepad编辑shell脚本并通过cygwin运行">windows上使用notepad编辑shell脚本并通过cygwin运行</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/windows%E4%B8%8A%E4%BD%BF%E7%94%A8notepad%E7%BC%96%E8%BE%91shell%E8%84%9A%E6%9C%AC%E5%B9%B6%E9%80%9A%E8%BF%87cygwin%E8%BF%90%E8%A1%8C/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/windows%E4%B8%8A%E5%AE%89%E8%A3%85rubyonrails3/" title="Windows上安装rubyonrails3">Windows上安装rubyonrails3</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/windows%E4%B8%8A%E5%AE%89%E8%A3%85rubyonrails3/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/windows%E4%B8%8A%E5%AE%89%E8%A3%85rubyrails%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91/" title="windows上安装rubyrails的那些坑">windows上安装rubyrails的那些坑</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            写在前面的话
前几天工作上突然有个同事用ruby写了个简单的web应用，但是出现了点问题，然后要我看看&hellip;重来没接触过ruby的我
好吧，我先摸索一下，我的思路是这样的：首先得在本地搞好环境，把项目在本地跑起来，再看看相关的问题。
-&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-分割线&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;
官方有个guide介绍如何开始一个rails项目，地址如下：http://guides.rubyonrails.org/getting_started.html
假如你是windows，按照官网的教程一步一步安装下去，你会疯掉的。网络+环境问题，可能你好几个小时都无法把环境弄好。
。。。。
幸好搜索多了一些方法，发现一个更好的在windows安装ruby rails 环境的方法，地址如下： railsinstaller.org/en
看到介绍感觉太好了，赶紧下载，很顺利安装好了。这个软件把ruby rails的所有工具集成了，所以会很方便。
现在环境安装好了，那么开发还需要IDE工具会更好。搜索了很多推荐，觉得Aptana Studio这个t不错，eclipse系的，适合我的习惯，
关键功能还挺强大，真的值得。然而这个软件在windows上安装没有上面那个那么容易。
好吧，下载地址：http://www.aptana.com/products/studio3/download.html
当时最新版本的是Aptana_Studio_3_Setup_3.6.1.exe，官网有个介绍安装需要的环境，地址是https://github.com/aptana/studio3/wiki/Getting- Started
其实都挺多的，不过还好。安装过程如果出现问题会提示缺少什么的，比如我没有安装node.js，会提示这个，然后给出一个地址http://go.appcelerator.com/installer_nodejs_windows.msi，然后我根据这个地址下载到node-v8.9.1-x86.msi（如果已经安装了node.js，可能版本不对应安装也会失败，先把之前的node.js卸载，再根据提示地址重新下载安装好）。
记得node.js的安装要用管理员运行，在cmd上node -v 命令能看到就行了(记得node和Aptana的安装都用管理员身份安装就不会有问题，这样保证两个软件的权限是想通的)
如果node还是不通过，则去下载这个版本试下https://nodejs.org/dist/v0.10.13/x64/node-v0.10.13-x64.msi
IDE工具ruby的官网上也介绍了好多，自己可以选择
-&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;分割线&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;
感觉ruby的环境安装真不容易，比spark的环境还难……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/windows%E4%B8%8A%E5%AE%89%E8%A3%85rubyrails%E7%9A%84%E9%82%A3%E4%BA%9B%E5%9D%91/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/windows%E4%B8%8A%E9%9D%A2%E5%AE%89%E8%A3%9Drubyonrails/" title="Windows上面安裝RubyonRails">Windows上面安裝RubyonRails</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/windows%E4%B8%8A%E9%9D%A2%E5%AE%89%E8%A3%9Drubyonrails/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/windows%E4%B8%8Bbat%E8%84%9A%E6%9C%AC%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4%E5%92%8Clinux%E4%B8%8Bshell%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4/" title="Windows下bat脚本获取时间和Linux下shell命令获取时间">Windows下bat脚本获取时间和Linux下shell命令获取时间</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            1、Windows下bat脚本获取时间 （1）windows下DOS窗口date的结果 2016/09/03 周六，我们需要将其进行格式化显示，如：YYYY-MM-DD 就要进行如下操作：
日期截取遵从格式 %date:~x,y%，表示从第x位开始，截取y个长度(x,y的起始值为0)
年份从第0位开始截取4位，月份从第5位开始截取2位，日期从第8位开始截取2位
（2）windows下DOS窗口time的结果 12:05:49.02 我们需要将其进行格式化显示，如：HH:MM:SS就要进行如下操作：
时间截取遵从格式 %time:~x,y%，表示从第x位开始，截取y个长度(x,y的起始值为0)
时钟从第0位开始截取2位，分钟从第3位开始截取2位，秒钟从第6位开始截取2位
详见脚本DateTime.bat
[cpp] view plain copy
 :: 脚本创建时最好选择GB2312编码(方式很简单，新建txt文件，输入几个中文字符保存后将后缀.txt改成.bat) :: @echo off 表示不回显执行的命令 @echo off @echo =========Windows的原本日期时间格式======================= :: 设置变量，使用变量时需要用一对%包起来 set ORIGINAL_DATE=%date% echo %ORIGINAL_DATE% 9. @echo =========日期按照YYYY-MM-DD格式显示====================== :: 日期截取遵从格式 %date:~x,y%，表示从第x位开始，截取y个长度(x,y的起始值为0) :: windows下DOS窗口date的结果 2016/09/03 周六 :: 年份从第0位开始截取4位，月份从第5位开始截取2位，日期从第8位开始截取2位 set CURRENT_DATE=%date:~0,4%-%date:~5,2%-%date:~8,2% echo %CURRENT_DATE% 16. @echo =========时间按照HH:MM:SS格式显示======================== :: 时间截取遵从格式 %time:~x,y%，表示从第x位开始，截取y个长度(x,y的起始值为0) :: windows下DOS窗口time的结果 12:05:49.02 :: 时钟从第0位开始截取2位，分钟从第3位开始截取2位，秒钟从第6位开始截取2位 set CURRENT_TIME=%time:~0,2%:%time:~3,2%:%time:~6,2% echo %CURRENT_TIME% 23. @echo =========日期时间按照YYYY-MM-DD HH:MM:SS格式显示========= set CURRENT_DATE_TIME=%date:~0,4%-%date:~5,2%-%date:~8,2%-%time:~0,2%:%time:~3,2%:%time:~6,2% echo %CURRENT_DATE_TIME% 27.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/windows%E4%B8%8Bbat%E8%84%9A%E6%9C%AC%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4%E5%92%8Clinux%E4%B8%8Bshell%E5%91%BD%E4%BB%A4%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/windows%E4%B8%8Bbat%E8%84%9A%E6%9C%AC%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4%E5%AF%B9%E6%AF%94linux%E4%B8%8Bshell%E8%84%9A%E6%9C%AC%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4/" title="Windows下bat脚本获取时间对比Linux下shell脚本获取时间">Windows下bat脚本获取时间对比Linux下shell脚本获取时间</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            最近几天做了一项window下的打包工作，因为每天都要制作安装包，所以要设置一下时间戳，为此研究了一下Windows下bat脚本获取时间和Linux下shell脚本获取时间。
1、Windows下bat脚本获取时间 （1）windows下DOS窗口date的结果 2016/09/03 周六，我们需要将其进行格式化显示，如：YYYY-MM-DD 就要进行如下操作：
日期截取遵从格式 %date:~x,y%，表示从第x位开始，截取y个长度(x,y的起始值为0)
年份从第0位开始截取4位，月份从第5位开始截取2位，日期从第8位开始截取2位
（2）windows下DOS窗口time的结果 12:05:49.02 我们需要将其进行格式化显示，如：HH:MM:SS就要进行如下操作：
时间截取遵从格式 %time:~x,y%，表示从第x位开始，截取y个长度(x,y的起始值为0)
时钟从第0位开始截取2位，分钟从第3位开始截取2位，秒钟从第6位开始截取2位
详见脚本DateTime.bat
:: 脚本创建时最好选择GB2312编码(方式很简单，新建txt文件，输入几个中文字符保存后将后缀.txt改成.bat) :: @echo off 表示不回显执行的命令 @echo off @echo =========Windows的原本日期时间格式======================= :: 设置变量，使用变量时需要用一对%包起来 set ORIGINAL_DATE=%date% echo %ORIGINAL_DATE% @echo =========日期按照YYYY-MM-DD格式显示====================== :: 日期截取遵从格式 %date:~x,y%，表示从第x位开始，截取y个长度(x,y的起始值为0) :: windows下DOS窗口date的结果 2016/09/03 周六 :: 年份从第0位开始截取4位，月份从第5位开始截取2位，日期从第8位开始截取2位 set CURRENT_DATE=%date:~0,4%-%date:~5,2%-%date:~8,2% echo %CURRENT_DATE% @echo =========时间按照HH:MM:SS格式显示======================== :: 时间截取遵从格式 %time:~x,y%，表示从第x位开始，截取y个长度(x,y的起始值为0) :: windows下DOS窗口time的结果 12:05:49.02 :: 时钟从第0位开始截取2位，分钟从第3位开始截取2位，秒钟从第6位开始截取2位 set CURRENT_TIME=%time:~0,2%:%time:~3,2%:%time:~6,2% echo %CURRENT_TIME% @echo =========日期时间按照YYYY-MM-DD HH:MM:SS格式显示========= set CURRENT_DATE_TIME=%date:~0,4%-%date:~5,2%-%date:~8,2%-%time:~0,2%:%time:~3,2%:%time:~6,2% echo %CURRENT_DATE_TIME% @echo =========日期时间按照YYYYMMDD_HHMMSS格式显示============= set CURRENT_DATE_TIME_STAMP=%date:~0,4%%date:~5,2%%date:~8,2%_%time:~0,2%%time:~3,2%%time:~6,2% echo %CURRENT_DATE_TIME_STAMP% @echo =========================================================……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/windows%E4%B8%8Bbat%E8%84%9A%E6%9C%AC%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4%E5%AF%B9%E6%AF%94linux%E4%B8%8Bshell%E8%84%9A%E6%9C%AC%E8%8E%B7%E5%8F%96%E6%97%B6%E9%97%B4/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/windows%E4%B8%8Bdos%E5%91%BD%E4%BB%A4bat%E5%8E%9F%E7%90%86%E4%B8%8Elinuxshell/" title="windows下DOS命令BAT原理与Linuxshell">windows下DOS命令BAT原理与Linuxshell</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/windows%E4%B8%8Bdos%E5%91%BD%E4%BB%A4bat%E5%8E%9F%E7%90%86%E4%B8%8Elinuxshell/">阅读全文</a></p>
    </article>
    
    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/page/1551/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1550/">1550</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1551/">1551</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/page/1552/">1552</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1553/">1553</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1554/">1554</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1960/">1960</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/page/1553/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>