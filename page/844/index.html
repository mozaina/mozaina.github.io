<!doctype html>
<html lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.59.1" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>开发者问答集锦 | </title>
    <meta property="og:title" content="开发者问答集锦 | ">
    <meta property="og:type" content="website">
    <meta name="Keywords" content="">
    <meta name="description" content="">
    <meta property="og:url" content="https://zaina.newban.cn/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <h1>
                        <a id="logo" href="https://zaina.newban.cn">
                            开发者问答集锦
                        </a>
                    </h1>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%8D%E8%83%BD%E6%89%A7%E8%A1%8Csu%E5%90%8E%E7%9A%84%E8%84%9A%E6%9C%AC/" title="shell不能执行su后的脚本">shell不能执行su后的脚本</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%8D%E8%83%BD%E6%89%A7%E8%A1%8Csu%E5%90%8E%E7%9A%84%E8%84%9A%E6%9C%AC/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%8D%E8%83%BD%E6%89%A9%E5%B1%95%E5%AD%90%E7%B1%BB%E9%97%AE%E9%A2%98/" title="Shell不能扩展子类问题">Shell不能扩展子类问题</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%8D%E8%83%BD%E6%89%A9%E5%B1%95%E5%AD%90%E7%B1%BB%E9%97%AE%E9%A2%98/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%8E/" title="shell与">shell与</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%8E/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%8Eawkifforwhile%E6%AF%94%E8%BE%83/" title="shell与awkifforwhile比较">shell与awkifforwhile比较</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%8Eawkifforwhile%E6%AF%94%E8%BE%83/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%8Eawk%E5%AD%A6%E4%B9%A0%E5%A4%8D%E4%B9%A0%E4%BE%8B%E5%AD%90%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96%E5%88%A4%E6%96%AD/" title="shell与awk学习复习例子循环与字符串截取判断">shell与awk学习复习例子循环与字符串截取判断</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            1、采集sflow数据脚本
通过sflowrt解析sflow报文，然后通过sflowrt接口json数据获取需要的监控值。 #!/bin/sh curl_result=`curl http://localhost:8008/metric/10.0.2.4/json 2&gt;/dev/null` fiter_str=$1 result=`echo $curl_result | awk -F , -v awk_fiter=$fiter_str '{for(i=0;i` value=`echo $result| awk -F : '{print $2}'` echo $value 复习知识：不输出标准错误；awk分割域；awk外部变量赋值给内部自定义变量；awk for与if语句；NF变量；index函数使用。  2、判断挂载在操作系统上的文件系统是否可写脚本
#!/bin/bash for tmpPath in `df -h | grep '%' |awk 'NR!=1 { for(i=0; i` do if `echo &quot;hello&quot; &gt; ${tmpPath}&quot;/hello.txt&quot; `; then echo $tmpPath &quot;write&quot; rm ${tmpPath}&quot;/hello.txt&quot; else echo $tmpPath &quot;not write&quot; fi done 复习知识：shell for和if语句；awk NR变量与~匹配操作符用法。  3、判断文件系统目录属性
由2例子变化而来 #!/bin/bash for tmpPath in `df -h | grep '%' |awk 'NR!……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%8Eawk%E5%AD%A6%E4%B9%A0%E5%A4%8D%E4%B9%A0%E4%BE%8B%E5%AD%90%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96%E5%88%A4%E6%96%AD/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%8Eawk%E7%9A%84%E8%84%9A%E6%9C%AC%E8%BF%90%E7%94%A8%E4%B8%80/" title="shell与awk的脚本运用一">shell与awk的脚本运用一</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            #!/bin/bash#shell声明
b=ls *.txt #列出当前目录下所有log结尾的文件
for log in $b #循环每一个log文件
do
b=awk 'END{print NR}' $log #获取当前循环文化最后一行的行号
for i in seq $b #循环多少次，一行循环一次
do
ybs=cat $log |grep 2222 |awk -v bl=$i -F'|' 'NR==bl{print $12 - $13}' #grep出当前文件带2222的信息，然后awk定义当前行号为bl，以|为分隔符，然后输出$12减去$13的和
userid=cat $log|grep 2222|awk -v bl=$i -F'|' 'NR==bl{print $6}' #大致同上，只是输出userid字段
username=cat $log|grep 2222|awk -v bl=$i -F'|' 'NR==bl{print $7}' #大致同上，只是输出username字段
echo &ldquo;$userid $ybs $username&rdquo; &gt;&gt; /tmp/test/info.txt #将他们输出到info.txt文件中，这样就获取到了所有符合条件的userid,ybs,username
done
done
b=cat /tmp/test/info.txt |sort -k 1,1 -u |awk '{print $1}' #获取所有玩家去重后的id……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%8Eawk%E7%9A%84%E8%84%9A%E6%9C%AC%E8%BF%90%E7%94%A8%E4%B8%80/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%8Eawk%E7%9A%84%E8%84%9A%E6%9C%AC%E8%BF%90%E7%94%A8%E4%BA%8C/" title="shell与awk的脚本运用二">shell与awk的脚本运用二</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            话不多说，老板，上硬菜
#!/bin/bash #shell脚本声明
a=ls log*#将当前目录下的log开头的日志文件名称存入变量a
for i in $a #开始循环变量a
do #进入循环
echo $i #输出文件名
b=cat $i|awk -F'|' '{print $NF&quot;-&quot;NR}'#定义变量b为文件中每一行最后一个以|为分隔符的参数和行号，输出来是这样的：11-1，11是最后一个参数，1是行号
for x in $b #开始循环变量b，循环每一行的最后一个参数和行号
do #进入循环
c=echo $x|awk -F'-' '{print $1}' #定义变量c为最后一个参数的值
v=echo $x|awk -F'-' '{print $2}' #定义变量v为行号
if [ &ldquo;$c&rdquo; == &ldquo;30&rdquo; ];then #判断最后一个参数是否为30
pd=echo $x|awk -F'|' '{print $11}' #如果条件为真，获取那一行$11的值并存为变量pd
if [[ $pd -gt 10000 ]] #判断pd的值是否大于10000
then
d=awk -v bl=$v 'NR==bl{print}' $i #如果大于10000则将那一行的数据存为变量d
echo &ldquo;$d&rdquo; &gt;&gt; /tmp/$i.txt #将那一行的数据追加到/tmp/目录下的新文件中，新文件名字为当前循环的日志文件名……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%8Eawk%E7%9A%84%E8%84%9A%E6%9C%AC%E8%BF%90%E7%94%A8%E4%BA%8C/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%8Ec/" title="Shell与C">Shell与C</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%8Ec/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%8Ecmd%E7%9A%84%E5%BC%82%E5%90%8C/" title="shell与cmd的异同">shell与cmd的异同</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            shell可以说是cmd的升级版、补充版。
当然shell在原来CMD基础上做了很多修改、调整的，且增加了很多命令及命令别名。
工具/原料  电脑
 Cmd
 PowerShell
  方法/步骤  CMD和powershell都可以通过运行命令打开，如图。  
 shell在原来CMD基础上做了很多修改，包含命令名称，代码色彩搭配等。  shell命令与cmd命令差别示例，如图。

 别名是在原来命令的基础上为了方便、简单、便与记忆缩写而来。与原长命令运行结果相同。  
 在powerShell中可以通过alias、gal或者get-alias命令查看原长命令及别名。  
 其他可以通过运行执行的命令：  Windows常用工具类 运行程序 运行命令
记事本 notepad
计算器 calc
画图 mspaint
写字板 write
Windows放大镜 magnify
辅助工具管理器 utilman
Telnet客户端 telnet
任务管理器 taskmgr
关闭Windows shutdown
扫描仪与相机 sticpl.cpl
远程桌面 mstsc
可移动存储 ntmsmgr.msc
注册表编辑器 regedit
TrueType造字程序 eudcedit
打印机文件夹 printers
打印机和传真 control printers
控制面板 control……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%8Ecmd%E7%9A%84%E5%BC%82%E5%90%8C/">阅读全文</a></p>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%8Edisplay%E7%9A%84%E5%8C%BA%E5%88%AB/" title="Shell与Display的区别">Shell与Display的区别</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            Display:与操作系统沟通的桥梁
我们在前面说过，每个swt程序在最开始都必须创建一个Display对象，它所起的作用就是担当swt与操作系统沟通的一座桥梁。
Display对象主要负责swt和操作系统的通信，它将swt的各种调用转化为操作系统的底层调用，控制操作系统为swt分配的资源。
Display实际上担当着“幕后工作者”的身份，它为swt屏蔽了对操作系统图形资源的调用，但是在你创建的图形用户界面中看不到它的影子。
import org.eclipse.swt.SWT; import org.eclipse.swt.widgets.Display; import org.eclipse.swt.widgets.Text; import org.eclipse.swt.widgets.Shell; import org.eclipse.swt.graphics.*; class HelloSWT { public static void main(String[] args) { Display display=new Display();//创建一个display对象。 Shell shell=new Shell(display);//shell是程序的主窗体 shell.setLayout(null); //设置shell的布局方式 Text hello=new Text(shell,SWT.MULTI); //声明一个可以显示多行信息的文本框 shell.setText(&quot;Java应用程序&quot;); //设置主窗体的标题 shell.setSize(200,100); //设置主窗体的大小 Color color=new Color(Display.getCurrent(),255,255,255);//声明颜色对象 shell.setBackground(color); //设置窗体的背景颜色 hello.setText(&quot;Hello, SWT World!\n\n你好，SWT世界！&quot;);//设置文本框信息 hello.pack(); //自动调整文本框的大小 //shell.pack(); //自动调整主窗体的大小 shell.open(); //打开主窗体 while(!shell.isDisposed()){ //如果主窗体没有关闭则一直循环 if(!display.readAndDispatch()){ //如果display不忙 display.sleep(); //休眠 } } display.dispose(); //销毁display } }  Shell的setSize()方法用来指定要显示的window的大小，示例代码中是宽200像素，高200像素
Shell的open()方法用来在显示设备上显示window，如果不调用open方法，会发现没有任何window显示出来，虽然这个window已经在内存中被创建了。
Shell的isDispose()方法用来判断window是否已经被关闭
Display的readAndDispath()方法用来监听并分派Shell上产生的各种事件并分发给相应的处理程序……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%8Edisplay%E7%9A%84%E5%8C%BA%E5%88%AB/">阅读全文</a></p>
    </article>
    
    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/page/843/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/842/">842</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/843/">843</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/page/844/">844</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/845/">845</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/846/">846</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/page/1960/">1960</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/page/845/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>