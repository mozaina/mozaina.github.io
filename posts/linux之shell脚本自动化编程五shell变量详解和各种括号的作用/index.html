<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Linux之shell脚本自动化编程五shell变量详解和各种括号的作用 | 开发者问答集锦</title>
    <meta property="og:title" content="Linux之shell脚本自动化编程五shell变量详解和各种括号的作用 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="Linux之shell脚本自动化编程五shell变量详解和各种括号的作用">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/linux%E4%B9%8Bshell%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E5%8C%96%E7%BC%96%E7%A8%8B%E4%BA%94shell%E5%8F%98%E9%87%8F%E8%AF%A6%E8%A7%A3%E5%92%8C%E5%90%84%E7%A7%8D%E6%8B%AC%E5%8F%B7%E7%9A%84%E4%BD%9C%E7%94%A8/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Linux之shell脚本自动化编程五shell变量详解和各种括号的作用</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h1 id="一些基础知识">一些基础知识</h1>

<p><a href="https://img.it610.com/image/info8/da4388bc4deb4e7eb69246e3f23513f2.jpg"><img src="https://img.it610.com/image/info8/da4388bc4deb4e7eb69246e3f23513f2.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第1张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/e4cb1ab3475048caae36ed14ee3543c4.jpg"><img src="https://img.it610.com/image/info8/e4cb1ab3475048caae36ed14ee3543c4.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第2张图片" /></a></p>

<p>最常用的还是我们的bash。今天我们主要学习一下shell变量。</p>

<h1 id="shell变量">shell变量</h1>

<p><a href="https://img.it610.com/image/info8/e067ab7334a24f28805246db96ccfdf4.jpg"><img src="https://img.it610.com/image/info8/e067ab7334a24f28805246db96ccfdf4.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第3张图片" /></a></p>

<p>首先先来了解一下shell变量的命名规则，参考了<a href="http://www.runoob.com/linux/linux-shell-variable.html">http://www.runoob.com/linux/linux-shell-variable.html</a></p>

<p>和c语言是一样的，因为linux内核就是c写的嘛。</p>

<p><a href="https://img.it610.com/image/info8/2e1a94adbb2c4026966fcc71eb2e3c01.jpg"><img src="https://img.it610.com/image/info8/2e1a94adbb2c4026966fcc71eb2e3c01.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第4张图片" /></a></p>

<p>保留的关键字还是蛮多的。</p>

<p><a href="https://img.it610.com/image/info8/1edf17d5e1944c43a6e7df4a7211edce.jpg"><img src="https://img.it610.com/image/info8/1edf17d5e1944c43a6e7df4a7211edce.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第5张图片" /></a></p>

<p>以前我们赋值用了let，其实不需要用的。</p>

<p><a href="https://img.it610.com/image/info8/363104c9386c41b9af44bf7a1fb2232b.jpg"><img src="https://img.it610.com/image/info8/363104c9386c41b9af44bf7a1fb2232b.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第6张图片" /></a></p>

<p>变量名和等号之间，等号和值之间都不能有空格，不然会报错。不过文件名的条件就比较宽松了。</p>

<p><a href="https://img.it610.com/image/info8/55037811dc5f45d38b9ba21535dba368.jpg"><img src="https://img.it610.com/image/info8/55037811dc5f45d38b9ba21535dba368.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第7张图片" /></a></p>

<p>下面具体认识一下环境变量和局部变量。参考了<a href="https://blog.csdn.net/apollon_krj/article/details/70148022">https://blog.csdn.net/apollon_krj/article/details/70148022</a></p>

<p><a href="https://img.it610.com/image/info8/e271972619854eb0af7c0f7036757889.jpg"><img src="https://img.it610.com/image/info8/e271972619854eb0af7c0f7036757889.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第8张图片" /></a></p>

<p>env看一下环境变量还是挺多的。</p>

<p><a href="https://img.it610.com/image/info8/d863e0dfdb5a47c1b7bd5fc8d587bd03.jpg"><img src="https://img.it610.com/image/info8/d863e0dfdb5a47c1b7bd5fc8d587bd03.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第9张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/fdf4a9ca4fde46bb8243d13cf0fa6213.jpg"><img src="https://img.it610.com/image/info8/fdf4a9ca4fde46bb8243d13cf0fa6213.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第10张图片" /></a></p>

<p>unset的取消是一次性的，看到unset以后，~也变成了root了，因为以前root的HOME变量就是root的家/root，但是现在HOME变量已经没有了。</p>

<p><a href="https://img.it610.com/image/info8/beb17f7991c74a359d9899302691f73e.jpg"><img src="https://img.it610.com/image/info8/beb17f7991c74a359d9899302691f73e.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第11张图片" /></a></p>

<p>我们可以再人为给HOME赋值回去，然后发现~又回来了。当然我们还可以赋别的值，不过这些都是暂时的，再开一个会话就会恢复正常了，因为这些更改都没有改变配置文件的内容。</p>

<p><a href="https://img.it610.com/image/info8/edb81ed62fc046a184d0df3add594221.gif"><img src="https://img.it610.com/image/info8/edb81ed62fc046a184d0df3add594221.gif" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第12张图片" /></a></p>

<p>在配置文件里面改动的话，我们就在/etc/bashrc里面改动吧。</p>

<p><a href="https://img.it610.com/image/info8/890b857c38274755beb2f226a673e803.gif"><img src="https://img.it610.com/image/info8/890b857c38274755beb2f226a673e803.gif" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第13张图片" /></a></p>

<p>看到新开的已经是更新了，不过当前shell里面需要.或者source执行一下。一次性定义环境变量有如下方法。不过都是一次性的。</p>

<p><a href="https://img.it610.com/image/info8/68e1896dcc7c4341a88747af03be1bfb.jpg"><img src="https://img.it610.com/image/info8/68e1896dcc7c4341a88747af03be1bfb.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第14张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/0e3a8278f9cb4de99f0a61d6167b7a6f.gif"><img src="https://img.it610.com/image/info8/0e3a8278f9cb4de99f0a61d6167b7a6f.gif" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第15张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/590191f6977940a6b411e0b980beb5a0.jpg"><img src="https://img.it610.com/image/info8/590191f6977940a6b411e0b980beb5a0.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第16张图片" /></a></p>

<p>如果在shell里赋值而不不加export，不会出现在env命令(environment)打印出来的环境变量中。</p>

<p><a href="https://img.it610.com/image/info8/7ba391d5a20d447284f1235d5cfc18b3.jpg"><img src="https://img.it610.com/image/info8/7ba391d5a20d447284f1235d5cfc18b3.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第17张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/20bcdadbedba44d39e0a5b379244f2ca.jpg"><img src="https://img.it610.com/image/info8/20bcdadbedba44d39e0a5b379244f2ca.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第18张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/8606d453d78f43e08ac5d65e2991ed61.jpg"><img src="https://img.it610.com/image/info8/8606d453d78f43e08ac5d65e2991ed61.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第19张图片" /></a></p>

<p>确实awk命令里面正好和echo里面是反过来的，而且awk里面单引号即使用反斜杠转义还是打不出来$a。</p>

<p><a href="https://img.it610.com/image/info8/368918ef807c405dba69ec8876d91986.jpg"><img src="https://img.it610.com/image/info8/368918ef807c405dba69ec8876d91986.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第20张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/11432025eb35438aa83fb7a16344830a.jpg"><img src="https://img.it610.com/image/info8/11432025eb35438aa83fb7a16344830a.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第21张图片" /></a></p>

<p>如果不加大括号没有解析的原因应该是没有cmd<em>kang变量，这个其实不是歧义，这个解析的时候应该是遇到非法字符才会停止，可以说是一种贪婪解析，解析不成功的话，命令还是会执行，但是会直接放弃不能解析的字符，所以结果是code</em>.tar.gz，中间没有解析成的$cmd_kang直接丢弃或者说因为没有这个变量所以是空的。tar命令这里复习了一下,c是打包,f是执行文件路径，z是压缩格式是gz。</p>

<p><a href="https://img.it610.com/image/info8/fcb342a5de8a452f8ccb0def15b16827.jpg"><img src="https://img.it610.com/image/info8/fcb342a5de8a452f8ccb0def15b16827.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第22张图片" /></a></p>

<p>给cmd_kang赋值以后可以解析成功，不过我们其实只是想解析cmd而已，那么我们加一个大括号即可。</p>

<p><a href="https://img.it610.com/image/info8/cd8d86efbd5645cea6cfc235761dab76.jpg"><img src="https://img.it610.com/image/info8/cd8d86efbd5645cea6cfc235761dab76.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第23张图片" /></a></p>

<p>小括号不行，因为以前其实有过小括号是在子shell里面执行命令，里面必须是命令，中括号也不行，中括号是字符匹配用的，所以用了大括号。</p>

<p><a href="https://img.it610.com/image/info8/5fd3954ad01548dd98ba8a975ec7f87d.jpg"><img src="https://img.it610.com/image/info8/5fd3954ad01548dd98ba8a975ec7f87d.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第24张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/81e0723076064bdd82d87404e66f5ec0.jpg"><img src="https://img.it610.com/image/info8/81e0723076064bdd82d87404e66f5ec0.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第25张图片" /></a></p>

<p>下面看到的特殊变量在env是没有的，所以不算是环境变量。</p>

<p><a href="https://img.it610.com/image/info8/8962dfa65a4245949909411c1b24d7ec.jpg"><img src="https://img.it610.com/image/info8/8962dfa65a4245949909411c1b24d7ec.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第26张图片" /></a></p>

<p>不过在/etc/bashrc里面有*。</p>

<p><a href="https://img.it610.com/image/info8/87b34b086f6c4484bee64bd9ee123b9f.jpg"><img src="https://img.it610.com/image/info8/87b34b086f6c4484bee64bd9ee123b9f.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第27张图片" /></a></p>

<p>但是@就没有。</p>

<p><a href="https://img.it610.com/image/info8/7a1604f544ec4612bd8d2d92c10f18fe.jpg"><img src="https://img.it610.com/image/info8/7a1604f544ec4612bd8d2d92c10f18fe.jpg" alt="" /></a></p>

<p><a href="https://img.it610.com/image/info8/53cd7a55815b4d019cb9fc1d44a8eddd.jpg"><img src="https://img.it610.com/image/info8/53cd7a55815b4d019cb9fc1d44a8eddd.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第28张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/a71b7d9ba6c549eea5ad3f42363fd591.jpg"><img src="https://img.it610.com/image/info8/a71b7d9ba6c549eea5ad3f42363fd591.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第29张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/85bd3f2f4f9d46c0b11157b7fb7ff5c9.jpg"><img src="https://img.it610.com/image/info8/85bd3f2f4f9d46c0b11157b7fb7ff5c9.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第30张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/d3a36e0385e346c89fc5fa78e1c72026.jpg"><img src="https://img.it610.com/image/info8/d3a36e0385e346c89fc5fa78e1c72026.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第31张图片" /></a></p>

<p>脚本后面跟了三个用空格隔开的参数，$#就是3，$1,$2分别就是后面跟着的第一个和第二个参数。上面暂时看不出来$*和$@的区别。</p>

<p><a href="https://img.it610.com/image/info8/177eebe2a6aa424da61b86faec635305.jpg"><img src="https://img.it610.com/image/info8/177eebe2a6aa424da61b86faec635305.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第32张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/a5ef4be456a541e4a9f58afa653606af.jpg"><img src="https://img.it610.com/image/info8/a5ef4be456a541e4a9f58afa653606af.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第33张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/df8673f6b25441aeb34f4e56e4809031.png"><img src="https://img.it610.com/image/info8/df8673f6b25441aeb34f4e56e4809031.png" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第34张图片" /></a></p>

<p>上面$?在脚本里的应用可能暂时看不懂，后面学习if之后就开可以看懂了。</p>

<p><a href="https://img.it610.com/image/info8/8950f5bca84443079f6ccc175a1794e0.jpg"><img src="https://img.it610.com/image/info8/8950f5bca84443079f6ccc175a1794e0.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第35张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/31d9f0da043c4f8ca26a8f5519297448.jpg"><img src="https://img.it610.com/image/info8/31d9f0da043c4f8ca26a8f5519297448.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第36张图片" /></a></p>

<p>这里只读变量最好不要轻易设定，因为在当前会话里面已经该不回去了，好在这样定义变量是一次性的，重启之后或者重开一个会话变量就没了，我们在写脚本的时候设置一个了一个只读变量想该回去也很简单，只需要把脚本里的readonly删掉，然后重新加载一遍配置文件就好了。</p>

<p><a href="https://img.it610.com/image/info8/a551315a1f9941d098f297a71440d74e.gif"><img src="https://img.it610.com/image/info8/a551315a1f9941d098f297a71440d74e.gif" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第37张图片" /></a></p>

<p>shell变量还可以是字符串，前面其实也有过。</p>

<h1 id="字符串的相关操作"><strong>字符串的相关操作</strong></h1>

<p><a href="https://img.it610.com/image/info8/286c308a3b304266ba19903ea66ce4f1.jpg"><img src="https://img.it610.com/image/info8/286c308a3b304266ba19903ea66ce4f1.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第38张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/25c25013258b45b5a1fc4d22f2cf7f17.png"><img src="https://img.it610.com/image/info8/25c25013258b45b5a1fc4d22f2cf7f17.png" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第39张图片" /></a></p>

<p>echo是shell内置命令，awk不是，这或许就是单双引号有差异的原因了。</p>

<p><a href="https://img.it610.com/image/info8/af030166565c4f78b5779dbb7ebf7f02.png"><img src="https://img.it610.com/image/info8/af030166565c4f78b5779dbb7ebf7f02.png" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第40张图片" /></a></p>

<p>其实我们我们可以不用引号，只要在需要有空格或者打印一些元字符的时候可以用到引号或者反斜杠。在单引号里双引号被视为一般的字符，在双引号里单引号也是一样，但是在单引号里再写单引号，必须配对，双引号里再写双引号，要么反斜杠，要么配对。</p>

<p><a href="https://img.it610.com/image/info8/ac9addd389e64ae19f9f13010f54aa16.jpg"><img src="https://img.it610.com/image/info8/ac9addd389e64ae19f9f13010f54aa16.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第41张图片" /></a></p>

<p>其实字符串拼接也不一定要用引号，不过!用双引号好像打不出来，用单引号可以打出来叹号。</p>

<p><a href="https://img.it610.com/image/info8/a38500935bd24146930b1444473c0f5e.png"><img src="https://img.it610.com/image/info8/a38500935bd24146930b1444473c0f5e.png" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第42张图片" /></a></p>

<p>单引号里面应该即使有变量也不会替换才对，但是我们看到了两对单引号里面还是替换了。</p>

<p><a href="https://img.it610.com/image/info8/0e9c459960bb4d3e8735d6eef81879a1.png"><img src="https://img.it610.com/image/info8/0e9c459960bb4d3e8735d6eef81879a1.png" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第43张图片" /></a></p>

<p>单引号有点意思，2个单引号好像就相当于一个双引号，所以偶数对单引号里面的变量可以替换。expr是个不错的命令，可以用正则表达式匹配查找字符串，还可以看字符串的长度。</p>

<p><a href="https://img.it610.com/image/info8/60807079649a4719b430a6ad66f0386a.jpg"><img src="https://img.it610.com/image/info8/60807079649a4719b430a6ad66f0386a.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第44张图片" /></a></p>

<p>${#string}可以求string的长度，这个花括号一定要加，不然的话先执行了$#，就是0，然后a是单独的。这个字符串分片中第二个冒号的作用和python是一样的，不过没有负向索引。</p>

<p><a href="https://img.it610.com/image/info8/b6d448bfd3214a62b6c6b83fd4c7a1ea.jpg"><img src="https://img.it610.com/image/info8/b6d448bfd3214a62b6c6b83fd4c7a1ea.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第45张图片" /></a></p>

<p>expr index string
要匹配的字符串可以返回匹配到的字符串的第一个字符的下标，注意expr命令这里面下标是从1开始的，如果返回0，就是没匹配到。expr length
string可以打印字符串的长度，expr string : 正则表达式匹配模式，不过这个正则和python里面的还不太一样，今天我们就先不要深究了。</p>

<p><a href="https://img.it610.com/image/info8/ba000e2876ce41acb6f78095c0d840d6.jpg"><img src="https://img.it610.com/image/info8/ba000e2876ce41acb6f78095c0d840d6.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第46张图片" /></a></p>

<p>还有一个比较有用的是字符串截取。</p>

<p><a href="https://img.it610.com/image/info8/ef5bde08bea04570b7b1fe52a69197c7.jpg"><img src="https://img.it610.com/image/info8/ef5bde08bea04570b7b1fe52a69197c7.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第47张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/1cfd46f487544f9db9ecb43b0844bef2.jpg"><img src="https://img.it610.com/image/info8/1cfd46f487544f9db9ecb43b0844bef2.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第48张图片" /></a></p>

<p>这个星号必不可少，它的位置代替了被删除的字符，比如说#是删除左边的字符，那么*的位置就在//左边，要删除右边的*的位置就在/右边。前面我其实误解了${a:0:2}第二个冒号的意思，和python里面的并不一样。第二个冒号后面的参数是字符个数而不是最后的字符下标。而python里面是切片的最后一个字符串的索引+1,因为不包含右边。</p>

<p><a href="https://img.it610.com/image/info8/1b3512d900a24566a200282b3a483f7d.jpg"><img src="https://img.it610.com/image/info8/1b3512d900a24566a200282b3a483f7d.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第49张图片" /></a></p>

<p>${a:0:2}和a[0:2]的结果一样是因为${a:0:2}从0号字符开始，一共两个字符，那么ab就完事了。</p>

<p>a[0:2]是从0号字符开始到2-1=1号字符结束，不包含2号字符，这就是恰好一样的原因。那么${a:1:2}和a[1:2]结果为什么不一样相信大家也都会分析了。</p>

<p><a href="https://img.it610.com/image/info8/0173c18d2ba840cda447dbf9c144ee5c.jpg"><img src="https://img.it610.com/image/info8/0173c18d2ba840cda447dbf9c144ee5c.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第50张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/76228646f45d4eda835f8fdd4a13bb63.jpg"><img src="https://img.it610.com/image/info8/76228646f45d4eda835f8fdd4a13bb63.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第51张图片" /></a></p>

<p>不过无论起始点在左边还是右边，bash里面总是从左向右截取的，python里面可以把步长设为负的，从右向左截取。</p>

<h1 id="数组">数组</h1>

<p><a href="https://img.it610.com/image/info8/22953149fe1b4f60be61200e6ce0c95b.jpg"><img src="https://img.it610.com/image/info8/22953149fe1b4f60be61200e6ce0c95b.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第52张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/c7f6a217614a436e993baadae42a9f2a.jpg"><img src="https://img.it610.com/image/info8/c7f6a217614a436e993baadae42a9f2a.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第53张图片" /></a></p>

<p>用${a[*]}也可以打印所有元素。我们看到echo
$a是打印了a的0号元素，这让我回想起当时学c语言的数组的时候，a这个数组名指向的是a的第一个元素，a就是a中元素的首地址，这里应该也是这个原因了。</p>

<p><a href="https://img.it610.com/image/info8/5c7be345c88442df81b2f0b18d63fe01.png"><img src="https://img.it610.com/image/info8/5c7be345c88442df81b2f0b18d63fe01.png" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第54张图片" /></a></p>

<p>bash里面必须要用小括号，中间空格分隔的才是不同的元素，逗号不是分隔符，只是一个字符串而已。</p>

<p><a href="https://img.it610.com/image/info8/8980687b254a489b960b0c85f4d8c873.png"><img src="https://img.it610.com/image/info8/8980687b254a489b960b0c85f4d8c873.png" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第55张图片" /></a></p>

<h1 id="shell的注释">SHELL的注释</h1>

<p><a href="https://img.it610.com/image/info8/3fdc6e38e08c424aa2073abc0afb05dd.jpg"><img src="https://img.it610.com/image/info8/3fdc6e38e08c424aa2073abc0afb05dd.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第56张图片" /></a></p>

<p>我们就先不试函数的那种多行注释的方法了。来试试下面的。</p>

<p><a href="https://img.it610.com/image/info8/737394ecf5464bffba2f667f79b19e4f.jpg"><img src="https://img.it610.com/image/info8/737394ecf5464bffba2f667f79b19e4f.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第57张图片" /></a></p>

<p>看到确实ls和ps
aux都没有执行，也就是被作为注释了。这个冒号其实也可以做注释符，不过后面需要加一个空格才可以。关于冒号，参考了<a href="https://blog.csdn.net/kankan_summer/article/details/8236475#t0">https://blog.csdn.net/kankan_summer/article/details/8236475#t0</a></p>

<p><a href="https://img.it610.com/image/info8/711aa3dc94424701bfd0b62edce0bebd.jpg"><img src="https://img.it610.com/image/info8/711aa3dc94424701bfd0b62edce0bebd.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第58张图片" /></a></p>

<h1 id="read">Read</h1>

<p><a href="https://img.it610.com/image/info8/2922ac963de447d3a0db2341d2426ec1.jpg"><img src="https://img.it610.com/image/info8/2922ac963de447d3a0db2341d2426ec1.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第59张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/b478046f1b494e5bab241ad19f0afbd4.jpg"><img src="https://img.it610.com/image/info8/b478046f1b494e5bab241ad19f0afbd4.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第60张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/9f0a290024dd47af9adada7fd32fca21.jpg"><img src="https://img.it610.com/image/info8/9f0a290024dd47af9adada7fd32fca21.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第61张图片" /></a></p>

<p>要想加一些提示语句，就必须要有-p。看到各种括号是不是已经头晕脑胀了呢？$[a+b]又是什么意思呢？下面我们就来总结一下各种括号。</p>

<h1 id="linux中的各种括号">Linux中的各种括号</h1>

<p>参考了<a href="https://blog.csdn.net/AhhSong/article/details/76650391">https://blog.csdn.net/AhhSong/article/details/76650391</a></p>

<p><a href="https://img.it610.com/image/info8/177643158b0d44f3909099977e9fb3c5.jpg"><img src="https://img.it610.com/image/info8/177643158b0d44f3909099977e9fb3c5.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第62张图片" /></a></p>

<p>上面四条我们前面都使用过也演示过。</p>

<p><a href="https://img.it610.com/image/info8/a5981fda77634a94bdb01dd338cdc8d7.jpg"><img src="https://img.it610.com/image/info8/a5981fda77634a94bdb01dd338cdc8d7.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第63张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/958721c4ce3248b3ad90a4bed43423f3.jpg"><img src="https://img.it610.com/image/info8/958721c4ce3248b3ad90a4bed43423f3.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第64张图片" /></a></p>

<p>目前也就是双小括号或者expr可以进行一些运算了，当然[]也可以。</p>

<p><a href="https://img.it610.com/image/info8/c836f07419d3465c9ee003ff55474eb9.jpg"><img src="https://img.it610.com/image/info8/c836f07419d3465c9ee003ff55474eb9.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第65张图片" /></a></p>

<p>这个进制转换前面的16是原来的进制，后面的5f是原来十六进制数，5f=5*16+5=95。8#70就是7*8+0=56。</p>

<p><a href="https://img.it610.com/image/info8/7324e90430b44b6a9c8464bb0f34f4b9.jpg"><img src="https://img.it610.com/image/info8/7324e90430b44b6a9c8464bb0f34f4b9.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第66张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/cd20c4c7ad90435f866a24b8dfa339a4.jpg"><img src="https://img.it610.com/image/info8/cd20c4c7ad90435f866a24b8dfa339a4.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第67张图片" /></a></p>

<p>关于表达式和文件测试，参考了<a href="https://www.cnblogs.com/china1/p/5935999.html。这里重复一个很重要的点，bash里面是负逻辑不是正逻辑，负逻辑就是真为0，假为1。">https://www.cnblogs.com/china1/p/5935999.html。这里重复一个很重要的点，bash里面是负逻辑不是正逻辑，负逻辑就是真为0，假为1。</a></p>

<p>op就是operation，运算符的意思。</p>

<p><a href="https://img.it610.com/image/info8/374531026b08440a92bb5215c79e669f.jpg"><img src="https://img.it610.com/image/info8/374531026b08440a92bb5215c79e669f.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第68张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/3a4fcdf645904ec8933cf0c91ac8573b.jpg"><img src="https://img.it610.com/image/info8/3a4fcdf645904ec8933cf0c91ac8573b.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第69张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/d96aefdc5f974057820dc88953c3e9a4.jpg"><img src="https://img.it610.com/image/info8/d96aefdc5f974057820dc88953c3e9a4.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第70张图片" /></a></p>

<p>上面其实也写有，字符串判断相等可以用=，不过更普遍的还是==。用[]判断的话，左右必须有一个空格，操作数和运算符之间也必须有空格，得到的结果才是对的，可以看一看上图红色箭头指向的两行。</p>

<p><a href="https://img.it610.com/image/info8/b4ec53f86b4147bdadede741cf7b5f7e.jpg"><img src="https://img.it610.com/image/info8/b4ec53f86b4147bdadede741cf7b5f7e.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第71张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/b108ea3ed46d4b82a5e7af785ab2ff6f.png"><img src="https://img.it610.com/image/info8/b108ea3ed46d4b82a5e7af785ab2ff6f.png" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第72张图片" /></a></p>

<p>还可以加上一条，[]里面可以进行运算，不过必须和$搭配使用，中间的一些空格也不用加，并且返回的结果是正逻辑的。需要加空格的，不加$的这种是负逻辑。</p>

<p><a href="https://img.it610.com/image/info8/a5b9a9f35fce4c6abeff5e5c2ce4393d.jpg"><img src="https://img.it610.com/image/info8/a5b9a9f35fce4c6abeff5e5c2ce4393d.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第73张图片" /></a></p>

<p>整数比较还是用-eq，-ne这种才是正确的。</p>

<p><a href="https://img.it610.com/image/info8/4c552b7b3ea745e08f9aae6b50a5b7fb.jpg"><img src="https://img.it610.com/image/info8/4c552b7b3ea745e08f9aae6b50a5b7fb.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第74张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/009e28e2ad1c481cba42eb30745ac6eb.jpg"><img src="https://img.it610.com/image/info8/009e28e2ad1c481cba42eb30745ac6eb.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第75张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/fca128a05f8f40c0a9e6c6ba63a1dc05.jpg"><img src="https://img.it610.com/image/info8/fca128a05f8f40c0a9e6c6ba63a1dc05.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第76张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/f891edb2621a4e3181a0266bb9f8a691.jpg"><img src="https://img.it610.com/image/info8/f891edb2621a4e3181a0266bb9f8a691.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第77张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/ce29a216cd3847a993b2f35503424bcc.jpg"><img src="https://img.it610.com/image/info8/ce29a216cd3847a993b2f35503424bcc.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第78张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/35bdc68063ca489ca8a5745dd1775377.jpg"><img src="https://img.it610.com/image/info8/35bdc68063ca489ca8a5745dd1775377.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第79张图片" /></a></p>

<p>这里稍微举一个例子，这里是对上面学习的一个补充。</p>

<p><a href="https://img.it610.com/image/info8/e41b72726da84821b5a062c9198bc3d7.png"><img src="https://img.it610.com/image/info8/e41b72726da84821b5a062c9198bc3d7.png" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第80张图片" /></a></p>

<p>由于?只能代表一个字符，*可以代表很多个字符（肯定不是任意多，我记得在学python的时候说过，好像是2千万多个？），所以会出现上面的差异，而且确实不改变原来的字符串。</p>

<p><a href="https://img.it610.com/image/info8/1f5a48a5a6bc4d728c309acdb90cda18.jpg"><img src="https://img.it610.com/image/info8/1f5a48a5a6bc4d728c309acdb90cda18.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第81张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/f622528e68364d0093f29a3459932ac2.jpg"><img src="https://img.it610.com/image/info8/f622528e68364d0093f29a3459932ac2.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第82张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/631da60454e24c888a23d1b47c82e1f4.jpg"><img src="https://img.it610.com/image/info8/631da60454e24c888a23d1b47c82e1f4.jpg" alt="Linux之shell脚本自动化编程五（shell变量详解和各种括号的作用）_第83张图片" /></a></p>

<p>那么今天就先先到这里吧。</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>