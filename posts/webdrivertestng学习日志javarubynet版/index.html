<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>WebDriverTestNg学习日志JavaRubyNet版 | 开发者问答集锦</title>
    <meta property="og:title" content="WebDriverTestNg学习日志JavaRubyNet版 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="WebDriverTestNg学习日志JavaRubyNet版">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/webdrivertestng%E5%AD%A6%E4%B9%A0%E6%97%A5%E5%BF%97javarubynet%E7%89%88/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">WebDriverTestNg学习日志JavaRubyNet版</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<p><strong>目录</strong></p>

<p>WebDriver(JAVA)拾级而上</p>

<p>WebDriver拾级而上·之零 WebDriver理论</p>

<p>WebDriver拾级而上·之一 环境部署</p>

<p>WebDriver拾级而上·之二 浏览器操作</p>

<p>WebDriver拾级而上·之三 定位页面元素</p>

<p>WebDriver拾级而上·之四 操作页面元素</p>

<p>WebDriver拾级而上·之五 iframe的处理</p>

<p>WebDriver拾级而上·之六 获得弹出窗</p>

<p>WebDriver拾级而上·之七 处理对话框</p>

<p>WebDriver拾级而上·之八 操作cookies</p>

<p>WebDriver拾级而上·之九 等待页面元素加载</p>

<p>WebDriver拾级而上·之十 封装与重用</p>

<p>WebDriver拾级而上·之十一 在selenium2.0中使用selenium1.0的API</p>

<p>WebDriver拾级而上·之十二 利用selenium-webdriver截图</p>

<p>WebDriver拾级而上·之十三 调用Java Script</p>

<p>WebDriver拾级而上·之十四 RemoteWebDriver</p>

<p>WebDriver拾级而上·之十五 拖曳动作模拟</p>

<p>WebDriver拾级而上·之十六 Table控件的处理</p>

<p>WebDriver拾级而上·之十七 断言</p>

<p>WebDriver拾级而上·之十八 设置元素焦点</p>

<p>WebDriver拾级而上·之十九 常用方法</p>

<p>TestNG深入</p>

<p>TestNG·一 基础概念</p>

<p>TestNG·二 测试组</p>

<p>TestNG·三 测试方法</p>

<p>TestNG·四 测试方法之工厂</p>

<p>TestNG·五 运行TestNG</p>

<p>TestNG·六 测试结果</p>

<p>TestNG·七 annotation</p>

<p>TestNG·八 并发测试</p>

<p>TestNG·九 使用testng-xslt改写testng的测试报告</p>

<p>TestNG·十 自定义日志记录</p>

<p>TestNG·十一 TestNG报告API</p>

<p>JUnit</p>

<p>JUnit4单元测试</p>

<p>WebDriver(Ruby)拾级而上</p>

<p>RubyWebDriver·A环境部署</p>

<p>RubyWebDriver·B浏览器的简单操作</p>

<p>RubyWebDriver·C执行一段js脚本</p>

<p>RubyWebDriver·D元素定位</p>

<p>RubyWebDriver·E定位frame中元素</p>

<p>RubyWebDriver·F捕获弹出窗口</p>

<p>RubyWebDriver·G处理弹出窗alert和confirm</p>

<p>RubyWebDriver·H操作select下拉框</p>

<p>RubyWebDriver·I设置等待时间</p>

<p>RubyWebDriver·J截图</p>

<p>RubyWebDriver·K操作flash控件</p>

<p>WebDriver(Ruby)学以致用</p>

<p>RubyWebDriver学以致用·A基础demo</p>

<p>RubyWebDriver学以致用·B框架下的测试用例</p>

<p>RubyWebDriver学以致用·C面向对象编程</p>

<p>RubyWebDriver学以致用·D测试用例集</p>

<p>WebDriver(.Net C#)拾级而上</p>

<p>.NetWebDriver·A环境部署</p>

<hr />

<h1 id="webdriver-java-拾级而上">WebDriver(JAVA)拾级而上</h1>

<p>WebDriver拾级而上·之零 WebDriver理论</p>

<p>Selenium2.0 = Selenium1.0 + WebDriver（也就是说Selenium2.0合并了这两个项目）<br />
Selenium1.0可以使用任何编程语言，但是有个先决条件就是必须支持HTTP库。Selenium1.0起初就是一个Javascript库，到后面引入了SeleniumRC。SeleniumRC作为一个代理服务器并且发送操作命令给Selenium
Core（javascript代码，且为SeleniumRC的一部分）。SeleniumRC从测试程序接收指令并翻译，返回测试结果给测试程序。Selenium
Core在client API打开浏览器后就注入到浏览器中，然后Selenium Core接收测试程序的指令，解释成selenese命令，在浏览器执行。</p>

<p>selenium-webdriver实现原理（这里以webdriver java binding的firefox-
webdriver实现为例)，简单介绍一下webdriver的工作原理。</p>

<p>1.当测试脚本启动firefox的时候，selenium-webdriver
会首先在新线程中启动firefox浏览器。如果测试脚本指定了firefox的profile，那么就以该profile启动，否则的话就新启1个profile，并启动firefox；</p>

<p>2.firefox一般是以-no-remote的方法启动，启动后selenium-
webdriver会将firefox绑定到特定的端口，绑定完成后该firefox实例便作为webdriver的remote server存在；</p>

<p>3.客户端(也就是测试脚本)创建1个session，在该session中通过http请求向remote server发送restful的请求，remote
server解析请求，完成相应操作并返回response；</p>

<p>4.客户端接受response，并分析其返回值以决定是转到第3步还是结束脚本；</p>

<p>这就是webdriver的工作流程，看起来很复杂,实际上当了解了webdriver的实现原理后，理解上述问题应该比较简单。</p>

<p>webdriver是按照server–client的经典设计模式设计的。</p>

<p>server端就是remote server，可以是任意的浏览器。当我们的脚本启动浏览器后，该浏览器就是remote
server，它的职责就是等待client发送请求并做出相应的操作；</p>

<p>client端简单说来就是我们的测试代码，我们测试代码中的一些行为，比如打开浏览器，转跳到特定的url等操作是以http请求的方式发送给被测试浏览器，也就是remote
server；remote server接受请求，并执行相应操作，并在response中返回执行状态、返回值等信息；</p>

<p>举个实际的例子，下面代码的作用是”命令”firefox转跳到google主页：</p>

<p>WebDriver diver = new FirefoxDriver();</p>

<p>driver.get(&ldquo;<a href="http://google.com&quot;">http://google.com&quot;</a>);</p>

<p>在执行 driver.get(&ldquo;<a href="http://google.com&quot;">http://google.com&quot;</a>); 这句代码时，client也就是我们的测试代码向remote
server发送了如下的请求：</p>

<p>POST session/285b12e4-2b8a-4fe6-90e1-c35cba245956/url</p>

<p>post_data {&ldquo;url&rdquo;:&ldquo;<a href="http://google.com&quot;">http://google.com&quot;</a>}</p>

<p>通过post的方式请求localhost:port/hub/session/session_id/url地址，请求浏览器完成跳转url的操作。</p>

<p>如果上述请求是可接受的，或者说remote server是实现了这个接口，那么remote server会跳转到该post
data包含的url,并返回如下的response</p>

<p>{&ldquo;name&rdquo;:&ldquo;get&rdquo;,&ldquo;sessionId&rdquo;:&ldquo;285b12e4-2b8a-4fe6-90e1-c35cba245956&rdquo;,&ldquo;status&rdquo;:0,&ldquo;value&rdquo;:&ldquo;&rdquo;}</p>

<p>该response中包含如下信息</p>

<p>name：remote server端的实现的方法的名称，这里是get，表示跳转到指定url；</p>

<p>sessionId：当前session的id；</p>

<p>status：请求执行的状态码，非0表示未正确执行，这里是0，表示一切ok不必担心；</p>

<p>value：请求的返回值，这里返回值为空，如果client调用title接口，则该值应该是当前页面的title；</p>

<p>如果client发送的请求是定位某个特定的页面元素，则response的返回值可能是这样的：</p>

<p>{&ldquo;name&rdquo;:&ldquo;findElement&rdquo;,&ldquo;sessionId&rdquo;:&ldquo;285b12e4-2b8a-4fe6-90e1-c35cba245956&rdquo;,&ldquo;status&rdquo;:0,&ldquo;value&rdquo;:{&ldquo;ELEMENT&rdquo;:&ldquo;{2192893e-f260-44c4-bdf6-7aad3c919739}&rdquo;}}</p>

<p>name,sessionId，status跟上面的例子是差不多的，区别是该请求的返回值是ELEMENT:{2192893e-f260-44c4-bdf6-7aad3c919739}，表示定位到元素的id，通过该id，client可以发送如click之类的请求与server端进行交互。</p>

<p>那么remote
server端的这些功能是如何实现的呢？答案是浏览器实现了webdriver的统一接口，这样client就可以通过统一的restful的接口去进行浏览器的自动化操作。目前webdriver支持ie,
chrome, firefox, opera等主流浏览器，其主要原因是这些浏览器实现了webdriver约定的各种接口。</p>

<h2 id="webdriver拾级而上-之一-环境部署">WebDriver拾级而上·之一 环境部署</h2>

<p>1.下载安装eclipse和jdk<br />
2.下载最新的Selenium Client Drivers<br />
<a href="http://seleniumhq.org/download/">http://seleniumhq.org/download/</a><br />
3.在eclipse中建立项目中导入所下载的包。（如果selenium-java-2.21.0.jar导入后，运行报错，则把下载的selenium-
java-2.21.0.jar包中同一级目录下的libs中的jar包全部导入）</p>

<p><a href="https://img.it610.com/image/info8/d3521867322e4613b90f9e2e86c384ff.jpg"><img src="https://img.it610.com/image/info8/d3521867322e4613b90f9e2e86c384ff.jpg" alt="WebDriver·TestNg学习日志\(Java/Ruby/.Net版\)_第1张图片" /></a></p>

<p>4.配置testng</p>

<p>4.1Eclipse中点击Help-&gt;Install new software -&gt; 点击Add</p>

<p>4.2在Location输入 <a href="http://beust.com/eclipse">http://beust.com/eclipse</a></p>

<p>4.3选中Testng版本，点击Next，按照提示安装，安装完之后重启Eclipse</p>

<p>4.4新建JavaProject，右键BuildPath，添加testng.jar</p>

<p>4.5新建一个sum类，用来计算两整数之和，代码如下：</p>

<p>package com.hpp;</p>

<p>public class sum {</p>

<p>private int no1;private int no2;</p>

<p>private int mysum;</p>

<p>public int add(int no1,int no2){</p>

<p>mysum=no1+no2;return mysum;</p>

<p>}</p>

<p>}</p>

<p>4.6再新建testng class</p>

<p><a href="https://img.it610.com/image/info8/b04c66e430264557b18ebd462ef83cd5.jpg"><img src="https://img.it610.com/image/info8/b04c66e430264557b18ebd462ef83cd5.jpg" alt="WebDriver·TestNg学习日志\(Java/Ruby/.Net版\)_第2张图片" /></a><a href="https://img.it610.com/image/info8/6b27c3cb793e4cea8cd873cf4c160c42.jpg"><img src="https://img.it610.com/image/info8/6b27c3cb793e4cea8cd873cf4c160c42.jpg" alt="WebDriver·TestNg学习日志\(Java/Ruby/.Net版\)_第3张图片" /></a></p>

<p>4.7点击finish，代码如下</p>

<p>package com.test;</p>

<p>import org.testng.annotations.Test;</p>

<p>import static org.testng.Assert.assertEquals;</p>

<p>import com.hpp.sum;</p>

<p>public class NewTest {</p>

<p>private sum newSum=new sum();</p>

<p>@Test</p>

<p>public void f() {</p>

<p>int mysum=newSum.add(1, 2);</p>

<p>assertEquals(3,mysum,&ldquo;Right&rdquo;);</p>

<p>}</p>

<p>}<br />
testing,xml会自动配置好的，这里不用管项目的文件结构如下：</p>

<p><a href="https://img.it610.com/image/info8/ba58bfb5938b44378161de958baa532c.jpg"><img src="https://img.it610.com/image/info8/ba58bfb5938b44378161de958baa532c.jpg" alt="WebDriver·TestNg学习日志\(Java/Ruby/.Net版\)_第4张图片" /></a></p>

<p>4.8在testing.xml右键点击RunAs-&gt;Testng Suite，即可看到结果</p>

<p><a href="https://img.it610.com/image/info8/1149160b096d4f86b39b3957c55578a3.jpg"><img src="https://img.it610.com/image/info8/1149160b096d4f86b39b3957c55578a3.jpg" alt="WebDriver·TestNg学习日志\(Java/Ruby/.Net版\)_第5张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/6fcfbcdfddb94730ac38ad7a9126c473.jpg"><img src="https://img.it610.com/image/info8/6fcfbcdfddb94730ac38ad7a9126c473.jpg" alt="WebDriver·TestNg学习日志\(Java/Ruby/.Net版\)_第6张图片" /></a></p>

<p>如果想要换个测试用例，可以修改文件testing.xml中class标签name的值</p>

<p><a href="https://img.it610.com/image/info8/6cee094eef6c456ab6e5a74a2b5663d7.jpg"><img src="https://img.it610.com/image/info8/6cee094eef6c456ab6e5a74a2b5663d7.jpg" alt="WebDriver·TestNg学习日志\(Java/Ruby/.Net版\)_第7张图片" /></a></p>

<p>4.9也可以不用在 Testng Suite 模式下运行</p>

<p>新建class，代码如下</p>

<p>run as-&gt;Java Application 即可。</p>

<p>注：如果是用chrome浏览器运行脚本，需要下载最新的chromedriver.exe，放在目录C:\WINDOWS\system32 下即可。</p>

<p>下载地址： <a href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a></p>

<p><a href="https://img.it610.com/image/info8/a726fc5089524526ab9ee4e5f352f4a7.jpg"><img src="https://img.it610.com/image/info8/a726fc5089524526ab9ee4e5f352f4a7.jpg" alt="WebDriver拾级而上·之一 &lt;wbr&gt;环境部署" /></a></p>

<p>package com.test;</p>

<p>import org.openqa.selenium.By;</p>

<p>import org.openqa.selenium.WebDriver;</p>

<p>import org.openqa.selenium.WebElement;</p>

<p>import org.openqa.selenium.chrome.ChromeDriver;</p>

<p>import org.openqa.selenium.firefox.FirefoxDriver;</p>

<p>public class Test_google {</p>

<p>public static void main(String[] args) {</p>

<p>String url = &ldquo;<a href="http://www.google.com.hk&quot;">http://www.google.com.hk&quot;</a>;</p>

<p>//String url =
&ldquo;<a href="http://mobile.service.com/user/CheckLogin.aspx?UserName=aaa@aa.aa&amp;Password=123456&amp;key=889&quot;">http://mobile.service.com/user/CheckLogin.aspx?UserName=aaa@aa.aa&amp;Password=123456&amp;key=889&quot;</a>;</p>

<p>//System.setProperty(&ldquo;webdriver.firefox.bin&rdquo;,&ldquo;D:\\Program Files\\Mozilla
Firefox\\firefox.exe&rdquo;);</p>

<p>//WebDriver driver = new FirefoxDriver();</p>

<p>//打开ie WebDriver ie_driver = new InternetExplorerDriver();</p>

<p>//打开chrome</p>

<p>WebDriver driver = new ChromeDriver();</p>

<p>driver.get(url);</p>

<p>WebElement element = driver.findElement(By.name(&ldquo;q&rdquo;));</p>

<p>element.sendKeys(&ldquo;hello Selenium!&rdquo;);</p>

<p>element.submit();</p>

<p>try {</p>

<p>Thread.sleep(3000);</p>

<p>} catch (InterruptedException e) {</p>

<p>e.printStackTrace();</p>

<p>}</p>

<p>System.out.println(&ldquo;页面Title:&ldquo;+driver.getTitle()+&rdquo;\n页面URL:&ldquo;+driver.getCurrentUrl());</p>

<p>//System.out.println(&ldquo;返回当前的浏览器的窗口句柄:&ldquo;+driver.getWindowHandle());</p>

<p>//String s=driver.getPageSource();s=s.substring(s.indexOf(&ldquo;{&rdquo;),
s.indexOf(&ldquo;}&rdquo;));</p>

<p>//System.out.println(&ldquo;当前页面的源码:&ldquo;+s);</p>

<p>driver.quit();</p>

<p>}</p>

<p>}</p>

<p>4.10 如果要在Myeclipse安装插件Testng<br />
直接把eclipse里的org.testng文件夹拷贝到dropins目录<br />
重启Myeclipse会提示如下，确定就OK了<br />
<a href="https://img.it610.com/image/info8/fdc2d374c92c4acabad505772cf26175.jpg"><img src="https://img.it610.com/image/info8/fdc2d374c92c4acabad505772cf26175.jpg" alt="WebDriver·TestNg学习日志\(Java/Ruby/.Net版\)_第8张图片" /></a></p>

<p>5.Eclipse中导入jar文件的源码</p>

<p>在eclipse中导入jar文件对应的源码，主要是为了方便查看一些接口的源码，可以直接按着Ctrl+鼠标左键跳到对应的源码文件。</p>

<p>若无法查看类，函数等信息</p>

<p><a href="https://img.it610.com/image/info8/b1df504c30e94cb38fd0840cf9e7ffec.jpg"><img src="https://img.it610.com/image/info8/b1df504c30e94cb38fd0840cf9e7ffec.jpg" alt="WebDriver·TestNg学习日志\(Java/Ruby/.Net版\)_第9张图片" /></a></p>

<p>将下载selenium-java-2.21.0包中的selenium-java-2.21.0-srcs.jar导入</p>

<p><a href="https://img.it610.com/image/info8/099025ccf26842c6b180c2317d0d9cca.jpg"><img src="https://img.it610.com/image/info8/099025ccf26842c6b180c2317d0d9cca.jpg" alt="WebDriver·TestNg学习日志\(Java/Ruby/.Net版\)_第10张图片" /></a></p>

<h2 id="webdriver拾级而上-之二-浏览器操作">WebDriver拾级而上·之二 浏览器操作</h2>

<p>1.启动浏览器<br />
A.firefox<br />
//打开默认路径的firefox（路径指的是 firefox 的安装路径）<br />
WebDriver diver = new FirefoxDriver();<br />
//打开指定路径的firefox,方法1<br />
System.setProperty(&ldquo;webdriver.firefox.bin&rdquo;,&ldquo;D:\\ProgramFiles\\Mozilla
Firefox\\firefox.exe&rdquo;);<br />
WebDriver dr = new FirefoxDriver();<br />
//打开指定路径的firefox,方法2<br />
File pathToFirefoxBinary = new File(&ldquo;D:\\Program Files\\Mozilla
Firefox\\firefox.exe&rdquo;);<br />
FirefoxBinary firefoxbin = new FirefoxBinary(pathToFirefoxBinary);<br />
WebDriver driver1 = new FirefoxDriver(firefoxbin,null);</p>

<p>B.ie<br />
//打开ie<br />
WebDriver ie_driver = new InternetExplorerDriver();</p>

<p>C.chrome</p>

<p>因为Chrome Driver是Chromium
项目自己支持和维护的，所以你必需另外下载chromedriver.exe，放在目录下C:\WINDOWS\system32<br />
下载地址：</p>

<p><a href="http://code.google.com/p/chromedriver/downloads/list">http://code.google.com/p/chromedriver/downloads/list</a></p>

<p><a href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a></p>

<p>//打开chrome<br />
WebDriver driver = new ChromeDriver();</p>

<p>另一种启动chrome 的方法<br />
wiki介绍：<a href="http://code.google.com/p/selenium/wiki/ChromeDriver">http://code.google.com/p/selenium/wiki/ChromeDriver</a><br />
//打开chrome<br />
System.setProperty(&ldquo;webdriver.chrome.driver&rdquo;, &ldquo;D:\\chromedriver.exe&rdquo;);<br />
System.setProperty(&ldquo;webdriver.chrome.bin&rdquo;,<br />
C:\\Documents and Settings\\fy\\Local Settings&rdquo;<br />
+&rdquo;\\Application Data\\Google\\Chrome\\Application\\chrome.exe&rdquo;);</p>

<p>Chromium介绍：<a href="http://code.google.com/p/chromium/">http://code.google.com/p/chromium/</a></p>

<p>2.页面跳转url<br />
String url = &ldquo;<a href="http://www.baidu.com&quot;">http://www.baidu.com&quot;</a>;<br />
WebDriver driver = new FirefoxDriver();</p>

<p>A//用get方法<br />
driver.get(url);</p>

<p>B//用navigate方法，然后再调用to方法,chrome不支持这种方法<br />
driver.navigate().to(url);</p>

<p>3.如果页面文件在本地可以这么写</p>

<p>WebDriver dr = new ChromeDriver();</p>

<p>//页面文件在项目src下的路径 src/filename.html</p>

<p>File file = new File(&ldquo;src/filename.html&rdquo;);</p>

<p>String filePath = &ldquo;file:///&rdquo; + file.getAbsolutePath();</p>

<p>System.out.printf(&ldquo;now accesss %s \n&rdquo;, filePath);</p>

<p>dr.get(filePath);</p>

<p>4.关闭浏览器</p>

<p>//quit 关闭所有页面 close 关闭本次执行打开的页面<br />
A.//用quit方法<br />
driver.quit();<br />
B.//用close方法<br />
driver.close();</p>

<p>5.浏览器最大化</p>

<p>driver.manage().window().maximize();</p>

<p>6.获取页面信息<br />
//得到title<br />
String title = driver.getTitle();<br />
//得到当前页面url<br />
String currentUrl = driver.getCurrentUrl();</p>

<p>getWindowHandle() 返回当前的浏览器的窗口句柄<br />
getWindowHandles() 返回当前的浏览器的所有窗口句柄<br />
getPageSource() 返回当前页面的源码</p>

<p>//String s=driver.getPageSource();s=s.substring(s.indexOf(&ldquo;{&rdquo;),
s.indexOf(&ldquo;}&rdquo;));</p>

<p>//System.out.println(&ldquo;当前页面的源码:&ldquo;+s);</p>

<p>7.总结<br />
操作浏览器的主要方法都来自org.openqa.selenium.WebDriver这个接口中。<br />
源代码这些方法都是在 org.openqa.selenium.remote.RemoteWebDriver这个类中实现的，然后不同浏览的driver类继承
RemoteWebDriver。</p>

<h2 id="webdriver拾级而上-之三-定位页面元素">WebDriver拾级而上·之三 定位页面元素</h2>

<p>selenium-webdriver提供了强大的元素定位方法，支持以下三种方法：<br />
单个对象的定位方法<br />
多个对象的定位方法<br />
层级定位</p>

<p>注意：</p>

<p>selenium-
webdriver通过findElement()\findElements()等find方法调用&rdquo;By&rdquo;对象来定位和查询元素。By类只是提供查询的方式进行分类。findElement返回一个元素对象否则抛出异常，findElements返回符合条件的元素
List，如果不存在符合条件的就返回一个空的list。</p>

<p>一、定位单个元素<br />
A.使用className进行定位<br />
当所定位的元素具有class属性的时候我们可以通过classname来定位该元素。<br />
例：下面的例子定位页面上class为&rdquo;username&rdquo;的li。<br />
WebElement element = driver.findElement(By.className(&ldquo;username&rdquo;));<br />
System.out.println(element.getTagName());</p>

<p>输出结果：Li</p>

<p>B.使用id属性定位<br />
例：<br />
WebElement element = dr.findElement(By.id(&ldquo;passport_user&rdquo;));<br />
System.out.println(element.getAttribute(&ldquo;title&rdquo;));</p>

<p>输出结果：用户名/邮箱</p>

<p>C.使用name属性定位<br />
例：<br />
WebElement e = dr.findElement(By.name(&ldquo;passport_user&rdquo;));</p>

<p>D.使用css属性定位<br />
例：<br />
WebElement e1 = dr.findElement(By.cssSelector(&ldquo;#passport_user&rdquo;));</p>

<p>详解：</p>

<p>1.css之后代选择器</p>

<p><em>location1</em></p>

<ul>
<li><em>location2</em></li>
</ul>

<p>可以通过css=p em这个可以选中文本为location1的em元素</p>

<p>css=ol em这个可以选中文本为location2的em元素</p>

<p>css后代选择器和xpath中//div//a一样：取得所有div下面所有的a节点。这个是忽略了父子节点</p>

<p><em>location1</em></p>

<ul>
<li><p><strong><em>location2</em></strong></p></li>

<li><p><em>location3</em></p></li>

<li><p><em>location4</em></p></li>
</ul>

<p>可以通过css=p&gt;em来定位location1</p>

<p>css之父子节点选择器给后代选择器加了一个限制，类似xpath中//div/p/em：所有div下的子元素p的子元素em。</p>

<p>css=li+li em来定位location3，location4的em</p>

<p>css=li+strong+em来定位文本为location2的em</p>

<p>2.css之id选择器</p>

<p>通过css=#location1来定位type为button的按钮</p>

<p>通过css=#location2来定位type为radio的单选框</p>

<p>3.css之类选择器</p>

<p>通过css=input.location1来选择value值为确定的按钮</p>

<p>通过css=input.location2来选择value值为取消的按钮</p>

<p>4.css之属性选择器</p>

<p>通过css=[class=location1]可以定位第一个按钮</p>

<p>通过css=[class~=1]可以定位第一个按钮</p>

<p>通过css=[value=&ldquo;确定&rdquo;]可以定位第一个按钮</p>

<p>通过css=input[class=&ldquo;location&rdquo;]可以定位第二个按钮</p>

<p>E.按标记（tag）名称查找</p>

<p>元素的DOM标记名称</p>

<p>WebElement frame = driver.findElement(By.tagName(&ldquo;iframe&rdquo;));</p>

<p>F.按链接文本查找</p>

<p><a href="http://www.google.com/search?q=cheese">cheese</a>&gt;</p>

<p>WebElement cheese = driver.findElement(By.linkText(&ldquo;cheese&rdquo;));</p>

<p>按部分链接文本查找</p>

<p><a href="http://www.google.com/search?q=cheese">search for cheese</a>&gt;</p>

<p>WebElement cheese = driver.findElement(By.partialLinkText(&ldquo;cheese&rdquo;));</p>

<p>G.使用 XPATH定位</p>

<p>例：<br />
WebElement element =dr.findElement(By.xpath(&ldquo;//input[@id=&lsquo;passport_user&rsquo;]&ldquo;));</p>

<p>parent::返回父节点</p>

<p>following::返回此节点后面的兄弟节点</p>

<p>preceding::返回此节点前面的兄弟节点</p>

<p>div&gt;</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a></li>
        
        <li><a href="/posts/051rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%981hellorails/">051RubyonRails學習筆記1Hellorails</a></li>
        
        <li><a href="/posts/053rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%986%E9%87%8D%E6%A7%8B%E5%88%AA%E9%99%A4%E7%95%99%E8%A8%80%E5%AE%89%E5%85%A8/">053RubyonRails學習筆記6重構刪除留言安全</a></li>
        
        <li><a href="/posts/055rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%987carrierwaveimplementation/">055RubyonRails學習筆記7CarrierwaveImplementation</a></li>
        
        <li><a href="/posts/065rubyonrails%E7%AD%86%E8%A8%9810showtargetinfoongooglemaps/">065Rubyonrails筆記10showtargetinfoongooglemaps</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/ruby'>ruby</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>