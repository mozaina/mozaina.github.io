<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>LinuxShell编程6字符操作命令cutprintfawksedsortwc | 开发者问答集锦</title>
    <meta property="og:title" content="LinuxShell编程6字符操作命令cutprintfawksedsortwc - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="LinuxShell编程6字符操作命令cutprintfawksedsortwc">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B6%E5%AD%97%E7%AC%A6%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4cutprintfawksedsortwc/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">LinuxShell编程6字符操作命令cutprintfawksedsortwc</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h2 id="一-cut-命令">一、cut 命令</h2>

<blockquote>
<p>cut命令用来显示行中的指定部分</p>
</blockquote>

<h3 id="1-语法">1. 语法</h3>

<pre><code>cut [选项] 文件名
</code></pre>

<h3 id="2-选项">2. 选项</h3>

<blockquote>
<p><code>-f 列号</code>：第几列提取<br />
 <code>-d 分隔符</code>：按照指定分隔符分隔列，若不设置，默认为制表符（Tab键）</p>
</blockquote>

<h3 id="3-应用">3. 应用</h3>

<h4 id="处理以制表符分隔的成绩单"><strong>处理以制表符分隔的成绩单</strong></h4>

<ul>
<li><p>report.md</p>

<p>[root/tmp]# cat report.md
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>

<li><p>查看 report.md 中的第二列</p>

<p>[root/tmp]# cut -f 2 report.md
Name
Zhang
Li
Wang</p></li>

<li><p>查看 report.md 中的第二列和第四列</p>

<p>[root/tmp]# cut -f 2,4 report.md
Name    Score
Zhang   99
Li      68
Wang    100</p></li>
</ul>

<h4 id="处理以-分隔的-etc-passwd-文件"><strong>处理以<code>:</code> 分隔的 <code>/etc/passwd</code> 文件</strong></h4>

<ul>
<li><p>/etc/passwd</p>

<p>[root/tmp]# cat /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
veewee:x:1000:1000::/home/veewee:/bin/bash
vagrant:x:1001:1001::/home/vagrant:/bin/bash
&hellip;省略n行&hellip;
memcached:x:996:995:Memcached daemon:/run/memcached:/sbin/nologin
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin</p></li>

<li><p>查看 /etc/passwd 中的第一列和第七列</p>

<p>[root/tmp]# cut -f 1,7 -d &ldquo;:&rdquo; /etc/passwd
root:/bin/bash
bin:/sbin/nologin
sync:/bin/sync
mail:/sbin/nologin
nobody:/sbin/nologin
sshd:/sbin/nologin
veewee:/bin/bash
vagrant:/bin/bash
&hellip;省略n行&hellip;
memcached:/sbin/nologin
apache:/sbin/nologin</p></li>

<li><p>查看所有使用 /bin/bash 登录的普通用户</p>

<p>[root/tmp]# grep &lsquo;/bin/bash&rsquo; /etc/passwd | cut -f 1 -d &ldquo;:&rdquo; /etc/passwd | grep -v root
veewee:/bin/bash
vagrant:/bin/bash</p></li>
</ul>

<h3 id="4-cut-命令的局限性">4. cut 命令的局限性</h3>

<blockquote>
<p>cut 命令只可以分析分隔符清晰，格式非常工整的文件，类似 <code>df</code> 这类的输出内容完全无能为力。</p>
</blockquote>

<pre><code>[root/tmp]# df -h | cut -f 5
文件系统                 容量  已用  可用 已用% 挂载点
/dev/mapper/centos-root  8.4G  1.8G  6.7G   21% /
devtmpfs                 490M     0  490M    0% /dev
tmpfs                    497M     0  497M    0% /dev/shm
tmpfs                    497M  6.7M  491M    2% /run
tmpfs                    497M     0  497M    0% /sys/fs/cgroup
/dev/sda1                497M  133M  365M   27% /boot
vagrant                   62G   58G  4.4G   93% /vagrant
tmpfs                    100M     0  100M    0% /run/user/1001
[root/tmp]# df -h | cut -f 5 -d ' '

1.8G
</code></pre>

<h2 id="二-printf-命令">二、printf 命令</h2>

<blockquote>
<p>printf命令格式化并输出结果到标准输出。<br />
printf命令并不会自动加入换行符，如果需要换行，需要手工加入换行符。</p>
</blockquote>

<h3 id="1-语法-1">1. 语法</h3>

<pre><code>printf '[输出类型][输出格式]' [内容]
</code></pre>

<h3 id="2-常用输出类型">2. 常用输出类型</h3>

<blockquote>
<p><code>%ns</code>：输出字符串。n是数字，指代输出几个字符。<br />
 <code>%nd</code>：输出整数。n是数字，指代输出几个数字。</p>
</blockquote>

<h3 id="3-常用输出格式">3. 常用输出格式</h3>

<blockquote>
<p><code>\n</code>：换行<br />
 <code>\r</code>：回车<br />
 <code>\t</code>：水平制表符（Tab键）</p>
</blockquote>

<h3 id="4-应用">4. 应用</h3>

<h4 id="printf-和-echo"><strong>printf 和 echo</strong></h4>

<pre><code>[root/tmp]# echo 1 2 3 4 5 6
1 2 3 4 5 6
[root/tmp]# printf 1 2 3 4 5 6
1[root/tmp]#
</code></pre>

<h4 id="printf-格式化输出"><strong>printf 格式化输出</strong></h4>

<pre><code>[root/tmp]# printf '%s' 1 2 3 4 5 6
123456[root/tmp]# printf '%s\n' 1 2 3 4 5 6
1
2
3
4
5
6
[root/tmp]# printf '%s%s\n' 1 2 3 4 5 6
12
34
56
[root/tmp]# printf '%s%s %s\n' 1 2 3 4 5 6
12 3
45 6
[root/tmp]# printf '%s%s %s%s\n' 1 2 3 4 5 6
12 34
56
</code></pre>

<h4 id="格式化输出-report-md"><strong>格式化输出 report.md</strong></h4>

<ul>
<li><p>report.md</p>

<p>[root/tmp]# cat report.md
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>

<li><p>printf 不支持使用管道符</p>

<p>[root/tmp]# cat report.md | printf
printf: 用法:printf [-v var] 格式 [参数]</p></li>

<li><p>格式化输出 report.md</p>

<p>[root/tmp]# printf &lsquo;%s\n&rsquo; $(cat report.md)
ID
Name
Gender
Score
1
Zhang
F
99
2
Li
M
68
3
Wang
M
100
[root/tmp]# printf &lsquo;%s\t%s\t%s\t%s\n&rsquo; $(cat report.md)
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>
</ul>

<h2 id="三-awk-命令">三、awk 命令</h2>

<h3 id="1-语法-2">1. 语法</h3>

<pre><code>awk '条件1{动作1} 条件2{动作2} ...' 文件名
</code></pre>

<h4 id="条件"><strong>条件</strong></h4>

<blockquote>
<p>一般使用关系表达式作为条件<br />
 <code>x&gt;10</code><br />
 <code>x&lt;10</code><br />
 <code>x&gt;=10</code><br />
 <code>x&lt;=10</code><br />
 <code>x==10</code></p>
</blockquote>

<h4 id="动作"><strong>动作</strong></h4>

<blockquote>
<p>格式化输出<br />
流程控制语句</p>
</blockquote>

<h3 id="2-awk命令的输出">2. awk命令的输出</h3>

<blockquote>
<p>awk 命令的输出中支持 print 和 printf 命令</p>
</blockquote>

<ul>
<li>printf：标准格式输出命令，并不会自动加入换行符，如果需要换行，需要手工加入换行符。</li>
<li>print：会在 printf 输出的基础上加入换行符。（print 只能在 awk 命令中使用，Linux默认并没有 print 命令）。</li>
</ul>

<h4 id="格式化输出-report-md-1"><strong>格式化输出 report.md</strong></h4>

<ul>
<li><p>report.md</p>

<p>[root/tmp]# cat report.md
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>

<li><p>输出 report.md 的第二列和第四列</p>

<p>[root/tmp]# awk &lsquo;{print $2 &ldquo;\t&rdquo; $4}&rsquo; report.md
Name    Score
Zhang   99
Li      68
Wang    100</p>

<p>[root/tmp]# cut -f 2,4 report.md
Name    Score
Zhang   99
Li      68
Wang    100</p></li>
</ul>

<h4 id="格式化输出-df-命令的结果"><strong>格式化输出 df 命令的结果</strong></h4>

<ul>
<li><p><code>df -h</code></p>

<p>文件系统                 容量  已用  可用 已用% 挂载点
/dev/mapper/centos-root  8.4G  1.8G  6.7G   21% /
devtmpfs                 490M     0  490M    0% /dev
tmpfs                    497M     0  497M    0% /dev/shm
tmpfs                    497M  6.7M  491M    2% /run
tmpfs                    497M     0  497M    0% /sys/fs/cgroup
/dev/sda1                497M  133M  365M   27% /boot
vagrant                   62G   58G  4.4G   93% /vagrant
tmpfs                    100M     0  100M    0% /run/user/1001</p></li>

<li><p>只输出df命令的第五列</p>

<p>[root/tmp]# df -h | awk &lsquo;{print $5}&rsquo;
已用%
21%
0%
0%
2%
0%
27%
93%
0%</p></li>

<li><p>只输出文件系统为 &lsquo;/dev/mapper/centos-root&rsquo; 的第五列</p>

<p>[root/tmp]# df -h | grep &lsquo;/dev/mapper/centos-root&rsquo; | awk &lsquo;{print $5}&rsquo;
21%</p></li>

<li><p>去掉后面的 &lsquo;%&lsquo;，只保留数字</p>

<p>[root/tmp]# df -h | grep &lsquo;/dev/mapper/centos-root&rsquo; | awk &lsquo;{print $5}&rsquo; | cut -d &lsquo;%&rsquo; -f 1
21</p></li>
</ul>

<h3 id="3-begin-和-end-语句块">3. BEGIN 和 END 语句块</h3>

<blockquote>
<p>BEGIN语句块在awk开始从输入流中读取行之前被执行，这是一个可选的语句块，比如变量初始化、打印输出表格的表头等语句通常可以写在BEGIN语句块中。</p>

<p>END语句块在awk从输入流中读取完所有的行之后即被执行，比如打印所有行的分析结果这类信息汇总都是在END语句块中完成，它也是一个可选语句块。</p>
</blockquote>

<ul>
<li><p>BEGIN 和 END 语句块用法</p>

<p>[root/tmp]# df -h | awk &lsquo;BEGIN{print &ldquo;I am begining&rdquo;}END{print &ldquo;I am end&rdquo;}{print $5}&rsquo;
I am begining
已用%
21%
0%
0%
2%
0%
27%
93%
0%
I am end</p></li>
</ul>

<h3 id="4-fs-分隔符">4. FS 分隔符</h3>

<h4 id="设置fs分隔符的方法"><strong>设置FS分隔符的方法</strong></h4>

<blockquote>
<ol>
<li>awk <code>-F '[分隔符]'</code> &lsquo;条件1{动作1} 条件2{动作2} &hellip;&rsquo; 文件名</li>
<li>awk &lsquo;BEGIN{FS=&rdquo;[分隔符]&ldquo;} 条件1{动作1} 条件2{动作2} &hellip;&rsquo; 文件名</li>
</ol>
</blockquote>

<h4 id="格式化输出以-分隔的-etc-passwd-文件内容"><strong>格式化输出以<code>:</code> 分隔的 <code>/etc/passwd</code> 文件内容</strong></h4>

<ul>
<li><p>/etc/passwd</p>

<p>[root/tmp]# cat /etc/passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
veewee:x:1000:1000::/home/veewee:/bin/bash
vagrant:x:1001:1001::/home/vagrant:/bin/bash
&hellip;省略n行&hellip;
memcached:x:996:995:Memcached daemon:/run/memcached:/sbin/nologin
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin</p></li>

<li><p>格式化输出 <code>/etc/passwd</code> 中的第一列和第七列</p>

<p>[root/tmp]# cat /etc/passwd | awk -F &lsquo;:&rsquo; &lsquo;{print $1 &ldquo;\t\t&rdquo; $7}&rsquo;
root            /bin/bash
bin             /sbin/nologin
sync            /bin/sync
mail            /sbin/nologin
nobody          /sbin/nologin
sshd            /sbin/nologin
veewee          /bin/bash
vagrant         /bin/bash
&hellip;省略n行&hellip;
memcached               /sbin/nologin
apache          /sbin/nologin</p>

<p>[root/tmp]# cat /etc/passwd | awk &lsquo;BEGIN{FS=&rdquo;:&ldquo;} {print $1 &ldquo;\t\t&rdquo; $7}&rsquo;
root            /bin/bash
bin             /sbin/nologin
sync            /bin/sync
mail            /sbin/nologin
nobody          /sbin/nologin
sshd            /sbin/nologin
veewee          /bin/bash
vagrant         /bin/bash
&hellip;省略n行&hellip;
memcached               /sbin/nologin
apache          /sbin/nologin</p></li>
</ul>

<h3 id="5-关系表达式">5. 关系表达式</h3>

<blockquote>
<p>一般使用关系表达式作为条件<br />
 <code>x&gt;10</code><br />
 <code>x&lt;10</code><br />
 <code>x&gt;=10</code><br />
 <code>x&lt;=10</code><br />
 <code>x==10</code></p>
</blockquote>

<h4 id="解析-report-md"><strong>解析 report.md</strong></h4>

<ul>
<li><p>report.md</p>

<p>[root/tmp]# cat report.md
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>

<li><p>输出大于80分的人的名字</p>

<p>[root/tmp]# cat report.md | grep -v ID | awk &lsquo;$4 &gt; 80 {print $2}&rsquo;
Zhang
Wang</p></li>

<li><p>输出小于80分的人的名字</p>

<p>[root/tmp]# cat report.md | grep -v ID | awk &lsquo;$4 &lt; 80 {print $2}&rsquo;
Li</p></li>

<li><p>输出大于等于99分的人的名字</p>

<p>[root/tmp]# cat report.md | grep -v ID | awk &lsquo;$4 &gt;= 99 {print $2}&rsquo;
Zhang
Wang</p></li>

<li><p>输出小于等于99分的人的名字</p>

<p>[root/tmp]# cat report.md | grep -v ID | awk &lsquo;$4 &lt;= 99 {print $2}&rsquo;
Zhang
Li</p></li>

<li><p>输出100分的人的名字</p>

<p>[root/tmp]# cat report.md | grep -v ID | awk &lsquo;$4 == 100 {print $2}&rsquo;
Wang</p></li>
</ul>

<h2 id="四-sed-命令">四、sed 命令</h2>

<blockquote>
<p>sed 名令是一种几乎包括在所有Unix平台（包括Linux）的轻量级流编辑器。<br />
sed 命令主要用来对数据进行选取、替换、删除、新增。</p>
</blockquote>

<h3 id="1-语法-3">1. 语法</h3>

<pre><code>sed [选项] '[动作]' [文件名]
</code></pre>

<h3 id="2-选项-1">2. 选项</h3>

<blockquote>
<p><code>-n</code>：一般sed命令会输出所有数据，如果加入此选项，则只会输出经过sed命令处理的行。<br />
 <code>-e</code>：允许对输入数据应用多条sed命令编辑。<br />
 <code>-i</code>：一般sed命令只会将编辑结果输出到屏幕，如果加入此选项，则会直接修改读取数据的文件。</p>
</blockquote>

<h3 id="3-动作">3. 动作</h3>

<blockquote>
<p><code>p</code>：打印，输出指定的行。<br />
 <code>i</code>：插入，在当前行前插入一行或多行。<br />
 <code>a</code>：追加，在当前行后添加一行或多行。<br />
 <code>d</code>：删除，删除指定的行。<br />
 <code>c</code>：行替换，用c后面的字符串替换原数据行。<br />
 <code>s</code>：字符串替换，用一个字符串替换另外一个字符串。格式为 <code>[行范围]s/[旧字符串]/[新字符串]/g</code> （与vim编辑器的替换格式类似）。</p>
</blockquote>

<h3 id="4-查看文件指定行的内容">4. 查看文件指定行的内容</h3>

<ul>
<li><p>查看 report.md 的第二行数据，如果不加 <code>-n</code> 的话默认是输出文件所有数据</p>

<p>[root/tmp]# sed &lsquo;2p&rsquo; report.md
ID      Name    Gender  Score
1       Zhang   F       99
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>

<li><p>查看 report.md 的第二行数据</p>

<p>[root/tmp]# sed -n &lsquo;2p&rsquo; report.md
1       Zhang   F       99</p></li>

<li><p>查看 report.md 的第一行到第三行数据</p>

<p>[root/tmp]# sed -n &lsquo;1,3p&rsquo; report.md
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68</p></li>
</ul>

<h3 id="5-在指定行-前-插入内容">5. 在指定行 <strong>前</strong> 插入内容</h3>

<ul>
<li><p>在第一行 <strong>前</strong> 插入 &lsquo;Begin&rsquo;，但是不修改文件本身</p>

<p>[root/tmp]# sed &lsquo;1i Begin&rsquo; report.md
Begin
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p>

<p>[root/tmp]# cat report.md
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>
</ul>

<h3 id="6-在指定行-后-追加内容">6. 在指定行 <strong>后</strong> 追加内容</h3>

<ul>
<li><p>在第一行 <strong>后</strong> 插入 &lsquo;End&rsquo;，但是不修改文件本身</p>

<p>[root/tmp]# sed &lsquo;1a End&rsquo; report.md
ID      Name    Gender  Score
End
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>
</ul>

<h3 id="7-删除文件指定行的内容">7. 删除文件指定行的内容</h3>

<ul>
<li><p>删除第二行到第四行的数据，但是不修改文件本身</p>

<p>[root/tmp]# sed &lsquo;2,4d&rsquo; report.md
ID      Name    Gender  Score</p>

<p>[root/tmp]# cat report.md
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>
</ul>

<h3 id="8-替换指定行的整行内容">8. 替换指定行的整行内容</h3>

<ul>
<li><p>将第一行替换为 &lsquo;Hello World&rsquo;，但是不修改文件本身</p>

<p>[root/tmp]# sed &lsquo;1c Hello World&rsquo; report.md
Hello World
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p>

<p>[root/tmp]# cat report.md
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>

<li><p>当替换的行没有数据时，无法替换成功</p>

<p>[root/tmp]# sed &lsquo;5c Hello World&rsquo; report.md
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>
</ul>

<h3 id="9-替换指定行的指定字符串">9. 替换指定行的指定字符串</h3>

<h4 id="命令格式"><strong>命令格式</strong></h4>

<pre><code>sed [-i] '[行范围]s/[旧字符串]/[新字符串]/g' 文件名
</code></pre>

<blockquote>
<p><code>-i</code>：加 <code>-i</code> 只会修改源文件；不加的话只会将编辑结果输出到屏幕，不会修改源文件。<br />
结尾的 <code>g</code> 为全局替换，若不加，则只会替换每一行第一个符合条件的字符串<br />
 <code>[旧字符串]</code> 可以应用正则表达式</p>
</blockquote>

<h4 id="行范围格式"><strong>行范围格式</strong></h4>

<ul>
<li>如果不写行范围，则默认替换整个文件的内容</li>
<li><code>n</code> 表示只替换第 n 行的内容</li>
<li><code>m,n</code> 表示替换 从第 m 行到第 n 行的内容</li>
<li><code>n,$</code> 表示替换 从第 n 行一直到文件结尾的内容</li>
</ul>

<h4 id="应用"><strong>应用</strong></h4>

<ul>
<li><p>passwd 文件是从 /etc/passwd 文件截取的部分内容</p>

<p>[root/tmp]# cat -n passwd
     1  rootxroot/root/bin/bash
     2  binxbin/bin/sbin/nologin
     3  syncxsync/sbin/bin/sync
     4  mailxmail/var/spool/mail/sbin/nologin
     5  nobodyxNobody//sbin/nologin
     6  sshdxSSH/var/empty/sshd/sbin/nologin
     7  veeweex/home/veewee/bin/bash
     8  vagrantx/home/vagrant/bin/bash
     9  memcachedxMemcached/run/memcached/sbin/nologin
    10  apachexApache/usr/share/httpd/sbin/nologin</p></li>

<li><p>把文章中所有的 <code>数字:</code> 替换为 &lsquo;*&lsquo;，直接修改源文件</p>

<p>[root/tmp]# sed -i &rsquo;s/[0-9]{1,}:/*/g&rsquo; passwd
[root/tmp]# cat -n passwd
     1  root:x:<strong>root:/root:/bin/bash
     2  bin:x:</strong>bin:/bin:/sbin/nologin
     3  sync:x:<strong>sync:/sbin:/bin/sync
     4  mail:x:</strong>mail:/var/spool/mail:/sbin/nologin
     5  nobody:x:<strong>Nobody:/:/sbin/nologin
     6  sshd:x:</strong>SSH:/var/empty/sshd:/sbin/nologin
     7  veewee:x:<strong>:/home/veewee:/bin/bash
     8  vagrant:x:</strong>:/home/vagrant:/bin/bash
     9  memcached:x:<strong>Memcached:/run/memcached:/sbin/nologin
    10  apache:x:</strong>Apache:/usr/share/httpd:/sbin/nologin</p></li>

<li><p>把第九行的 &lsquo;memcached&rsquo; 替换为 &lsquo;mem&rsquo;</p>

<p>[root/tmp]# sed -i &lsquo;9s/emcached/em/g&rsquo; passwd
[root/tmp]# cat -n passwd
     1  root:x:<strong>root:/root:/bin/bash
     2  bin:x:</strong>bin:/bin:/sbin/nologin
     3  sync:x:<strong>sync:/sbin:/bin/sync
     4  mail:x:</strong>mail:/var/spool/mail:/sbin/nologin
     5  nobody:x:<strong>Nobody:/:/sbin/nologin
     6  sshd:x:</strong>SSH:/var/empty/sshd:/sbin/nologin
     7  veewee:x:<strong>:/home/veewee:/bin/bash
     8  vagrant:x:</strong>:/home/vagrant:/bin/bash
     9  mem:x:<strong>Mem:/run/mem:/sbin/nologin
    10  apache:x:</strong>Apache:/usr/share/httpd:/sbin/nologin</p></li>

<li><p>把第五行的 &lsquo;Nobody&rsquo; 替换为 &lsquo;no&rsquo;，把第十行的 &lsquo;Apache&rsquo; 替换为 &lsquo;apa&rsquo;</p></li>
</ul>

<p>方法一：多条命令以分号分隔</p>

<pre><code>[root/tmp]# sed '5s/Nobody/no/g;10s/Apache/apa/g'  passwd
root:x:**root:/root:/bin/bash
bin:x:**bin:/bin:/sbin/nologin
sync:x:**sync:/sbin:/bin/sync
mail:x:**mail:/var/spool/mail:/sbin/nologin
nobody:x:**no:/:/sbin/nologin
sshd:x:**SSH:/var/empty/sshd:/sbin/nologin
veewee:x:**:/home/veewee:/bin/bash
vagrant:x:**:/home/vagrant:/bin/bash
mem:x:**Mem:/run/mem:/sbin/nologin
apache:x:**apa:/usr/share/httpd:/sbin/nologin
</code></pre>

<p>方法二：使用 <code>-e</code> 允许对输入数据应用多条sed命令编辑</p>

<pre><code>[root/tmp]# sed -i -e '5s/Nobody/no/g' -e '10s/Apache/apa/g'  passwd

[root/tmp]# cat -n passwd
     1  root:x:**root:/root:/bin/bash
     2  bin:x:**bin:/bin:/sbin/nologin
     3  sync:x:**sync:/sbin:/bin/sync
     4  mail:x:**mail:/var/spool/mail:/sbin/nologin
     5  nobody:x:**no:/:/sbin/nologin
     6  sshd:x:**SSH:/var/empty/sshd:/sbin/nologin
     7  veewee:x:**:/home/veewee:/bin/bash
     8  vagrant:x:**:/home/vagrant:/bin/bash
     9  mem:x:**Mem:/run/mem:/sbin/nologin
    10  apache:x:**apa:/usr/share/httpd:/sbin/nologin
</code></pre>

<ul>
<li><p>把文件中所有的 <code>:</code> 替换为制表符（<code>\t</code>）</p>

<p>[root/tmp]# sed -i &rsquo;s/:/\t/g&rsquo; passwd</p>

<p>[root/tmp]# cat -n passwd
     1  root    x       **root  /root   /bin/bash
     2  bin     x       **bin   /bin    /sbin/nologin
     3  sync    x       **sync  /sbin   /bin/sync
     4  mail    x       **mail  /var/spool/mail /sbin/nologin
     5  nobody  x       **no    /       /sbin/nologin
     6  sshd    x       **SSH   /var/empty/sshd /sbin/nologin
     7  veewee  x       **      /home/veewee    /bin/bash
     8  vagrant x       **      /home/vagrant   /bin/bash
     9  mem     x       **Mem   /run/mem        /sbin/nologin
    10  apache  x       **apa   /usr/share/httpd        /sbin/nologin</p></li>

<li><p>把第五行一直到结尾的 &lsquo;x&rsquo; 替换为 &lsquo;w&rsquo;</p>

<p>[root/tmp]# sed -i &lsquo;5,$s/x/w/g&rsquo; passwd</p>

<p>[root/tmp]# cat -n passwd
     1  root    x       **root  /root   /bin/bash
     2  bin     x       **bin   /bin    /sbin/nologin
     3  sync    x       **sync  /sbin   /bin/sync
     4  mail    x       **mail  /var/spool/mail /sbin/nologin
     5  nobody  w       **no    /       /sbin/nologin
     6  sshd    w       **SSH   /var/empty/sshd /sbin/nologin
     7  veewee  w       **      /home/veewee    /bin/bash
     8  vagrant w       **      /home/vagrant   /bin/bash
     9  mem     w       **Mem   /run/mem        /sbin/nologin
    10  apache  w       **apa   /usr/share/httpd        /sbin/nologin</p></li>
</ul>

<h2 id="五-sort-命令">五、sort 命令</h2>

<blockquote>
<p>将数据进行排序，并将排序结果标准输出。</p>
</blockquote>

<h3 id="1-语法-4">1. 语法</h3>

<pre><code>sort [选项] [文件名]
</code></pre>

<h3 id="2-选项-2">2. 选项</h3>

<blockquote>
<p><code>-n</code>：以数值型进行排序，默认是使用字符串型排序<br />
 <code>-r</code>：反向排序<br />
 <code>-f</code>：忽略大小写<br />
 <code>-t</code>：执行分隔符，默认的分隔符是制表符<br />
 <code>-k n[,m]</code>：按照指定的字段范围排序。从第n字段开始，第m字段结束（默认到行尾）</p>
</blockquote>

<h3 id="3-应用-1">3. 应用</h3>

<h4 id="对-passwd-文件内容进行排序"><strong>对 &lsquo;passwd&rsquo; 文件内容进行排序</strong></h4>

<pre><code>[root/tmp]# cat passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
sshd:x:74:74:SSH:/var/empty/sshd:/sbin/nologin
veewee:x:1000:1000::/home/veewee:/bin/bash
vagrant:x:1001:1001::/home/vagrant:/bin/bash
memcached:x:996:995:Memcached:/run/memcached:/sbin/nologin
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin
</code></pre>

<ul>
<li><p>正向排序</p>

<p>[root/tmp]# sort passwd
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin
bin:x:1:1:bin:/bin:/sbin/nologin
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
memcached:x:996:995:Memcached:/run/memcached:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
root:x:0:0:root:/root:/bin/bash
sshd:x:74:74:SSH:/var/empty/sshd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
vagrant:x:1001:1001::/home/vagrant:/bin/bash
veewee:x:1000:1000::/home/veewee:/bin/bash</p></li>

<li><p>反向排序</p>

<p>[root/tmp]# sort -r passwd
veewee:x:1000:1000::/home/veewee:/bin/bash
vagrant:x:1001:1001::/home/vagrant:/bin/bash
sync:x:5:0:sync:/sbin:/bin/sync
sshd:x:74:74:SSH:/var/empty/sshd:/sbin/nologin
root:x:0:0:root:/root:/bin/bash
nobody:x:99:99:Nobody:/:/sbin/nologin
memcached:x:996:995:Memcached:/run/memcached:/sbin/nologin
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
bin:x:1:1:bin:/bin:/sbin/nologin
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin</p></li>
</ul>

<h4 id="按照指定行排序">按照指定行排序</h4>

<ul>
<li><p>指定分隔符是 &ldquo;:&ldquo;，用第三个字段排序</p>

<p>[root/tmp]# sort -t &ldquo;:&rdquo; -k 3,3 passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
veewee:x:1000:1000::/home/veewee:/bin/bash
vagrant:x:1001:1001::/home/vagrant:/bin/bash
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
sshd:x:74:74:SSH:/var/empty/sshd:/sbin/nologin
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
memcached:x:996:995:Memcached:/run/memcached:/sbin/nologin</p></li>

<li><p>有上面结果可知，sort 默认是按照字符串排序，若想按照数字类型排序，则需要添加 <code>-n</code> 选项</p>

<p>[root/tmp]# sort -n -t &ldquo;:&rdquo; -k 3,3 passwd
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
sync:x:5:0:sync:/sbin:/bin/sync
mail:x:8:12:mail:/var/spool/mail:/sbin/nologin
apache:x:48:48:Apache:/usr/share/httpd:/sbin/nologin
sshd:x:74:74:SSH:/var/empty/sshd:/sbin/nologin
nobody:x:99:99:Nobody:/:/sbin/nologin
memcached:x:996:995:Memcached:/run/memcached:/sbin/nologin
veewee:x:1000:1000::/home/veewee:/bin/bash
vagrant:x:1001:1001::/home/vagrant:/bin/bash</p></li>
</ul>

<h4 id="展示当前目录下所有文件和目录的大小-并按照从大到小的顺序排列">展示当前目录下所有文件和目录的大小，并按照从大到小的顺序排列</h4>

<pre><code>[root/var]# du -s * | sort -nr
130440  lib
57584   cache
49800   tmp
7500    log
12      spool
8       db
0       var
0       run
0       opt
0       mail
0       lock
0       local
</code></pre>

<h2 id="六-wc-命令">六、wc 命令</h2>

<pre><code>统计文件的行数、单词数和字符数
</code></pre>

<h3 id="1-语法-5">1. 语法</h3>

<pre><code>wc [选项] 文件名
</code></pre>

<h3 id="2-选项-3">2. 选项</h3>

<blockquote>
<p><code>-l</code>：只统计行数<br />
 <code>-w</code>：只统计单词数<br />
 <code>-m</code>：只统计字符数</p>
</blockquote>

<h3 id="3-应用-2">3. 应用</h3>

<ul>
<li><p>report.md</p>

<p>[root/tmp]# cat report.md
ID      Name    Gender  Score
1       Zhang   F       99
2       Li      M       68
3       Wang    M       100</p></li>

<li><p>统计 report.md 的行数、单词数和字符数</p>

<p>[root/tmp]# wc report.md
 4 16 57 report.md</p></li>

<li><p>只统计行数</p>

<p>[root/tmp]# wc -l report.md
4 report.md</p></li>
</ul>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>