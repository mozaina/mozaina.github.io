<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>ubuntushell命令大全 | 开发者问答集锦</title>
    <meta property="og:title" content="ubuntushell命令大全 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="ubuntushell命令大全">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/ubuntushell%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">ubuntushell命令大全</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<p>原文地址：ubuntu shell命令大全 作者：sun5411</p>

<p>转自：<a href="http://blog.chinaunix.net/uid-22330495-id-141752.html">http://blog.chinaunix.net/uid-22330495-id-141752.html</a></p>

<h2 id="前言">前言</h2>

<p>下面的命令大都需要在 控制台 / 终端 / shell 下输入。</p>

<p>控制台, 终端, 和 shell 意味着同样一件事 - 一个命令行界面， 他可以用来控制系统。</p>

<p>打开一个控制台:</p>

<p>应用程序 &ndash;&gt; 附件 &ndash;&gt; 终端</p>

<p>任何一个使用 &lsquo;sudo&rsquo; 作为前缀的命令都需要拥有管理员 (或 root) 访问权限。 所以你会被提示输入你自己的密码。</p>

<h2 id="安装升级">安装升级</h2>

<h3 id="查看软件xxx安装内容">查看软件xxx安装内容</h3>

<pre><code>dpkg -L xxx
</code></pre>

<h3 id="查找软件库中的软件">查找软件库中的软件</h3>

<pre><code>apt-cache search 正则表达式  
或  
aptitude search 软件包
</code></pre>

<h3 id="显示系统安装包的统计信息">显示系统安装包的统计信息</h3>

<pre><code>apt-cache stats
</code></pre>

<h3 id="显示系统全部可用包的名称">显示系统全部可用包的名称</h3>

<pre><code>apt-cache pkgnames
</code></pre>

<h3 id="显示包的信息">显示包的信息</h3>

<pre><code>apt-cache show k3b
</code></pre>

<h3 id="查找文件属于哪个包">查找文件属于哪个包</h3>

<pre><code>apt-file search filename
</code></pre>

<h3 id="查看已经安装了哪些包">查看已经安装了哪些包</h3>

<pre><code>dpkg -l
</code></pre>

<h3 id="查询软件xxx依赖哪些包">查询软件xxx依赖哪些包</h3>

<pre><code>apt-cache depends xxx
</code></pre>

<h3 id="查询软件xxx被哪些包依赖">查询软件xxx被哪些包依赖</h3>

<pre><code>apt-cache rdepends xxx
</code></pre>

<h3 id="增加一个光盘源">增加一个光盘源</h3>

<pre><code>sudo apt-cdrom add
</code></pre>

<h3 id="系统升级">系统升级</h3>

<pre><code>sudo apt-get update (这一步更新包列表)


sudo apt-get dist-upgrade (这一步安装所有可用更新)  
或者  
sudo apt-get upgrade (这一步安装应用程序更新，不安装新内核等)
</code></pre>

<h3 id="清除所有已删除包的残馀配置文件">清除所有已删除包的残馀配置文件</h3>

<pre><code>dpkg -l |grep ^rc|awk '{print $2}' |sudo xargs dpkg -P
</code></pre>

<p>如果报如下错误，证明你的系统中没有残留配置文件了，无须担心。</p>

<hr />

<p>dpkg: &ndash;purge needs at least one package name argument</p>

<p>Type dpkg &ndash;help for help about installing and deinstalling packages [*];<br />
Use <code>dselect' or</code>aptitude&rsquo; for user-friendly package management;<br />
Type dpkg -Dhelp for a list of dpkg debug flag values;<br />
Type dpkg &ndash;force-help for a list of forcing options;<br />
Type dpkg-deb &ndash;help for help about manipulating <em>.deb files;<br />
Type dpkg &ndash;license for copyright license and lack of warranty (GNU GPL) [</em>].</p>

<p>Options marked [*] produce a lot of output - pipe it through <code>less' or</code>more&rsquo;
!</p>

<hr />

<h3 id="编译时缺少h文件的自动处理">编译时缺少h文件的自动处理</h3>

<pre><code>sudo auto-apt run ./configure
</code></pre>

<h3 id="查看安装软件时下载包的临时存放目录">查看安装软件时下载包的临时存放目录</h3>

<pre><code>ls /var/cache/apt/archives
</code></pre>

<h3 id="备份当前系统安装的所有包的列表">备份当前系统安装的所有包的列表</h3>

<pre><code>dpkg --get-selections | grep -v deinstall &gt; ~/somefile
</code></pre>

<h3 id="从上面备份的安装包的列表文件恢复所有包">从上面备份的安装包的列表文件恢复所有包</h3>

<pre><code>dpkg --set-selections &lt; ~/somefile  
sudo dselect
</code></pre>

<h3 id="清理旧版本的软件缓存">清理旧版本的软件缓存</h3>

<pre><code>sudo apt-get autoclean
</code></pre>

<h3 id="清理所有软件缓存">清理所有软件缓存</h3>

<pre><code>sudo apt-get clean
</code></pre>

<h3 id="删除系统不再使用的孤立软件">删除系统不再使用的孤立软件</h3>

<pre><code>sudo apt-get autoremove
</code></pre>

<h3 id="查看包在服务器上面的地址">查看包在服务器上面的地址</h3>

<pre><code>apt-get -qq --print-uris install ssh | cut -d\' -f2
</code></pre>

<h3 id="彻底删除gnome">彻底删除Gnome</h3>

<pre><code>apt-get --purge remove liborbit2
</code></pre>

<h3 id="彻底删除kde">彻底删除KDE</h3>

<pre><code>apt-get --purge remove libqt3-mt libqtcore4
</code></pre>

<h2 id="系统">系统</h2>

<h3 id="查看内核">查看内核</h3>

<pre><code>uname -a
</code></pre>

<h3 id="查看ubuntu版本">查看Ubuntu版本</h3>

<pre><code>cat /etc/issue  
或 cat /etc/lsb-release   
或 lsb_release –d –s –c
</code></pre>

<h3 id="查看内核加载的模块">查看内核加载的模块</h3>

<pre><code>lsmod
</code></pre>

<h3 id="查看pci设备">查看PCI设备</h3>

<pre><code>lspci
</code></pre>

<h3 id="查看usb设备">查看USB设备</h3>

<pre><code>lsusb   

#加参数 -v 可以显示USB设备的描述表（descriptors）  
lsusb -v
</code></pre>

<h3 id="查看网卡状态">查看网卡状态</h3>

<pre><code>sudo ethtool eth0
</code></pre>

<h3 id="查看cpu信息">查看CPU信息</h3>

<pre><code>cat /proc/cpuinfo
</code></pre>

<h3 id="显示当前硬件信息">显示当前硬件信息</h3>

<pre><code>sudo lshw
</code></pre>

<h3 id="显示当前内存大小">显示当前内存大小</h3>

<pre><code>free -m |grep &quot;Mem&quot; | awk '{print $2}'
</code></pre>

<h3 id="查看硬盘温度">查看硬盘温度</h3>

<pre><code>sudo apt-get install hddtemp  
sudo hddtemp /dev/sda
</code></pre>

<h3 id="显示系统运行时间">显示系统运行时间</h3>

<pre><code>$ uptime  
11:47:04 up 85 days,  2:10,  1 user,  load average: 2.40, 2.18, 2.34
</code></pre>

<h2 id="硬盘">硬盘</h2>

<h3 id="查看硬盘的分区">查看硬盘的分区</h3>

<pre><code>sudo fdisk -l
</code></pre>

<h3 id="硬盘分区">硬盘分区</h3>

<pre><code>#危险！小心操作。  
sudo fdisk /dev/sda
</code></pre>

<h3 id="硬盘格式化">硬盘格式化</h3>

<pre><code>#危险！将第一个分区格式化为 ext3 分区, mkfs.reiserfs mkfs.xfs mkfs.vfat  
sudo mkfs.ext3 /dev/sda1
</code></pre>

<h3 id="硬盘检查">硬盘检查</h3>

<pre><code>#危险！检查第一个分区，请不要检查已经挂载的分区，否则容易丢失和损坏数据  
sudo fsck /dev/sda1
</code></pre>

<h3 id="分区挂载">分区挂载</h3>

<pre><code>sudo mount -t 文件系统类型 设备路经 访问路经   
#常用文件类型如下： iso9660 光驱文件系统, vfat fat/fat32分区, ntfs ntfs分区, smbfs windows网络共享目录, reiserfs、ext3、xfs Linux分区  
#如果中文名无法显示尝试在最後增加 -o nls=utf8 或 -o iocharset=utf8   
#如果需要挂载後，普通用户也可以使用，在 -o 的参数後面增加 ,umask=022 如：-o nls=utf8,umask=022
</code></pre>

<h3 id="分区卸载">分区卸载</h3>

<pre><code>sudo umount 目录名或设备名
</code></pre>

<h3 id="只读挂载ntfs分区">只读挂载ntfs分区</h3>

<pre><code>sudo mount -t ntfs -o nls=utf8,umask=0 /dev/sdb1 /mnt/c
</code></pre>

<h3 id="可写挂载ntfs分区">可写挂载ntfs分区</h3>

<pre><code>sudo mount -t ntfs-3g -o locale=zh_CN.utf8,umask=0 /dev/sdb1 /mnt/c
</code></pre>

<h3 id="挂载fat32分区">挂载fat32分区</h3>

<pre><code>sudo mount -t vfat -o iocharset=utf8,umask=0 /dev/sda1 /mnt/c
</code></pre>

<h3 id="挂载共享文件">挂载共享文件</h3>

<pre><code>sudo mount -t smbfs -o  username=xxx,password=xxx,iocharset=utf8 //192.168.1.1/share /mnt/share
</code></pre>

<h3 id="挂载iso文件">挂载ISO文件</h3>

<pre><code>sudo mount -t iso9660 -o loop,utf8 xxx.iso /mnt/iso
</code></pre>

<h3 id="查看ide硬盘信息">查看IDE硬盘信息</h3>

<pre><code>sudo hdparm -i /dev/hda
</code></pre>

<h3 id="查看软raid阵列信息">查看软raid阵列信息</h3>

<pre><code>cat /proc/mdstat
</code></pre>

<h3 id="参看硬raid阵列信息">参看硬raid阵列信息</h3>

<pre><code>dmesg |grep -i raid  
cat /proc/scsi/scsi
</code></pre>

<h3 id="查看sata硬盘信息">查看SATA硬盘信息</h3>

<pre><code>sudo hdparm -I /dev/sda  
或  
sudo apt-get install blktool  
sudo blktool /dev/sda id
</code></pre>

<h3 id="查看硬盘剩余空间">查看硬盘剩余空间</h3>

<pre><code>df
</code></pre>

<p>用法：df [选项]&hellip; [文件]&hellip;显示每个所在的文件系统的信息，默认是显示所有文件系统。</p>

<pre><code>长选项必须用的参数在使用短选项时也是必需的。  
  -a, --all             包括大小为 0 个块的文件系统  
  -B, --block-size=大小 块以指定的字节为单位  
  -h, --human-readable  以容易理解的格式印出文件系统大小 (例如 1K 234M 2G)  
  -H, --si              类似 -h，但取 1000 的次方而不是 1024  
  -i, --inodes          显示 inode 信息而非块使用量  
  -k                    即 --block-size=1K  
  -l, --local           只显示本机的文件系统  
      --no-sync         取得使用量数据前不进行同步动作 (默认)  
  -P, --portability     使用 POSIX 兼容的输出格式  
      --sync            取得使用量数据前先进行同步动作  
  -t, --type=类型       只印出指定文件系统为指定的信息  
  -T, --print-type      印出文件系统类型  
  -x, --exclude-type=类型   只印出文件系统不是指定信息  
  -v                    (忽略)  
      --help     显示此帮助信息并离开  
      --version  显示版本信息并离开
</code></pre>

<h3 id="查看目录占用空间">查看目录占用空间</h3>

<pre><code>du -hs 目录名
</code></pre>

<h3 id="优盘没法卸载">优盘没法卸载</h3>

<pre><code>sync  
fuser -km /media/usbdisk
</code></pre>

<h3 id="使用文件来增加交换空间">使用文件来增加交换空间</h3>

<pre><code>#创建一个512M的交换文件 /swapfile  
sudo dd if=/dev/zero of=/swapfile bs=1M count=512   
sudo mkswap /swapfile  
sudo swapon /swapfile  
#sudo vim /etc/fstab #加到fstab文件中让系统引导时自动启动  
/swapfile swap swap defaults 0 0
</code></pre>

<h3 id="查看硬盘当前读写情况">查看硬盘当前读写情况</h3>

<pre><code># 首先安装 sysstat 包  
sudo apt-get install sysstat  
#每2秒刷新一次  
sudo iostat -x 2
</code></pre>

<h2 id="进程">进程</h2>

<h3 id="查看当前的内存使用情况">查看当前的内存使用情况</h3>

<pre><code>free
</code></pre>

<p>usage: free [-b|-k|-m|-g] [-l] [-o] [-t] [-s delay] [-c count] [-V]</p>

<pre><code>-b,-k,-m,-g show output in bytes, KB, MB, or GB  
  -l show detailed low and high memory statistics  
  -o use old format (no -/+buffers/cache line)  
  -t display total for RAM + swap  
  -s update every [delay] seconds  
  -c update [count] times  
  -V display version information and exit
</code></pre>

<h3 id="连续监视内存使用情况">连续监视内存使用情况</h3>

<pre><code>watch  -d free  
# 使用 Ctrl + c 退出
</code></pre>

<h3 id="动态显示进程执行情况">动态显示进程执行情况</h3>

<pre><code>top  
top指令运行时输入H或？打开帮助窗口，输入Q退出指令。
</code></pre>

<h3 id="查看当前有哪些进程">查看当前有哪些进程</h3>

<pre><code>ps -AFL
</code></pre>

<h3 id="统计程序的内存耗用">统计程序的内存耗用</h3>

<pre><code>ps -eo fname,rss|awk '{arr[$1]+=$2} END {for (i in arr) {print i,arr[i]}}'|sort -k2 -nr
</code></pre>

<h3 id="按内存从大到小排列进程">按内存从大到小排列进程</h3>

<pre><code>ps -eo &quot;%C  : %p : %z : %a&quot;|sort -k5 -nr
</code></pre>

<h3 id="按cpu利用率从大到小排列进程">按cpu利用率从大到小排列进程</h3>

<pre><code>ps -eo &quot;%C  : %p : %z : %a&quot;|sort  -nr
</code></pre>

<h3 id="查看当前进程树">查看当前进程树</h3>

<pre><code>pstree
</code></pre>

<h3 id="中止一个进程">中止一个进程</h3>

<pre><code>kill 进程号(就是ps -A中的第一列的数字)  
或者 killall 进程名
</code></pre>

<h3 id="强制中止一个进程-在上面进程中止不成功的时候使用">强制中止一个进程(在上面进程中止不成功的时候使用)</h3>

<pre><code>kill -9 进程号  
或者 killall -9 进程名
</code></pre>

<h3 id="图形方式中止一个程序">图形方式中止一个程序</h3>

<pre><code>xkill 出现骷髅标志的鼠标，点击需要中止的程序即可
</code></pre>

<h3 id="查看进程打开的文件">查看进程打开的文件</h3>

<pre><code>lsof -p 进程的pid
</code></pre>

<h3 id="显示开启文件abc-txt的进程">显示开启文件abc.txt的进程</h3>

<pre><code>lsof abc.txt
</code></pre>

<h3 id="显示22端口现在运行什么程序">显示22端口现在运行什么程序</h3>

<pre><code>lsof -i :22
</code></pre>

<h3 id="显示nsd进程现在打开的文件">显示nsd进程现在打开的文件</h3>

<pre><code>lsof -c nsd
</code></pre>

<h3 id="在后台运行程序-退出登录后-并不结束程序">在后台运行程序，退出登录后，并不结束程序</h3>

<pre><code>nohup 程序 &amp;  
#查看中间运行情况　tail nohup
</code></pre>

<h3 id="详细显示程序的运行信息">详细显示程序的运行信息</h3>

<pre><code>strace -f -F -o outfile 
</code></pre>

<h3 id="增加系统最大打开文件个数">增加系统最大打开文件个数</h3>

<pre><code>echo 4096 &gt; /proc/sys/fs/file-max  
#或者  
ulimit -n 4096
</code></pre>

<h3 id="清除僵死进程">清除僵死进程</h3>

<pre><code>ps -eal | awk '{ if ($2 == &quot;Z&quot;) {print $4}}' | xargs sudo kill -9
</code></pre>

<p>ubuntu shell 使用命令大全 3 xxx命令和压缩和cd</p>

<p>2009-03-10 09:43</p>

<h3 id="查找关于xxx的命令">查找关于xxx的命令</h3>

<pre><code>apropos xxx  
man -k xxx
</code></pre>

<h3 id="通过ssh传输文件">通过ssh传输文件</h3>

<pre><code>scp -rp /path/filename username@remoteIP:/path #将本地文件拷贝到服务器上  
scp -rp username@remoteIP:/path/filename /path #将远程文件从服务器下载到本地


tar cvzf - /path/ | ssh username@remoteip &quot;cd /some/path/; cat -&gt; path.tar.gz&quot; #压缩传输  
tar cvzf - /path/ | ssh username@remoteip &quot;cd /some/path/; tar xvzf -&quot; #压缩传输一个目录并解压
</code></pre>

<h3 id="把所有文件的后辍由rm改为rmvb">把所有文件的后辍由rm改为rmvb</h3>

<pre><code>rename 's/.rm$/.rmvb/' *
</code></pre>

<h3 id="把所有文件名中的大写改为小写">把所有文件名中的大写改为小写</h3>

<pre><code>rename 'tr/A-Z/a-z/' *
</code></pre>

<h3 id="删除特殊文件名的文件-如文件名-help-txt">删除特殊文件名的文件，如文件名：&ndash;help.txt</h3>

<pre><code>rm -- --help.txt 或者 rm ./--help.txt
</code></pre>

<h3 id="查看当前目录的子目录">查看当前目录的子目录</h3>

<pre><code>ls -d */. 或 echo */.
</code></pre>

<h3 id="将当前目录下最近30天访问过的文件移动到上级back目录">将当前目录下最近30天访问过的文件移动到上级back目录</h3>

<pre><code>find . -type f -atime -30 -exec mv {} ../back \;
</code></pre>

<h3 id="显示系统服务器一小时以内的包含-xxxx-的所有邮件">显示系统服务器一小时以内的包含 xxxx 的所有邮件</h3>

<pre><code>find /home/ -path &quot;*Maildir*&quot; -type f -mmin -60|xargs -i  grep -l xxxx '{}'
</code></pre>

<h3 id="将当前目录下最近2小时到8小时之内的文件显示出来">将当前目录下最近2小时到8小时之内的文件显示出来</h3>

<pre><code>find . -mmin +120 -mmin -480 -exec more {} \;
</code></pre>

<h3 id="删除修改时间在30天之前的所有文件">删除修改时间在30天之前的所有文件</h3>

<pre><code>find . -type f -mtime +30 -mtime -3600 -exec rm {} \;
</code></pre>

<h3 id="删除创建时间在30天之前的所有文件">删除创建时间在30天之前的所有文件</h3>

<pre><code>find . -type f -ctime +30 -ctime -3600 -exec rm {} \;
</code></pre>

<h3 id="查找guest用户的以avi或者rm结尾的文件并删除掉">查找guest用户的以avi或者rm结尾的文件并删除掉</h3>

<pre><code>find . -name '*.avi' -o -name '*.rm' -user 'guest' -exec rm {} \;
</code></pre>

<h3 id="查找不以java和xml结尾-并7天没有使用的文件删除掉">查找不以java和xml结尾,并7天没有使用的文件删除掉</h3>

<pre><code>find . ! -name *.java ! -name ‘*.xml’ -atime +7 -exec rm {} \;
</code></pre>

<h3 id="删除当前目录里面所有的-svn-目录">删除当前目录里面所有的 .svn 目录</h3>

<pre><code>find . -name .svn -type d -exec rm -fr {} \;
</code></pre>

<h3 id="删除当前目录所有以-结尾的临时文件">删除当前目录所有以“~”结尾的临时文件</h3>

<pre><code>find . -name &quot;*~&quot; -exec rm {} \;
</code></pre>

<h3 id="统计当前文件个数">统计当前文件个数</h3>

<pre><code>ls /usr/bin|wc -w
</code></pre>

<h3 id="统计当前目录下所有jpg文件的尺寸">统计当前目录下所有jpg文件的尺寸</h3>

<pre><code>find . -name *.jpg -exec wc -c {} \;|awk '{print $1}'|awk '{a+=$1}END{print a}'
</code></pre>

<h3 id="统计当前目录个数">统计当前目录个数</h3>

<pre><code>ls -l /usr/bin|grep ^d|wc -l
</code></pre>

<h3 id="统计当前目录下占空间最大的前10名文件或目录">统计当前目录下占空间最大的前10名文件或目录</h3>

<pre><code>du -sm * | sort -nr | head -10
</code></pre>

<h3 id="显示当前目录下2006-01-01的文件名">显示当前目录下2006-01-01的文件名</h3>

<pre><code>ls -l |grep 2006-01-01 |awk '{print $8}'
</code></pre>

<h3 id="备份当前系统到另外一个硬盘">备份当前系统到另外一个硬盘</h3>

<pre><code>sudo rsync -Pa / /media/disk1 --exclude=/media/* --exclude=/home/* --exclude=/sys/* --exclude=/tmp/* --exclude=/proc/* --exclude=/mnt/*
</code></pre>

<h3 id="使用ssh方式同步远程数据到本地目录">使用ssh方式同步远程数据到本地目录</h3>

<pre><code>rsync -Pa -I --size-only --delete --timeout=300 Remote_IP:/home/ubuntu/back /backup
</code></pre>

<h3 id="使用ftp方式同步远程数据到本地目录">使用ftp方式同步远程数据到本地目录</h3>

<pre><code>lftp -c &quot;open Remote_IP;user UserName Password;set cache:enable false;set ftp:passive-mode false;set net:timeout 15;mirror -e -c /back /backup;&quot;
</code></pre>

<h3 id="去掉文件中的-m">去掉文件中的^M</h3>

<pre><code>#注意不要使用同样的文件名，会清空掉原文件  
cat filename | tr -d &quot;^M&quot; &gt; newfile;  
或者  
sed -e &quot;s/^M//g&quot; filename &gt; newfile;
</code></pre>

<h3 id="转换bin-cue到iso文件">转换bin/cue到iso文件</h3>

<pre><code>#sudo apt-get install bchunk  
bchunk image.bin image.cue image
</code></pre>

<h3 id="转换目录到iso文件">转换目录到iso文件</h3>

<pre><code>mkisofs -o isofile.iso  dirname
</code></pre>

<h3 id="转换cd到iso文件">转换CD到iso文件</h3>

<pre><code>dd if=/dev/cdrom of=isofile.iso
</code></pre>

<h2 id="影像">影像</h2>

<h3 id="批量将rmvb转为avi">批量将rmvb转为avi</h3>

<pre><code>#ipod touch可用  
for i in *; do mencoder -oac mp3lame -lameopts vbr=3 -ovc xvid -xvidencopts fixed_quant=4 -of avi $i -o `echo $i | sed -e 's/rmvb$/avi/'`; done
</code></pre>

<h3 id="cd-抓轨为-mp3-有损">CD 抓轨为 mp3 (有损)</h3>

<pre><code>sudo apt-get install abcde;abcde -o mp3 -b
</code></pre>

<h3 id="cd-抓轨为-flac-无损">CD 抓轨为 Flac (无损)</h3>

<pre><code>sudo apt-get install abcde;abcde -o flac -b
</code></pre>

<h3 id="ape-转换为-flac">ape 转换为 flac</h3>

<pre><code>#sudo apt-get install flac shntool iconv  
iconv -f GB2312 -t UTF-8 example.cue -o example_UTF-8.cue  
shntool split -t &quot;%n.%p-%t&quot; -f example_UTF-8.cue -o flac example.ape -d flacOutputDir
</code></pre>

<h3 id="ape-转换为-mp3">ape 转换为 mp3</h3>

<pre><code>#sudo apt-get install flac shntool lame iconv  
iconv -f GB2312 -t UTF-8 example.cue -o example_UTF-8.cue  
shntool split -t &quot;%n.%p-%t&quot; -f example_UTF-8.cue -o 'cust ext=mp3 lame --r3mix -b 320 --quiet - %f' example.ape -d mp3OutputDir
</code></pre>

<h3 id="批量将svg转为png">批量将svg转为png</h3>

<pre><code>for i in *; do inkscape $i --export-png=`echo $i | sed -e 's/svg$/png/'`; done
</code></pre>

<h3 id="批量缩小图片到30">批量缩小图片到30%</h3>

<pre><code>for i in *.jpg; do convert -resize 30%x30% $i sm-$i; done
</code></pre>

<h3 id="批量转换jpg到png">批量转换jpg到png</h3>

<pre><code>for i in *; do convert $i `echo $i | sed -e 's/jpg$/png/'`; done
</code></pre>

<h3 id="获取jpg的扩展信息-exif">获取jpg的扩展信息(Exif)</h3>

<pre><code>identify -verbose xxx.jpg
</code></pre>

<h2 id="压缩">压缩</h2>

<h3 id="增加-7z-压缩软件">增加 7Z 压缩软件</h3>

<pre><code>#支持 7Z,ZIP,Zip64,CAB,RAR,ARJ,GZIP,BZIP2,TAR,CPIO,RPM,ISO,DEB 压缩文件格式  
sudo apt-get install p7zip p7zip-full p7zip-rar
</code></pre>

<h3 id="增加-rar-软件压缩和解压缩支持">增加 rar 软件压缩和解压缩支持</h3>

<pre><code>sudo apt-get install rar unrar
</code></pre>

<h3 id="解压缩-xxx-tar-gz">解压缩 xxx.tar.gz</h3>

<pre><code>tar -zxvf xxx.tar.gz
</code></pre>

<h3 id="解压缩-xxx-tar-bz2">解压缩 xxx.tar.bz2</h3>

<pre><code>tar -jxvf xxx.tar.bz2
</code></pre>

<h3 id="压缩aaa-bbb目录为xxx-tar-gz">压缩aaa bbb目录为xxx.tar.gz</h3>

<pre><code>tar -zcvf xxx.tar.gz aaa bbb
</code></pre>

<h3 id="压缩aaa-bbb目录为xxx-tar-bz2">压缩aaa bbb目录为xxx.tar.bz2</h3>

<pre><code>tar -jcvf xxx.tar.bz2 aaa bbb
</code></pre>

<h3 id="增加-lha-支持">增加 lha 支持</h3>

<pre><code>sudo apt-get install lha
</code></pre>

<h3 id="增加解-cab-文件支持">增加解 cab 文件支持</h3>

<pre><code>sudo apt-get install cabextract
</code></pre>

<h2 id="nautilus">Nautilus</h2>

<h3 id="显示隐藏文件">显示隐藏文件</h3>

<pre><code>Ctrl+h
</code></pre>

<h3 id="显示地址栏">显示地址栏</h3>

<pre><code>Ctrl+l
</code></pre>

<h3 id="特殊-uri-地址">特殊 URI 地址</h3>

<pre><code>* computer:/// - 全部挂载的设备和网络  
* network:/// - 浏览可用的网络  
* burn:/// - 一个刻录 CDs/DVDs 的数据虚拟目录  
* smb:/// - 可用的 windows/samba 网络资源  
* x-nautilus-desktop:/// - 桌面项目和图标  
* file:/// - 本地文件  
* trash:/// - 本地回收站目录  
* ftp:// - FTP 文件夹  
* ssh:// - SSH 文件夹  
* fonts:/// - 字体文件夹，可将字体文件拖到此处以完成安装  
* themes:/// - 系统主题文件夹
</code></pre>

<h3 id="查看已安装字体">查看已安装字体</h3>

<pre><code>fc-list  
在nautilus的地址栏里输入”fonts:///“，就可以查看本机所有的fonts  (这个似乎不行)
</code></pre>

<h2 id="日期和时间">日期和时间</h2>

<h3 id="显示日历">显示日历</h3>

<pre><code>cal # 显示当月日历  
cal 2 2007 # 显示2007年2月的日历
</code></pre>

<h3 id="设置日期">设置日期</h3>

<pre><code>date -s mm/dd/yy
</code></pre>

<h3 id="设置时间">设置时间</h3>

<pre><code>date -s HH:MM
</code></pre>

<h3 id="将时间写入cmos">将时间写入CMOS</h3>

<pre><code>hwclock --systohc
</code></pre>

<h3 id="查看cmos时间">查看CMOS时间</h3>

<pre><code>hwclock --show
</code></pre>

<h3 id="读取cmos时间">读取CMOS时间</h3>

<pre><code>hwclock --hctosys
</code></pre>

<h3 id="从服务器上同步时间">从服务器上同步时间</h3>

<pre><code>sudo ntpdate ntp.ubuntu.com  
sudo ntpdate time.nist.gov
</code></pre>

<h3 id="设置电脑的时区为上海">设置电脑的时区为上海</h3>

<pre><code>sudo cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
</code></pre>

<h3 id="xp-和-ubuntu-相差了-8-小时的时差">XP 和 Ubuntu 相差了 8 小时的时差</h3>

<pre><code>#关闭UTC，将当前时间写入CMOS。  
sudo sed -ie 's/UTC=yes/UTC=no/g' /etc/default/rcS  
sudo hwclock --systohc
</code></pre>

<h2 id="工作区">工作区</h2>

<h3 id="不同工作区间切换">不同工作区间切换</h3>

<pre><code>Ctrl + ALT + ←  
Ctrl + ALT + →  
或者，将滚轮鼠标放在工作区图标上滚动
</code></pre>

<h2 id="控制台">控制台</h2>

<h3 id="指定控制台切换">指定控制台切换</h3>

<pre><code>Ctrl + ALT + Fn(n:1~7)
</code></pre>

<h3 id="控制台下滚屏">控制台下滚屏</h3>

<pre><code>SHIFT + pageUp/pageDown
</code></pre>

<h3 id="控制台抓图">控制台抓图</h3>

<pre><code>setterm -dump n(n:1~7)
</code></pre>

<p>只是支持tty1-7。没中文。没颜色代码序列。</p>

<p>一、今天阅读项目的sh脚本，特地看了下sh脚本的执行方法，发现还是挺多的，在网络上搜索到一些相关资料，罗列如下。</p>

<p>1. source命令或者点(.)命令用法：</p>

<p>source FileName</p>

<p>作用:在当前bash环境下读取并执行FileName中的命令。该filename文件可以无&rdquo;执行权限&rdquo;</p>

<p>注：该命令通常用命令“.”来替代。</p>

<p>这里的FileName不需要用 #!</p>

<p>如：source .bash_profile</p>

<p>. .bash_profile两者等效。</p>

<p>source(或点)命令通常用于重新执行刚修改的初始化文档。</p>

<p>source命令(从 C Shell 而来)是bash shell的内置命令。</p>

<p>点命令，就是个点符号，(从Bourne Shell而来)。</p>

<p>source的程序主体是bash，脚本中的$0变量的值是bash，而且由于作用于当前bash环境，脚本中set的变量将直接起效</p>

<p>2 sh, bash的命令用法：</p>

<p>sh/bash FileName</p>

<p>作用:打开一个子shell来读取并执行FileName中命令。该filename文件可以无&rdquo;执行权限&rdquo;</p>

<p>注：运行一个shell脚本时会启动另一个命令解释器.</p>

<p>每个shell脚本有效地运行在父shell(parent shell)的一个子进程里.</p>

<p>这个父shell是指在一个控制终端或在一个xterm窗口中给你命令指示符的进程.</p>

<p>shell脚本也可以启动他自已的子进程.</p>

<p>这些子shell(即子进程)使脚本并行地，有效率地地同时运行脚本内的多个子任务.</p>

<p>在ubuntu中sh只是bash的一个链接。</p>

<p>由于是在子shell中执行，脚本设置的变量不会影响当前shell。</p>

<p>3、./的命令用法：</p>

<p>./FileName</p>

<p>作用:打开一个子shell来读取并执行FileName中命令。该filename文件需要&rdquo;执行权限&rdquo;</p>

<p>注：运行一个shell脚本时会启动另一个命令解释器.</p>

<p>每个shell脚本有效地运行在父shell(parent shell)的一个子进程里.</p>

<p>这个父shell是指在一个控制终端或在一个xterm窗口中给你命令指示符的进程.</p>

<p>shell脚本也可以启动他自已的子进程.</p>

<p>这些子shell(即子进程)使脚本并行地，有效率地地同时运行脚本内的多个子任务.</p>

<p>由于是在子shell中执行，脚本设置的变量不会影响当前shell。</p>

<p>二、第一个最常见的修改环境变量的命令：</p>

<p>export 功能说明：设置或显示环境变量。<br />
语 法：export [-fnp][变量名称]=[变量设置值]<br />
补充说明：在shell中执行程序时，shell会提供一组环境变量。export可新增，修改或删除环境变量，供后续执行的程序使用。export的效力仅限于该次登陆操作。<br />
参 数：<br />
-f 代表[变量名称]中为函数名称。<br />
-n 删除指定的变量。变量实际上并未删除，只是不会输出到后续指令的执行环境中。<br />
-p 列出所有的shell赋予程序的环境变量。</p>

<p>扩展：</p>

<p>set:显示(设置)shell变量 包括的私有变量以及用户变量，不同类的shell有不同的私有变量 bash,ksh,csh每中shell私有变量都不一样</p>

<p>env:显示(设置)用户变量变量</p>

<p>export:显示(设置)当前导出成用户变量的shell变量。</p>

<p>使用unset命令来清除环境变量，注意set env export设置的变量，都可以用unset来清除的</p>

<p>使用readonly命令设置只读变量</p>

<p>最根本的设置、更改变量的配置文件 ~/.bash_profile ~/.bashrc ~/.bash_logout</p>

<p>~/.bash_profile 用户登录时被读取，其中包含的命令被执行</p>

<p>~/.bashrc 启动新的shell时被读取，并执行</p>

<p>~/.bash_logout shell 登录退出时被读取</p>

<p>三、Bash shell的初始化过程</p>

<p>shell（这里指ｂａｓｈ）的初始化过程是这样的：</p>

<p>1.bash 检查文件/etc/profile 是否存在</p>

<p>2. 如果存在，bash 就读取该文件，否则，跳过</p>

<p>3.bash 检查主目录下的文件.bash_profile 是否存在。</p>

<p>4. 如果存在，bash 就读取該文件，否则，跳过</p>

<p>5.bash 检查主目录下的.bash_login 是否存在。</p>

<p>6. 如果存在，bash 就读取该文件，否则，跳过</p>

<p>7.bash 检查主目录下的文件.profile 是否存在</p>

<p>8. 如果存在， bash 就读取该文件，否则，跳过。</p>

<p>这些步骤都执行完后，就出现提示符了， ksh 默认提示符是 $.</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>