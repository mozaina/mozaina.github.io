<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>RubyGems | 开发者问答集锦</title>
    <meta property="og:title" content="RubyGems - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="RubyGems">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/rubygems/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">RubyGems</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h3 id="ruby-gems">Ruby Gems</h3>

<p>2010-07-26 16:29:54| 分类： ruby&amp;rails|字号 订阅</p>

<p><strong>1. 什么是RubyGems</strong><br />
RubyGems是一个库和程序的标准化打包以及安装框架，使得定位、安装、升级和卸载Ruby包变得容易。</p>

<p>1.1 RubyGems出现之前<br />
1)、搜索互联网找到需要安装的Ruby程序<br />
2)、搜索Ruby程序依赖的程序<br />
3)、下载所有程序包<br />
4)、按顺序安装</p>

<p><strong>1.2 安装RubyGems</strong><br />
安装的RubyGems有三种方法<br />
方法1) 使用ruby一步安装程序自带的RubyGems<br />
在<a href="http://www.ruby-">http://www.ruby-</a>
lang.org/zh_CN/中下载，针对windows平台的一步安装文件ruby186-26.exe，安装完毕系统就自带RubyGems，不过缺点就是版本比较低为0.9.4
。<br />
方法2) 网上下载RubyGems的最新版本到本地，然后手动安装<br />
在<a href="http://rubyforge.org/projects/rubygems/中下载RubyGems的最新版本（目前最新版本为1.3.1">http://rubyforge.org/projects/rubygems/中下载RubyGems的最新版本（目前最新版本为1.3.1</a>
），在本地解压并执行 <strong>ruby install.rb命令</strong></p>

<p>方法3) 使用ruby一步安装程序自带的低版本RubyGems的升级功能<br />
在命令行中输入 <strong>gem install rubygems-update</strong> 自动升级为最新版本（ <strong>强烈推荐这种方法升级RubyGems</strong> ）</p>

<p>**1.3 从哪些途径能够了解到RubyGems<br />
** 最简单的方法就是在命令行打 <strong>gem help</strong> 命令</p>

<p>第2种方法就是在<a href="http://docs.rubygems.org/中找到你需要的帮助文档（">http://docs.rubygems.org/中找到你需要的帮助文档（</a>
<strong>学习初期推荐使用第1种方法来了解RubyGems，后期强烈推荐第2种方法来学习，这样可以学到更多的有用的知识</strong> ）</p>

<p><strong>1.4 怎样利用好RubyGems的强大功能</strong><br />
现在网上用Ruby开发的开源项目非常多，大家可以到<a href="http://rubyforge.org这个网站中去看一下。基本上这里找到的项目都能使用RubyGems来（以上见解纯属个人看法，如有与事实不同概不负责）">http://rubyforge.org这个网站中去看一下。基本上这里找到的项目都能使用RubyGems来（以上见解纯属个人看法，如有与事实不同概不负责）</a></p>

<p><strong>2. Ruby Gems命令行参考手册</strong></p>

<p>我学习ruby有一段时间，有一些新的想与大家分享，要学会ruby首先要学会怎么玩ruby。然而怎么玩ruby的第一步就是如何安装配置ruby的常用库。rubygems是ruby提供的一个非常有效配置ruby插件的工具。一开始接触rubygems的朋友非常头痛如何能学会rubygems他到底怎么操作，下面我来介绍一下如何来作rubygems的日常操作。</p>

<p>**1)、查询<br />
**
查询本地和远程安装的gem信息，这是你进入rubygems世界的第一步。了解本地的机器上到底装了哪些gems，远程的资源库中有哪些非常有趣的gems，用一条查询命令就可以全部搞定。不知道出于何种目的rubygems一共有三种查询的命令，晕。分别是gem
query 、gem search 、gem list。通过分别使用我发现这三个命令基本上都一样。为了不浪费时间我建议大家日常使用就直接用gem
query，他的好处就是可以支持正则表达式为查询条件过滤内容。由于网上的gem资源有很多如何来快速查询自己需要的内容就使用gem query吧。<br />
1.1查询本地安装的gem，在命令行中打入gem query 或者是gem query -l。</p>

<p>1.2查询远程的可以提供下载使用的gem,在命令行中打入gem query -r 告诉rubygems查询远程的gem资源。</p>

<p>1.3使用关键字查询，这也是query命令的最厉害的地方支持正则表达式为条件的搜索。下图就是我们以record为关键字进行搜索</p>

<p>**2)、安装gem<br />
** 查询完了就可以安装自己所需要的gem了，命令很简单就是install，只要看到sucessfully的提示就可以了。</p>

<p>**3)、卸载<br />
** 安装了一段时间后一些gem不需要了，我们就可以用命令把他卸载了，只要看到sucessfully的提示就说明卸载成功了。</p>

<p>rubygems常用的命令就这3个很简单吧，如何深入使用这三个命令。接下来我准备用3次来分别详细介绍。</p>

<h4 id="3-gem-query"><strong>3. gem query</strong></h4>

<h4 id="查询本地或者远程的gem资源-查询结果以列表方式显示">–查询本地或者远程的gem资源，查询结果以列表方式显示</h4>

<p>gem query的功能<br />
1、 把查询结果以列表方式显示出来<br />
2、可以设置是从本地还是从远程进行查询<br />
3、可以设置查询的关键字</p>

<pre><code>Usage: gem query [options]    Options:     -n, --name-matches REGEXP        Name of gem(s) to query on maches the provided REGEXP     -d, --[no-]details               Display detailed information of gem(s)     -l, --local                      Restrict operations to the LOCAL domain (default)     -r, --remote                     Restrict operations to the REMOTE domain     -b, --both                       Allow LOCAL and REMOTE operations


1)、使用-l或者--local为选项列出本地gem，其实gem query不加任何选项默认就是查询本地gem。 


2)、使用-d或者--details列出gem的Description信息，可以对比一下上面的图片加上-d之后可以显示gem的名称、版本、作者、Rubyforge的网址、Homepage、安装gem的地址等一些详细的介绍，让你对这个gem有更多的了解 


3)、使用-r或者--remote为选项列出远程gem信息。 远程的gem是很多开源组织或者个人以非赢利为目的把自己的项目发到www.rubyforge.org中，供大家下载使用。 所以经常使用-r为条件看看远程有哪些新增的或者非常有趣的项目，如果觉得不错就可以下载到本地安装。 


4)、使用-b或者--both为选项列出本地和远程的gem信息（这个选项不会经常使用到）


5)、使用-n或者--name-matches为选项作gem名字搜索支持正则表达式为条件的搜索。下图就是搜索名称中带有record的gem 


下面就是query最强大的地方支持正则表达式的特殊符合  


 
</code></pre>

<h3 id="4-rubygems-版本策略"><strong>4. RubyGems 版本策略</strong></h3>

<h5 id="理解rubygems版本管理策略">理解RubyGems版本管理策略</h5>

<p>每个gem项目基本上都是一些以非赢利为目的的个人和组织上传的，处于松散管理状态。如何能把gem项目更好的管理起来，RubyGems有一套自己的管理策略，从而规范大家的版本发布。</p>

<p>其实RubyGem的版本管理策略很简单的，我们经常可以使用gem query命令可以看到在gem包后面会跟一个或者多个由数字组成的字符串（3, 3.1,
3.14, 3.141,
3.1415），它到底代表了什么含义呢。至于在确定了需要安装gem的名称后如何选择我们需要的版本来安装在后面几天我会详细介绍。现在我们只要能做到理解这些数字的含义就可以了。</p>

<p>每个gem项目都有自己的生命周期，其实能利用RubyGems版本管理策略看懂各个gem项目版本之间的区别也是一件非常有意思的事情，让我们接下去看。</p>

<p>RubyGems版本依赖采用操作符 <strong>主版本.次版本.补丁</strong> 的形式发布的</p>

<p>上图说明了名字叫tinkerbell的gem项目现在主版本为0，次版本为0，补丁为4，what_does_this_error_mean-
merb这个项目的主版本为0，此版本为0，补丁为3。从这些信息都表明这两个项目都是比较新的项目tinkerbell项目发到现在只有3个比较小的改动。接下来让我们看看RubyGems版本管理的</p>

<p><strong>Version 0.0.1</strong> : gem项目最初的一个版本。<br />
 <strong>Version 0.0.2</strong> : 经过最初版本的发布后，修改了一些Bug对某些细节作了修改，所以只做补丁版本的改变。<br />
 <strong>Version 0.1.0</strong> : 在前一个版本的基础上改变了一些类方法，这些改动就不是修复补丁那么简单的了，所以有必要改变次版本号。<br />
 <strong>Version 1.0.0</strong> : 在一定范围内做了方法或者类的改变，应该改动是比较大的，所以需要改变主版本号。</p>

<p>简单吧，其实RubyGems的版本管理策略是非常简单而且行之有效的，已经成为了gem项目发布的一个规范了。</p>

<p><strong>5.代理服务下如何使用gems</strong></p>

<p>如果使用了代理服务，相关命令需要使用 -p 选项(设置了环境变量则不用-p)，同时设置代理.<br />
windows:<br />
<strong>格式</strong> ：set HTTP_PROXY=<a href="http://username:password@www.proxy.com:port">http://username:password@www.proxy.com:port</a><br />
set HTTP_PROXY=<a href="http://yisl:Loveleidian123@10.19.0.7:80">http://yisl:Loveleidian123@10.19.0.7:80</a><br />
gem install watir -p</p>

<p>linux:<br />
<strong>格式</strong> ：export HTTP_PROXY=<a href="http://username:password@www.proxy.com:port">http://username:password@www.proxy.com:port</a></p>

<p>export HTTP_PROXY=<a href="http://yisl:Loveleidian123@10.19.0.7:80">http://yisl:Loveleidian123@10.19.0.7:80</a><br />
gem update –system</p>

<p><strong>6. ruby+gem常用命令</strong></p>

<p>ruby -v #查看ruby 版本<br />
ruby -e &lsquo;require&rdquo;watir&rdquo;; puts Watir::IE::VERSION&rsquo; #查看watir版本</p>

<p>gem -v #gem版本<br />
gem update #更新所有包<br />
gem update &ndash;system #更新RubyGems软件</p>

<p>gem install rake #安装rake,从本地或远程服务器<br />
gem install rake &ndash;remote #安装rake,从远程服务器</p>

<p>gem install watir -v(或者&ndash;version) 1.6.2#指定安装版本的 (多谢 wpyily 提供)<br />
gem uninstall rake #卸载rake包<br />
gem list d #列出本地以d打头的包<br />
gem query -n &lsquo;[0-9]&rsquo; &ndash;local #查找本地含有数字的包<br />
gem search log &ndash;both #从本地和远程服务器上查找含有log字符串的包<br />
gem search log &ndash;remoter #只从远程服务器上查找含有log字符串的包<br />
gem search -r log #只从远程服务器上查找含有log字符串的包</p>

<p>gem help #提醒式的帮助<br />
gem help install #列出install命令 帮助<br />
gem help examples #列出gem命令使用一些例子</p>

<p>gem build rake.gemspec #把rake.gemspec编译成rake.gem<br />
gem check -v pkg/rake-0.4.0.gem #检测rake是否有效<br />
gem cleanup #清除所有包旧版本，保留最新版本<br />
gem contents rake #显示rake包中所包含的文件<br />
gem dependency rails -v 0.10.1 #列出与rails相互依赖的包<br />
gem environment #查看gem的环境</p>

<p>使用方式<br />
大概的準則是這樣子（我這邊一律用縮寫）</p>

<p>i 是安裝</p>

<ul>
<li>q 是查詢</li>
<li>-r 是操作遠端伺服器上的套件</li>
<li>-l 就是本地端的套件</li>
<li>-n 就是查詢名字</li>
<li>-y 就是將所有相關的套件全部裝好

<br /></li>
</ul>

<p>1). 查詢本機端安裝了那些套件<br />
gem q<br />
2). 查詢遠端有那些套件可以安裝<br />
gem q -r<br />
3).查詢遠端有沒有名叫 ABC 的套件可以安裝<br />
gem q -r -n ABC<br />
4). 安裝遠端名叫 ABC 的套件<br />
gem i -r ABC<br />
5). 安裝遠端名叫 ABC 的套件，並且把所有相關的套件都裝好<br />
gem i -r ABC &ndash;include-dependencies<br />
6).移除已經安裝的 ABC 套件（你說為何不用縮寫，因為Uninstall 要謹慎點 :p)<br />
gem uninstall ABC<br />
7). 升級ABC 套件（也就是再安裝一次）<br />
gem i ABC<br />
8). 列出本機端已經安裝的套件<br />
gem list -l 或是 gem l –l<br />
9). 求救<br />
gem help 或是 gem -h</p>

<p><strong>7. 搭建属于自己的RubyGems服务器</strong></p>

<p>RubyGems是一个用于Ruby的包管理工具，虽然并未包含在Ruby的发行版中，但是可以认为是事实上Ruby世界中标准的发布Ruby程序和库的工具，可以很方便的管理gem之间的依赖性。</p>

<p>如果你是在进行Open Source的Ruby程序开发，可以直接通过Rubyforge来发布gem。不过如果是自己的私有项目，可能就需要自己搭建一个Web
server来进行gem的发布了。如果系统中已经安装了RubyGems的话，通过gem server (gem help
server看看用法)就可以启动一个简单的gem发布的server。不过很可能的，你已经有一个Web Server在系统环境中了(如Apache Web
Server)，这个时候就通过以下的几个步骤可以完成把这个Web Server改造成为一个gem distribution server:</p>

<p>1) 建立一个发布目录，并设置Apache(或者其他的Web Server)使得这一目录能够通过Web访问。并在这一发布目录下建立一个名为gems的子目录。</p>

<blockquote>
<p>比如我们在htdocs目录下建立一个目录dist，并建立一个gems子目录。</p>
</blockquote>

<p>2) 拷贝打包好的gem到dist/gems目录中。</p>

<blockquote>
<p>如拷贝 <strong><em>allmighty-1.0.gem</em></strong> 到htdocs/dist/gems目录中。</p>
</blockquote>

<p>3) 在命令行界面中，进入dist目录，运行“ ** _gem generate<em>index .</em>** ”(或 _ <strong>gem generate_index
-d .</strong>_
)(请注意最后的一个点，表示当前目录)。这一命令会对gems子目录中的所有gem建立一个索引文件yaml，并存放在dist目录下，以便可以通过gem
install命令安装时查找。</p>

<p>4) You’re done~</p>

<blockquote>
<p>在这之后，你就可以通过”gem install <strong><em>allmighty</em></strong> –source
<a href="http://127.0.0.1:8808/dist/”命令来安装你新发布的gem了。">http://127.0.0.1:8808/dist/”命令来安装你新发布的gem了。</a><br />
 （先启动该httpServer:如webrick 可在命令行下打 gem server启动在8808 port 上面，將你這台機器裡面所有安裝的
gem 列出來，並且你可以快速的看到你所下載 gem 的 rdoc，相當的方便 ）</p>
</blockquote>

<p>5) 如果以后还有新的gem需要发布或者有新的版本的gem需要发布，请从步骤2)开始继续即可。</p>

<p>关于RubyGems，有一本很好的书，介绍了其使用、开发和发布等，有兴趣的话可以看看。</p>

<p><strong>8. gem 本地安装</strong><br />
1）.在gems目录下面找到所有需要更新的模块（如 ** <em>allmighty</em>** ）<br />
2）.到rubyforge上下载该模块的安装包, 以.gem结束（ ** <em>allmighty-1.0.gem</em>** ）<br />
3）.进入本地安装包目录, 运行 gem install <strong><em>allmighty-1.0.gem</em></strong> --local<br />
4）.你会发现 <strong><em>allmighty</em></strong> gems上已经更新了<br />
注意要用rails console来做, 比较安全.</p>

<h3 id="ruby-gems-1">Ruby Gems</h3>

<p>2010-07-26 16:29:54| 分类： ruby&amp;rails|字号 订阅</p>

<p><strong>1. 什么是RubyGems</strong><br />
RubyGems是一个库和程序的标准化打包以及安装框架，使得定位、安装、升级和卸载Ruby包变得容易。</p>

<p>1.1 RubyGems出现之前<br />
1)、搜索互联网找到需要安装的Ruby程序<br />
2)、搜索Ruby程序依赖的程序<br />
3)、下载所有程序包<br />
4)、按顺序安装</p>

<p><strong>1.2 安装RubyGems</strong><br />
安装的RubyGems有三种方法<br />
方法1) 使用ruby一步安装程序自带的RubyGems<br />
在<a href="http://www.ruby-">http://www.ruby-</a>
lang.org/zh_CN/中下载，针对windows平台的一步安装文件ruby186-26.exe，安装完毕系统就自带RubyGems，不过缺点就是版本比较低为0.9.4
。<br />
方法2) 网上下载RubyGems的最新版本到本地，然后手动安装<br />
在<a href="http://rubyforge.org/projects/rubygems/中下载RubyGems的最新版本（目前最新版本为1.3.1">http://rubyforge.org/projects/rubygems/中下载RubyGems的最新版本（目前最新版本为1.3.1</a>
），在本地解压并执行 <strong>ruby install.rb命令</strong></p>

<p>方法3) 使用ruby一步安装程序自带的低版本RubyGems的升级功能<br />
在命令行中输入 <strong>gem install rubygems-update</strong> 自动升级为最新版本（ <strong>强烈推荐这种方法升级RubyGems</strong> ）</p>

<p>**1.3 从哪些途径能够了解到RubyGems<br />
** 最简单的方法就是在命令行打 <strong>gem help</strong> 命令</p>

<p>第2种方法就是在<a href="http://docs.rubygems.org/中找到你需要的帮助文档（">http://docs.rubygems.org/中找到你需要的帮助文档（</a>
<strong>学习初期推荐使用第1种方法来了解RubyGems，后期强烈推荐第2种方法来学习，这样可以学到更多的有用的知识</strong> ）</p>

<p><strong>1.4 怎样利用好RubyGems的强大功能</strong><br />
现在网上用Ruby开发的开源项目非常多，大家可以到<a href="http://rubyforge.org这个网站中去看一下。基本上这里找到的项目都能使用RubyGems来（以上见解纯属个人看法，如有与事实不同概不负责）">http://rubyforge.org这个网站中去看一下。基本上这里找到的项目都能使用RubyGems来（以上见解纯属个人看法，如有与事实不同概不负责）</a></p>

<p><strong>2. Ruby Gems命令行参考手册</strong></p>

<p>我学习ruby有一段时间，有一些新的想与大家分享，要学会ruby首先要学会怎么玩ruby。然而怎么玩ruby的第一步就是如何安装配置ruby的常用库。rubygems是ruby提供的一个非常有效配置ruby插件的工具。一开始接触rubygems的朋友非常头痛如何能学会rubygems他到底怎么操作，下面我来介绍一下如何来作rubygems的日常操作。</p>

<p>**1)、查询<br />
**
查询本地和远程安装的gem信息，这是你进入rubygems世界的第一步。了解本地的机器上到底装了哪些gems，远程的资源库中有哪些非常有趣的gems，用一条查询命令就可以全部搞定。不知道出于何种目的rubygems一共有三种查询的命令，晕。分别是gem
query 、gem search 、gem list。通过分别使用我发现这三个命令基本上都一样。为了不浪费时间我建议大家日常使用就直接用gem
query，他的好处就是可以支持正则表达式为查询条件过滤内容。由于网上的gem资源有很多如何来快速查询自己需要的内容就使用gem query吧。<br />
1.1查询本地安装的gem，在命令行中打入gem query 或者是gem query -l。</p>

<p>1.2查询远程的可以提供下载使用的gem,在命令行中打入gem query -r 告诉rubygems查询远程的gem资源。</p>

<p>1.3使用关键字查询，这也是query命令的最厉害的地方支持正则表达式为条件的搜索。下图就是我们以record为关键字进行搜索</p>

<p>**2)、安装gem<br />
** 查询完了就可以安装自己所需要的gem了，命令很简单就是install，只要看到sucessfully的提示就可以了。</p>

<p>**3)、卸载<br />
** 安装了一段时间后一些gem不需要了，我们就可以用命令把他卸载了，只要看到sucessfully的提示就说明卸载成功了。</p>

<p>rubygems常用的命令就这3个很简单吧，如何深入使用这三个命令。接下来我准备用3次来分别详细介绍。</p>

<h4 id="3-gem-query-1"><strong>3. gem query</strong></h4>

<h4 id="查询本地或者远程的gem资源-查询结果以列表方式显示-1">–查询本地或者远程的gem资源，查询结果以列表方式显示</h4>

<p>gem query的功能<br />
1、 把查询结果以列表方式显示出来<br />
2、可以设置是从本地还是从远程进行查询<br />
3、可以设置查询的关键字</p>

<pre><code>Usage: gem query [options]    Options:     -n, --name-matches REGEXP        Name of gem(s) to query on maches the provided REGEXP     -d, --[no-]details               Display detailed information of gem(s)     -l, --local                      Restrict operations to the LOCAL domain (default)     -r, --remote                     Restrict operations to the REMOTE domain     -b, --both                       Allow LOCAL and REMOTE operations


1)、使用-l或者--local为选项列出本地gem，其实gem query不加任何选项默认就是查询本地gem。 


2)、使用-d或者--details列出gem的Description信息，可以对比一下上面的图片加上-d之后可以显示gem的名称、版本、作者、Rubyforge的网址、Homepage、安装gem的地址等一些详细的介绍，让你对这个gem有更多的了解 


3)、使用-r或者--remote为选项列出远程gem信息。 远程的gem是很多开源组织或者个人以非赢利为目的把自己的项目发到www.rubyforge.org中，供大家下载使用。 所以经常使用-r为条件看看远程有哪些新增的或者非常有趣的项目，如果觉得不错就可以下载到本地安装。 


4)、使用-b或者--both为选项列出本地和远程的gem信息（这个选项不会经常使用到）


5)、使用-n或者--name-matches为选项作gem名字搜索支持正则表达式为条件的搜索。下图就是搜索名称中带有record的gem 


下面就是query最强大的地方支持正则表达式的特殊符合  


 
</code></pre>

<h3 id="4-rubygems-版本策略-1"><strong>4. RubyGems 版本策略</strong></h3>

<h5 id="理解rubygems版本管理策略-1">理解RubyGems版本管理策略</h5>

<p>每个gem项目基本上都是一些以非赢利为目的的个人和组织上传的，处于松散管理状态。如何能把gem项目更好的管理起来，RubyGems有一套自己的管理策略，从而规范大家的版本发布。</p>

<p>其实RubyGem的版本管理策略很简单的，我们经常可以使用gem query命令可以看到在gem包后面会跟一个或者多个由数字组成的字符串（3, 3.1,
3.14, 3.141,
3.1415），它到底代表了什么含义呢。至于在确定了需要安装gem的名称后如何选择我们需要的版本来安装在后面几天我会详细介绍。现在我们只要能做到理解这些数字的含义就可以了。</p>

<p>每个gem项目都有自己的生命周期，其实能利用RubyGems版本管理策略看懂各个gem项目版本之间的区别也是一件非常有意思的事情，让我们接下去看。</p>

<p>RubyGems版本依赖采用操作符 <strong>主版本.次版本.补丁</strong> 的形式发布的</p>

<p>上图说明了名字叫tinkerbell的gem项目现在主版本为0，次版本为0，补丁为4，what_does_this_error_mean-
merb这个项目的主版本为0，此版本为0，补丁为3。从这些信息都表明这两个项目都是比较新的项目tinkerbell项目发到现在只有3个比较小的改动。接下来让我们看看RubyGems版本管理的</p>

<p><strong>Version 0.0.1</strong> : gem项目最初的一个版本。<br />
 <strong>Version 0.0.2</strong> : 经过最初版本的发布后，修改了一些Bug对某些细节作了修改，所以只做补丁版本的改变。<br />
 <strong>Version 0.1.0</strong> : 在前一个版本的基础上改变了一些类方法，这些改动就不是修复补丁那么简单的了，所以有必要改变次版本号。<br />
 <strong>Version 1.0.0</strong> : 在一定范围内做了方法或者类的改变，应该改动是比较大的，所以需要改变主版本号。</p>

<p>简单吧，其实RubyGems的版本管理策略是非常简单而且行之有效的，已经成为了gem项目发布的一个规范了。</p>

<p><strong>5.代理服务下如何使用gems</strong></p>

<p>如果使用了代理服务，相关命令需要使用 -p 选项(设置了环境变量则不用-p)，同时设置代理.<br />
windows:<br />
<strong>格式</strong> ：set HTTP_PROXY=<a href="http://username:password@www.proxy.com:port">http://username:password@www.proxy.com:port</a><br />
set HTTP_PROXY=<a href="http://yisl:Loveleidian123@10.19.0.7:80">http://yisl:Loveleidian123@10.19.0.7:80</a><br />
gem install watir -p</p>

<p>linux:<br />
<strong>格式</strong> ：export HTTP_PROXY=<a href="http://username:password@www.proxy.com:port">http://username:password@www.proxy.com:port</a></p>

<p>export HTTP_PROXY=<a href="http://yisl:Loveleidian123@10.19.0.7:80">http://yisl:Loveleidian123@10.19.0.7:80</a><br />
gem update –system</p>

<p><strong>6. ruby+gem常用命令</strong></p>

<p>ruby -v #查看ruby 版本<br />
ruby -e &lsquo;require&rdquo;watir&rdquo;; puts Watir::IE::VERSION&rsquo; #查看watir版本</p>

<p>gem -v #gem版本<br />
gem update #更新所有包<br />
gem update &ndash;system #更新RubyGems软件</p>

<p>gem install rake #安装rake,从本地或远程服务器<br />
gem install rake &ndash;remote #安装rake,从远程服务器</p>

<p>gem install watir -v(或者&ndash;version) 1.6.2#指定安装版本的 (多谢 wpyily 提供)<br />
gem uninstall rake #卸载rake包<br />
gem list d #列出本地以d打头的包<br />
gem query -n &lsquo;[0-9]&rsquo; &ndash;local #查找本地含有数字的包<br />
gem search log &ndash;both #从本地和远程服务器上查找含有log字符串的包<br />
gem search log &ndash;remoter #只从远程服务器上查找含有log字符串的包<br />
gem search -r log #只从远程服务器上查找含有log字符串的包</p>

<p>gem help #提醒式的帮助<br />
gem help install #列出install命令 帮助<br />
gem help examples #列出gem命令使用一些例子</p>

<p>gem build rake.gemspec #把rake.gemspec编译成rake.gem<br />
gem check -v pkg/rake-0.4.0.gem #检测rake是否有效<br />
gem cleanup #清除所有包旧版本，保留最新版本<br />
gem contents rake #显示rake包中所包含的文件<br />
gem dependency rails -v 0.10.1 #列出与rails相互依赖的包<br />
gem environment #查看gem的环境</p>

<p>使用方式<br />
大概的準則是這樣子（我這邊一律用縮寫）</p>

<p>i 是安裝</p>

<ul>
<li>q 是查詢</li>
<li>-r 是操作遠端伺服器上的套件</li>
<li>-l 就是本地端的套件</li>
<li>-n 就是查詢名字</li>
<li>-y 就是將所有相關的套件全部裝好

<br /></li>
</ul>

<p>1). 查詢本機端安裝了那些套件<br />
gem q<br />
2). 查詢遠端有那些套件可以安裝<br />
gem q -r<br />
3).查詢遠端有沒有名叫 ABC 的套件可以安裝<br />
gem q -r -n ABC<br />
4). 安裝遠端名叫 ABC 的套件<br />
gem i -r ABC<br />
5). 安裝遠端名叫 ABC 的套件，並且把所有相關的套件都裝好<br />
gem i -r ABC &ndash;include-dependencies<br />
6).移除已經安裝的 ABC 套件（你說為何不用縮寫，因為Uninstall 要謹慎點 :p)<br />
gem uninstall ABC<br />
7). 升級ABC 套件（也就是再安裝一次）<br />
gem i ABC<br />
8). 列出本機端已經安裝的套件<br />
gem list -l 或是 gem l –l<br />
9). 求救<br />
gem help 或是 gem -h</p>

<p><strong>7. 搭建属于自己的RubyGems服务器</strong></p>

<p>RubyGems是一个用于Ruby的包管理工具，虽然并未包含在Ruby的发行版中，但是可以认为是事实上Ruby世界中标准的发布Ruby程序和库的工具，可以很方便的管理gem之间的依赖性。</p>

<p>如果你是在进行Open Source的Ruby程序开发，可以直接通过Rubyforge来发布gem。不过如果是自己的私有项目，可能就需要自己搭建一个Web
server来进行gem的发布了。如果系统中已经安装了RubyGems的话，通过gem server (gem help
server看看用法)就可以启动一个简单的gem发布的server。不过很可能的，你已经有一个Web Server在系统环境中了(如Apache Web
Server)，这个时候就通过以下的几个步骤可以完成把这个Web Server改造成为一个gem distribution server:</p>

<p>1) 建立一个发布目录，并设置Apache(或者其他的Web Server)使得这一目录能够通过Web访问。并在这一发布目录下建立一个名为gems的子目录。</p>

<blockquote>
<p>比如我们在htdocs目录下建立一个目录dist，并建立一个gems子目录。</p>
</blockquote>

<p>2) 拷贝打包好的gem到dist/gems目录中。</p>

<blockquote>
<p>如拷贝 <strong><em>allmighty-1.0.gem</em></strong> 到htdocs/dist/gems目录中。</p>
</blockquote>

<p>3) 在命令行界面中，进入dist目录，运行“ ** _gem generate<em>index .</em>** ”(或 _ <strong>gem generate_index
-d .</strong>_
)(请注意最后的一个点，表示当前目录)。这一命令会对gems子目录中的所有gem建立一个索引文件yaml，并存放在dist目录下，以便可以通过gem
install命令安装时查找。</p>

<p>4) You’re done~</p>

<blockquote>
<p>在这之后，你就可以通过”gem install <strong><em>allmighty</em></strong> –source
<a href="http://127.0.0.1:8808/dist/”命令来安装你新发布的gem了。">http://127.0.0.1:8808/dist/”命令来安装你新发布的gem了。</a><br />
 （先启动该httpServer:如webrick 可在命令行下打 gem server启动在8808 port 上面，將你這台機器裡面所有安裝的
gem 列出來，並且你可以快速的看到你所下載 gem 的 rdoc，相當的方便 ）</p>
</blockquote>

<p>5) 如果以后还有新的gem需要发布或者有新的版本的gem需要发布，请从步骤2)开始继续即可。</p>

<p>关于RubyGems，有一本很好的书，介绍了其使用、开发和发布等，有兴趣的话可以看看。</p>

<p><strong>8. gem 本地安装</strong><br />
1）.在gems目录下面找到所有需要更新的模块（如 ** <em>allmighty</em>** ）<br />
2）.到rubyforge上下载该模块的安装包, 以.gem结束（ ** <em>allmighty-1.0.gem</em>** ）<br />
3）.进入本地安装包目录, 运行 gem install <strong><em>allmighty-1.0.gem</em></strong> --local<br />
4）.你会发现 <strong><em>allmighty</em></strong> gems上已经更新了<br />
注意要用rails console来做, 比较安全.</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a></li>
        
        <li><a href="/posts/051rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%981hellorails/">051RubyonRails學習筆記1Hellorails</a></li>
        
        <li><a href="/posts/053rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%986%E9%87%8D%E6%A7%8B%E5%88%AA%E9%99%A4%E7%95%99%E8%A8%80%E5%AE%89%E5%85%A8/">053RubyonRails學習筆記6重構刪除留言安全</a></li>
        
        <li><a href="/posts/055rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%987carrierwaveimplementation/">055RubyonRails學習筆記7CarrierwaveImplementation</a></li>
        
        <li><a href="/posts/065rubyonrails%E7%AD%86%E8%A8%9810showtargetinfoongooglemaps/">065Rubyonrails筆記10showtargetinfoongooglemaps</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/ruby'>ruby</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>