<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>MongoDB学习笔记七MongoDBshell方法汇总 | 开发者问答集锦</title>
    <meta property="og:title" content="MongoDB学习笔记七MongoDBshell方法汇总 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="MongoDB学习笔记七MongoDBshell方法汇总">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/mongodb%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%83mongodbshell%E6%96%B9%E6%B3%95%E6%B1%87%E6%80%BB/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">MongoDB学习笔记七MongoDBshell方法汇总</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p>在写前面的博文的时候，我发现MongoDB
shell提供了很多方法，其中MongoDB的很多方法也在其中，下面是我从MongoDB官网上查到的所有MongoDB
shell的所有方法，当然，我不会对每个方法进行详细解释，因为太多了。我会将方法功能说明白，并且把官网连接挂在后面，有兴趣的可以点进去看一下。由于个人翻译水平有限，可能有些翻译文不及意，忘海涵！</p>

<p>对于查看方法有一个小技巧，就是我们使用shell或在linux系统里面想要查看某个对象能够调用的所有方法时可以使用：<code>对象.</code>+<code>tab</code>+<code>tab</code>,如图db对象能够调用的所有方法和集合(后面带半括号的都是方法，不带半括号的都是对象)：<br />
<a href="https://img.it610.com/image/info8/e4eeed3742b94de2b2757d0e9da798c9.jpg"><img src="https://img.it610.com/image/info8/e4eeed3742b94de2b2757d0e9da798c9.jpg" alt="MongoDB学习笔记\(七\)——MongoDB
shell方法汇总_第1张图片" /></a></p>

<p>下面开始:</p>

<p><strong>集合方法(Collection Methods)</strong></p>

<p><strong>注：db.collection.* == db.要操作的集合名称.</strong>*</p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>db.collection.aggregate(pipeline, options)</td>
<td>计算集合或视图中的数据的聚合值。</td>
<td>链接</td>
</tr>

<tr>
<td>db.collection.bulkWrite()</td>
<td>3.2版本，控制多个操作顺序执行写入操作</td>
<td>链接</td>
</tr>

<tr>
<td>db.collection.copyTo(newCollection)</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>3.0版本以后不建议使用，使用服务器端的javascript将当前集合中的所有文档复制到newCollection中。如果newCollection不存在，mongodb会自动创建。
| 链接<br />
db.collection.count(query, options) | 根据查询条件和限制条件，获取符合条件的文档数 | 链接<br />
db.collection.createIndex(keys, options) |
在集合中创建索引，3.2版本修改：mongodb不允许创建0版本索引。若要升级现有的0版本索引，请参考 Version 0 Indexes | 链接<br />
db.collection.createIndexes([keyPatterns, ]options) | 3.2版本新功能，在集合上创建一个或多个索引 |
链接<br />
db.collection.dataSize() |
返回当前集合的数据量大小，此方法提供了一个包裹collStats(即db.collection.stats()命令的大小输出的包装器 | 链接<br />
db.collection.deleteOne(filter,[writeConcern],[collation]) | 从集合中删除单个文档 | 链接<br />
db.collection.deleteMany(filter,[writeConcern],[collation]) | 删除所有与筛选器匹配的文档 |
链接<br />
db.collection.distinct(field, query, [options]) |
在单个集合或视图中找到指定字段的不同值列表，并返回数组中的结果。 | 链接<br />
db.collection.drop() | 从数据库中删除一个集合或视图，该方法还会删除与已删除集合关联的任何索引。该方法提供了包裹drop命令的包装器
| 链接<br />
db.collection.dropIndex(index) | 从集合中删除指定索引，该方法提供了包裹dropIndexes命令的包装器 | 链接<br />
db.collection.dropIndexes() |
删除除_id字段上的必需索引以外的所有索引。只调用dropIndexes()作为集合对象上的方法。警告:
<strong>此命令在受影响数据库中获得写入锁，并将阻止其他操作直到完成为止</strong> 。 | 链接<br />
db.collection.ensureIndex(keys, options) |
如果索引未存在，则在指定字段上创建索引。3.0.0版本以后不建议使用：该方法更名为createIndex()。 | 链接<br />
db.collection.explain() | 3.0版本新功能，3.0版本添加
db.collection.distinct()支持。返回下列操作的查询计划的信息： aggregate(); count(); distinct();
find(); group(); remove(); 和 update()方法。 | 链接<br />
db.collection.find(query, projection) | 在集合或视图中查询符合条件的文档，并返回选定文档的游标。 | 链接<br />
db.collection.findAndModify(document) |
修改并返回单个文档。默认情况下，返回的文档不包含更新上所做的修改。若要使用更新上的修改返回文档，请使用新参数。 | 链接<br />
db.collection.findOne(query, projection) |
返回满足集合或视图上指定的查询条件的文档列表的磁盘上文档顺序的自然顺序的第一个文档。在覆盖集合中，自然顺序与插入顺序相同。如果没有文档满足查询，则该方法返回null。
| 链接<br />
db.collection.findOneAndDelete(filter, options) |
3.2版本新功能，根据筛选条件删除第一个恶文档，并返回已删除的文档。 | 链接<br />
db.collection.findOneAndReplace(filter, replacement, options) |
3.2版本新功能，根据筛选条件替换第一个文档 | 链接<br />
db.collection.findOneAndUpdate(filter, update, options) |
3.2版本新功能，根据筛选器条件更新第一个文档。 | 链接<br />
db.collection.getIndexes() | 返回当前集合中现有索引的文档列表数组。您必须在集合上调用该方法。 | 链接<br />
db.collection.getShardDistribution() |
打印一个sharded集合的分布统计数据，您必须在sharded集合上调用该方法 | 链接<br />
db.collection.getShardVersion() |
当我们诊断sharded集群基础问题时，返回关于sharded集群的有用的状态信息。仅用于内部诊断 | 链接<br />
db.collection.group({ key, reduce, initial [, keyf] [, cond] [, finalize] }) |
将集合中的文档按指定键进行组，并执行简单聚合函数，该方法类似于sql中语句的SELECT GROUP
BY语句，3.4版本不建议使用：3.4版本重新定义了该方法. 使用aggregate()的$group或者mapReduce()方法代替 | 链接<br />
db.collection.insert() | 在集合中插入一个文档或多个文档 | 链接<br />
db.collection.insertOne() | 3.2版本新功能，在集合中插入一个文档 | 链接<br />
db.collection.insertMany() | 3.2版本新功能，在集合中插入多个文档 | 链接<br />
db.collection.isCapped() | 判断当前集合是否是一个capped collection | 链接<br />
db.collection.latencyStats(options) | 返回给定集合的延迟统计值，它是一个$collStats的包装器 | 链接<br />
db.collection.mapReduce(map, reduce, {out, query, sort, limit, finalize,
scope, jsMode, verbose}) | 该方法提供了一个 mapReduce命令的包装器 | 链接<br />
db.collection.reIndex() |
该将集合中的所有索引都删除并重新创建它们。对于拥有大量数据和或大量索引的集合来说，此操作可能会很浪费资源。 | 链接<br />
db.collection.remove() | 删除集合中打的所有文档,该方法可以携带两个参数，查询条件和一个justOne 的boolean值 | 链接<br />
db.collection.renameCollection(target, dropTarget) | 给集合重命名，该方法提供了一个
renameCollection database命令的包装器 | 链接<br />
db.collection.replaceOne(filter, replacement, options) |
3.2新功能，根据筛选器替换集合内的单个文档。 | 链接<br />
db.collection.save() | 根据文档参数，更新现有文档或插入新文档 | 链接<br />
db.collection.stats(scale \ options) | 返回有关集合的统计信息。 | 链接<br />
db.collection.storageSize() |
分配给此集合用于文档存储的总存储量。提供了一个封装collStats输出的storageSize字段的包装器 | 链接<br />
db.collection.totalIndexSize() |
集合中所有索引的总数，该方法封装了一个collStats(即db.collection.stats())操作的输出totalIndexSize的封装器 |
链接<br />
db.collection.totalSize() | 集合中数据的字节总数加上集合中的每个索引的大小。 | 链接<br />
db.collection.update(query, update, options) |
修改集合中的一个文档或多个文档。该方法可以修改文档的特定字段，或者完全替换现有文档，取决于更新参数。默认情况下，update()方法更新单个文档。设置多参数(
Multi Parameter)以更新所有符合查询标准的文档。 | 链接<br />
db.collection.updateOne(filter, update, options) | 3.2版本新功能根据筛选器更新集合中的单个文档。 |
链接<br />
db.collection.updateMany(filter, update, options) | 3.2新版本功能，根据筛选器更新集合中的多个文档。
| 链接<br />
db.collection.watch(pipeline, options) | 在集合上打开一个更改流游标(change stream cursor)。
| 链接<br />
db.collection.validate(true) |
验证集合。该方法扫描集合的数据结构的正确性并返回一个文档，该文档描述逻辑集合与数据本身描述之间的关系。 | 链接</p>

<p><strong>游标方法(Cursor Methods)</strong></p>

<p><strong>注：游标即为调用下列方法的对象</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>cursor.addOption(flag)</td>
<td>添加OP_QUERY有线协议标志,比如tailable</td>
<td></td>
</tr>

<tr>
<td>flag，来更改查询的行为。但是3.2版本以后，不建议在MongoDB shell中使用，可以使用有用的游标方法代替</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>cursor.batchSize(size)</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>从mongodb实例中获取每个批处理响应中返回的文档数。在大多数情况下，修改批处理大小不会影响用户或应用程序，因为在shell和大多数驱动程序中返回结果就好像mongodb返回单个批处理一样。
| 链接<br />
cursor.close() |
指示服务器关闭游标并释放相关服务器资源。服务器会自动关闭没有剩余结果的游标，以及那些已经闲置了一段时间且没有被cursor.noCursorTimeout()方法选中的游标。
| 链接<br />
cursor.isClosed() |
返回服务器是否关闭了该游标，一个关闭的游标仍可能保留最后的批处理中的文档。使用cursor.isExhausted()或cursor.hasNext()来检查游标是否已完全处理完成。
| 链接<br />
cursor.collation(collation document) |
3.4版本新功能，使用db.collection.find()来校验游标返回说明 | 链接<br />
cursor.comment() | 3.2版本新功能，向查询添加注释字段 | 链接<br />
cursor.count() |
返回游标引用的文档数。将count()方法追加到find()查询以返回匹配文档的数量。该操作不会执行查询，而是查询可能返回的结果数量。2.6版本以后，mongodb支持hint()使用count()。
| 链接<br />
cursor.explain(verbosity) | 提供
db.collection.find()方法的查询计划的相关信息。该方法的参数和输出格式在3.0中发生了变化。 | 链接<br />
cursor.forEach(function) | 迭代游标，使标中的每个文档执行javascript函数。 | 链接<br />
cursor.hasNext() | 返回当前游标是否还有剩余的文档 | 链接<br />
cursor.hint(index) | 在一个查询上调用本方法来重写MongoDB的默认搜索索引和查询优化过程，使用
db.collection.getIndexes()方法返回集合中当前索引的列表。 | 链接<br />
cursor.isExhausted() |
判断光标关闭，批处理中是否还有剩余对象。可以使用isExhausted()支持迭代游标，即使当前批中没有文档，比如tailable或更改流游标(change
stream cursors)，仍然保持打开 | 链接<br />
cursor.itcount() |
返回游标中剩余的文档数。该方法与cursor.count()方法相近，但是其实际上执行了对现有迭代器的查询，会在进程中耗尽它的内容。 | 链接<br />
cursor.limit() | 在一个游标上使用该方法，限制游标将返回的的最大文档数，该方发与sql数据库中的LIMIT语句功能类似。 | 链接<br />
cursor.map(function) | 将函数应用于游标中的每个文档，并持续将从应用程序中的返回值收集到数组中 | 链接<br />
cursor.max() | 指定特定索引的专有的上限，以约束find().max()的返回结果，提供了指定复合索引的上限的方法。 | 链接<br />
cursor.maxScan() | 3.2版本新功能，指定查询计划将扫描的最大文档或索引键数。一旦达到了极限会终止执行查询并返回当前批处理的结果。 |
链接<br />
cursor.maxTimeMS(time limit) | 2.6版本新功能，指定用于处理游标操作的总毫秒时间限制。 | 链接<br />
cursor.min() | 指定特定索引的专有的下限，以约束find().max()的返回结果，提供了指定复合索引的下限的方法。 | 链接<br />
cursor.next() | 通过db.collection.find()来返回游标中的下一个文档。参考cursor.hasNext()相关功能。 |
链接<br />
cursor.noCursorTimeout() | 指示服务器避免在一个不活动期间自动关闭游标。 | 链接<br />
cursor.objsLeftInBatch() | 返回当前批处理中剩余的文档数。
<strong>mongodb实例在批返回响应时，若要从一个游标中检索所有文档，可能需要mongodb实例的多个批处理响应。当当前批处理中没有其他文档时，游标将检索另一个批处理，以便在当前游标耗尽之前获取更多文档</strong>
| 链接<br />
cursor.pretty() | 配置游标以易于读的格式显示结果。 | 链接<br />
cursor.readConcern(level) | 3.2版本新功能，指定当前游标的db.collection.find()方法的写关注等级 | 链接<br />
cursor.readPref(mode, tagSet) | 将readPref()方法追加到游标上，来控制客户端怎样的方式查询副本集的成员 | 链接<br />
cursor.returnKey() | 3.2版本新功能，修改游标以返回索引键而不是文档。 | 链接<br />
cursor.showRecordId() |
3.2版本该方法替换前面的cursor.showDiskLoc()方法，通过向匹配文档添加字段recordId来修改查询的输出。recordId是唯一标识集合中文档的内部键。
| 链接<br />
cursor.size() |
返回经过任意cursor.skip()或cursor.limit()方法限制之后的符合db.collection.find()方法的查询条件的文档数 |
链接<br />
cursor.skip(offset) | 在一个游标上调用该方法来控制mongodb返回结果的开始位置。这种方法可能有助于实现分页的结果。 | 链接<br />
cursor.sort(sort) | 指定查询返回匹配文档的顺序。在检索数据库中的任何文档之前，必须将sort()应用到游标中。 | 链接<br />
cursor.tailable() |
3.2版本新功能，将游标标记为“tailable”。只用于对覆盖集合进行使用。使用tailable对非限定集合进行处理将报错。 | 链接<br />
cursor.toArray() | 该方法返回一个包含游标中所有文档的数组。该方法将完全迭代游标，将所有文档加载到ram中并耗尽游标。 | 链接</p>

<p><strong>数据库方法(Database Methods)</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>db.adminCommand(command)</td>
<td>提供一个助手来运行指定数据库命令，以执行管理数据库。</td>
<td>链接</td>
</tr>

<tr>
<td>db.aggregate()</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>3.6版本新功能，运行一个指定的不需要底层集合的admin/diagnostic渠道，用于收集数据的聚合信息，请参考db.collection.aggregate()。
| 链接<br />
db.cloneCollection(from, collection, query) |
复制MongoDB实例之间的数据，该方法封装了cloneCollection指令 | 链接<br />
db.cloneDatabase(“hostname”) | 将远程数据库数据复制到当前数据库。该命令假定远程数据库与当前数据库具有相同的名称。 | 链接<br />
db.commandHelp(command) | 显示指定数据库命令的帮助文本。 | 链接<br />
db.copyDatabase(fromdb, todb, fromhost, username, password, mechanism) |
将数据库从一个mongod实例复制到当前的mongod实例或在mongod.
db.copyDatabase()封装copydb指令的包装器的范围内。3.0以后，当对在实例进行身份验证时，db.copyDatabase()支持SCRAM-
SHA-1和 MONGODB-CR机制来验证在用户。 | 链接<br />
db.createCollection(name, options) |
创建一个集合或视图，3.4版本增加创建视图集合、校验功能。由于mongodb在命令中在首次引用集合时会隐式创建集合，所以该方法主要用于创建使用特定选项的新集合。
| 链接<br />
db.createView() | 3.4版本新功能，从源集合或视图上创建一个应用具体的aggregation
pipeline的结果视图。视图充当只读集合，并在读取操作期间根据需求计算。mongodb将视图中的读取操作作为一部分隐含的aggregation
pipeline。 | 链接<br />
db.currentOp() | 返回一个包含数据库实例的进程操作信息的文档。该方法封装了数据库指令currentOp | 链接<br />
db.dropDatabase() | 删除当前数据库，删除关联的数据文件。 | 链接<br />
db.eval(function, arguments) | 提供在mongodb服务器上运行javascript代码的能力。3.0版本以后不建议使用 |
链接<br />
db.fsyncLock() |
强制在将所有挂起的写入操作刷新到磁盘，并锁定整个mongod实例以防止额外的写入，直到用户释放带有相应的db.fsyncUnlock()命令的锁为止。 |
链接<br />
db.fsyncUnlock() | 将一个mongod实例上通过 db.fsyncLock()方法上的锁减1 | 链接<br />
db.getCollection(name) | 返回一个集合或视图对象，该集合或视图对象函数等效于使用
db.collectionName语法。该方法对于集合或视图有用，该集合或视图名可能与mongo
shell本身交互，例如以_开头的名称或匹配数据库shell方法的名称。 | 链接<br />
db.getCollectionInfos(filter) | 3.0版本新功能，返回一个包含当前数据库的集合或视图信息的文档数组，如名称和选项 | 链接<br />
db.getCollectionNames() | 返回包含当前数据库中所有集合和视图的名称的数组。 | 链接<br />
db.getLastError(w, wtimeout) |
指定写入关注级别，以确认在同一连接上执行的先前的写入操作的成功，并返回该操作的错误字符串。当使用该方法时，当前操作必须与他们希望确认的写入操作在相同的连接上。
| 链接<br />
db.getLastErrorObj() |
指定写入关注级别，以确认在同一连接上执行的先前的写入操作的成功，并返回该操作的文档。当使用该方法时，当前操作必须与他们希望确认的写入操作在相同的连接上。 |
链接<br />
db.getLogComponents() | 3.0版本新功能，返回当前详细设置。详细设置了mongodb为每个日志消息组件生成的日志信息的数量。 |
链接<br />
db.getMongo() | 该方法在shell启动时运行。使用此命令测试mongo shell是否具有正确的数据库实例的连接。 | 链接<br />
db.getName() | 当前数据库名称。 | 链接<br />
db.getPrevError() | 一个包含错误的状态文档。1.6版本之后不建议使用 | 链接<br />
db.getProfilingLevel() |
该方法提供了一个封装了数据库命令profile的包装器，返回当前的概要文件级别。1.8.4版本以后不建议使用，
使用db.getProfilingStatus()相关功能 | 链接<br />
db.getProfilingStatus() | 当前配置文件级别、slowOpThresholdMs设置和slowOpSampleRate设置。 |
链接<br />
db.getReplicationInfo() | 使用oplog投票的数据，返回具有副本集的状态的文档。在诊断复制问题时使用此输出。 | 链接<br />
db.getSiblingDB(database) | 用于无需修改shell环境中的db变量而能返回另一个数据库。 | 链接<br />
db.help() | 列出了db对象上的常用方法的文本。 | 链接<br />
db.hostInfo() | 返回一个文档，该文档包含 mongod或mongos运行的底层系统的信息。一些返回字段仅包含在一些平台上。 | 链接<br />
db.isMaster() | 返回mongod实例的角色的描述文档。如果该mongod是副本集的成员，则ismaster和
secondary字段实例是否为主集报告，或者它是复制集的辅助成员。 | 链接<br />
db.killOp(opid) | 终止操作id指定的操作。查找操作及其相应的id，可以参考db.currentOp() | 链接<br />
db.listCommands() | 提供所有数据库命令的列表。 | 链接<br />
db.loadServerScripts() | 该方法将当前数据库的在system.js集合中的所有脚本加载到mongo shell会话中。 | 链接<br />
db.logout() | 结束当前身份验证会话。如果当前会话未被验证，则此函数没有效果。 | 链接<br />
db.printCollectionStats() | 提供了一个封装 db.collection.stats()
方法的包装器，从每个集合中返回统计数据，由三个连字符符号分隔。 | 链接<br />
db.printReplicationInfo() |
打印副本集成员的oplog的格式化报表。所显示的报表由db.getReplicationInfo()返回的数据格式化而成。 | 链接<br />
db.printShardingStatus() | 打印分片配置的格式化报告以及关于一个分片集群中现有块的信息 | 链接<br />
db.printSlaveReplicationInfo() |
从集合的从成员的角度返回副本集一个副本集的状态的格式化报告，其输出与rs.printSlaveReplicationInfo()方法一致。 | 链接<br />
db.repairDatabase() | 该方法提供了封装数据库命令repairDatabase的封装器，与运行选项 mongod
–repair选项一样，仅限于当前数据库。 | 链接<br />
db.resetError() |
1.6版本以后不建议使用，重置由db.getPrevError或getPrevError返回的错误消息。提供了封装resetError命令的包装器。 |
链接<br />
db.runCommand(command) | 提供了一个运行指定数据库指令的助手，
<strong>这是执行数据库命令的首选方法，因为它提供了shell和驱动程序之间的一致接口。</strong> | 链接<br />
db.serverBuildInfo() | 提供了一个封装 buildInfo数据库命令的包装器，
buildInfo返回一个文档，该文档包含用于编译此mongod实例的参数概述。 | 链接<br />
db.serverCmdLineOpts() |
包装getCmdLineOpts数据库指令，返回用于对用于启动mongod或mongos实例的参数和配置选项进行报告的文档。 | 链接<br />
db.serverStatus() |
返回提供数据库进程状态的概述文档。3.0版本修改：该方法不再输出workingSet、indexCounters和recordStats部分。 | 链接<br />
db.setLogLevel() | 3.0版本新功能，设置日志消息的单个详细级别。 | 链接<br />
db.setProfilingLevel(level, options) | 配置database
profiler。该方法提供了一个封装profile指令的包装器 | 链接<br />
db.shutdownServer() |
干净和安全的关闭当前的mongod或mongos进程。该方法必须在admin数据库中执行，该指令提供了一个封装shutdown指令的包装器 | 链接<br />
db.stats(scale) | 返回反映单个数据库使用状态的统计信息。 | 链接<br />
db.version() | 返回mongod或mongos实例的版本信息 | 链接</p>

<p><strong>查询计划缓存方法(Query Plan Cache Methods)</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>db.collection.getPlanCache()</td>
<td></td>
<td></td>
</tr>

<tr>
<td>返回一个接口来访问集合的查询计划缓存。该接口提供查看和清除查询计划缓存的方法。查询优化器只缓存那些可以具有多个可行计划的查询结构的计划。</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>PlanCache.clear()</td>
<td>删除集合中所有缓存查询计划</td>
<td>链接</td>
</tr>

<tr>
<td>PlanCache.clearPlansByQuery(query, projection, sort)</td>
<td>清除指定查询结构的缓存查询计划。</td>
<td>链接</td>
</tr>

<tr>
<td>PlanCache.getPlansByQuery(query, projection, sort)</td>
<td></td>
<td></td>
</tr>

<tr>
<td>显示指定查询结构的缓存查询计划。查询优化器只缓存那些可以具有多个可行计划的查询结构的计划。</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>PlanCache.help()</td>
<td>显示查看和修改集合的查询计划缓存的可用方法。</td>
<td>链接</td>
</tr>

<tr>
<td>PlanCache.listQueryShapes()</td>
<td>显示存活的缓存查询计划的查询结构。查询优化器只缓存那些可以具有多个可行计划的查询结构的计划。</td>
<td></td>
</tr>
</tbody>
</table>

<p>链接</p>

<p><strong>批量操作方法(Bulk Operation Methods)</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>db.collection.initializeOrderedBulkOp()</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>初始化并返回一个用于集合的新的批量操作生成器。生成器构造了mongodb执行批量执行的一个有序的写入操作列表。从3.2版本开始，mongodb还提供了用于执行批量写入操作的在db.collection.bulkWrite()
方法。 | 链接<br />
db.collection.initializeUnorderedBulkOp() |
2.6版本新功能，初始化并返回一个用于集合的新的批量操作生成器。生成器构造了mongodb在批量执行的无序写入操作列表。 | 链接<br />
Bulk() | 2.6版本新功能，批量操作生成器用于在单个集合上的批量操作构造写入操作列表。想要实例化生成器，可以使用
db.collection.initializeOrderedBulkOp()或
db.collection.initializeUnorderedBulkOp()方法。 | 链接<br />
Bulk.execute() | 2.6版本新功能，通过批量操作生成器执行批量操作 | 链接<br />
Bulk.find(query) | 2.6版本新功能，指定用于更新或删除操作的查询条件。 | 链接<br />
Bulk.find.arrayFilters(array of filter documents) |
3.6版本新功能，指定用于确定用于更新或更新一个数组的元素的过滤器。 | 链接<br />
Bulk.find.collation(document) |
3.4版本新功能，指定批量写入的校验规则。追加到Bulk.find()方法来指定查找操作的校验规则。 | 链接<br />
Bulk.find.remove() |
2.6版本新功能，在批量操作中添加一个移除操作，使用Bulk.find()方法指定能确定哪些文档要移除的条件。该方法删除集合中的所有匹配文档。如果移除单个文档，可以参考Bulk.find.removeOne()
| 链接<br />
Bulk.find.removeOne() |
2.6版本新功能，在批量操作中添加一个单文档删除操作。使用Bulk.find()方法指定能确定哪些文档要移除的条件。该方法限制删除单个文档。 | 链接<br />
Bulk.find.replaceOne(document) |
2.6版本新功能，在批量操作中添加一个单文档替换操作。使用Bulk.find()方法指定能确定哪些文档要替换的条件。该方法限制替换单个文档。 | 链接<br />
Bulk.find.updateOne(update) |
2.6版本新功能，在批量操作中添加一个单文档修改操作。使用Bulk.find()方法指定能确定哪些文档要修改的条件。该方法限制修改单个文档。如果想要批量更改文档，请参考Bulk.find.update()
| 链接<br />
Bulk.find.update(update) |
2.6版本新功能，在批量操作中添加一个批量修改操作。该方法更新现有文档中的特定字段。使用Bulk.find()方法指定能确定哪些文档要修改的条件。该方法修改所有的匹配文档。
| 链接<br />
Bulk.find.upsert() |
2.6版本新功能，需要在一个修改或替换操作将upsert选项设为true。如果将upsert选项设置为true，如果不存在匹配文档，则执行插入操作。如果确实存在匹配文档，则执行指定的更新或替换。
| 链接<br />
Bulk.getOperations() |
2.6版本新功能，返回通过Bulk.execute()方法执行的写入操作数组。返回的写入操作是由mongodb确定的用于执行的群组。 | 链接<br />
Bulk.insert(document) | 2.6版本新功能，将插入操作添加到批量操作列表中。 | 链接<br />
Bulk.tojson() | 2.6版本新功能，返回一个包含了批量方法对象中操作数和批处理数的json文档。 | 链接<br />
Bulk.toString() | 2.6版本新功能，将包含了批量方法对象中操作数和批处理数的json文档作为字符串返回 | 链接</p>

<p><strong>用户管理方法(User Management Methods)</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>db.auth()</td>
<td>允许用户在shell中对数据库进行身份验证。</td>
<td>链接</td>
</tr>

<tr>
<td>db.changeUserPassword(username, password)</td>
<td>修改用户的密码</td>
<td>链接</td>
</tr>

<tr>
<td>db.createUser(user, writeConcern)</td>
<td></td>
<td></td>
</tr>

<tr>
<td>为运行该方法的数据库创建一个新用户。如果用户已经存在于数据库中，则会报用户重复错误信息。</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>db.dropUser(username, writeConcern)</td>
<td>从当前数据库中删除用户。</td>
<td>链接</td>
</tr>

<tr>
<td>db.dropAllUsers(writeConcern)</td>
<td>从当前数据库中删除所有用户。</td>
<td>链接</td>
</tr>

<tr>
<td>db.getUser(username, args)</td>
<td>返回指定用户的用户信息。在用户所在的数据库上运行该方法。</td>
<td>链接</td>
</tr>

<tr>
<td>db.getUsers()</td>
<td>返回数据库中所有用户的信息。</td>
<td>链接</td>
</tr>

<tr>
<td>db.grantRolesToUser(username, roles, writeConcern)</td>
<td>授权用户角色列表</td>
<td>链接</td>
</tr>

<tr>
<td>db.removeUser()</td>
<td>根据用户名从数据库中删除指定的用户。2.6版本以后不建议使用使用db.dropUser()替换。</td>
<td>链接</td>
</tr>

<tr>
<td>db.revokeRolesFromUser( username, [ roles ], { writeConcern } )</td>
<td></td>
<td></td>
</tr>

<tr>
<td>移除一个用户的一个或多个角色</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>db.updateUser(username, update, writeConcern)</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>更新运行该方法的数据库的对应用户的数据。对字段的更新会完全替换先前字段的值。这包括对用户角色数组的更新。注：当您更新角色数组时，您会完全替换先前数组的值。所以若要添加或删除角色，无需替换所有用户现有角色，请使用db.grantRolesToUser()或db.revokeRolesFromUser()方法。
| 链接</p>

<p><strong>角色管理方法(Role Management Methods)</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>db.createRole(role, writeConcern)</td>
<td></td>
<td></td>
</tr>

<tr>
<td>在数据库中创建角色(自定义角色)。您可以通过显示列出权限列表或通过角色继承来自其他角色或两者的特权来指定角色的权限。该角色适用于运行该方法的数据库上。</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>链接<br />
db.dropRole(rolename, writeConcern) | 从运行该方法的数据库中删除指定的用户自定义的角色 | 链接<br />
db.dropAllRoles(writeConcern) | 从运行该方法的数据库中删除所有的用户自定义的角色 | 链接<br />
db.getRole(rolename, args) |
返回指定角色继承权限的角色列表。同样，该方法还可以返回该角色的所有权限。在包含该角色的数据库中运行该方法，该命令可以获取用户定义角色(user-
defined roles)和内置角色(built-in roles)的信息。 | 链接<br />
db.getRoles() |
返回运行该方法的数据库中所有角色的信息。该方法有无参数都可以运行。如果没有参数运行，该方法返回数据库所有用户定义角色的继承信息。 | 链接<br />
db.grantPrivilegesToRole(rolename, privileges, writeConcern) |
向指定用户定义角色授予附加权限。 | 链接<br />
db.revokePrivilegesFromRole(rolename, privileges, writeConcern) |
从运行该方法的数据库中删除指定自定义角色的指定权限 | 链接<br />
db.grantRolesToRole(rolename, roles, writeConcern) | 给指定自定义角色授权权限 | 链接<br />
db.revokeRolesFromRole(rolename, roles, writeConcern) | 从一个角色中移除指定的继承角色。 | 链接<br />
db.updateRole(rolename, update, writeConcern) |
更新指定的用户自定义角色，该方法必须运行在该角色所在的数据库上。注：对角色字段数据的更改会完全覆盖以前的数据，如果只是增加或删除某一数据，请参考上列方法。
| 链接</p>

<p><strong>副本方法(Replication Methods)</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>rs.add(host, arbiterOnly)</td>
<td>添加一个成员到副本集中，若要运行该方法，必须连接到复制集的主集。</td>
<td>链接</td>
</tr>

<tr>
<td>rs.addArb(host)</td>
<td>给一个现有副本集中添加一个新的仲裁。注：一般来说，尽量避免每个副本集有超过一个的仲裁</td>
<td>链接</td>
</tr>

<tr>
<td>rs.conf()</td>
<td>返回包含当前副本集配置的文档。该方法包装了replSetGetConfig指令</td>
<td>链接</td>
</tr>

<tr>
<td>rs.freeze(seconds)</td>
<td>使当前副本集在一段时间内放弃精选主集的资格</td>
<td>链接</td>
</tr>

<tr>
<td>rs.help()</td>
<td>返回用于所有副本集相关shell函数的帮助文本。</td>
<td>链接</td>
</tr>

<tr>
<td>rs.initiate(configuration)</td>
<td>启动一个副本集。该方法可以选择以包含副本集配置信息的文档形式进行参数化。</td>
<td>链接</td>
</tr>

<tr>
<td>rs.printReplicationInfo()</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>2.6版本新功能，以格式化报表打印副本集成员的oplog，所显示的格式化报表的数据是由db.getReplicationInfo()返回的。rs.printReplicationInfo()的输出与db.printReplicationInfo()的输出相同。
| 链接<br />
rs.printSlaveReplicationInfo() |
从集合的从成员的角度返回包含副本集状态的格式化报表，该方法与db.printSlaveReplicationInfo()的输出完全相同。 | 链接<br />
rs.reconfig(configuration, force) | 重新定义现有副本集，覆盖现有副本集配置。若要运行该方法，必须连接到副本集的主集。 |
链接<br />
rs.remove(hostname) |
从当前副本集中删除参数所描述的成员。此函数会断开shell链接，并将作为复制集重联且会重新选举谁将成为主集。因此，即使该命令成功执行，shell也会报错。
| 链接<br />
rs.slaveOk() |
为db.getMongo().setSlaveOk()做一个简要说明，其允许当前连接同意在从节点运行读取操作。请参考readPref()方法以便在mongo
shell上的读取操作获取更细粒度的控制。 | 链接<br />
rs.stepDown(stepDownSecs, secondaryCatchUpPeriodSecs) |
将副本集的主节点属性设为从节点，当主节点降级完成之后,eligble
secondaries将会举行主节点的选举。该方法不会立刻将主节点降级，如果没有可以使用的从节点与主节点保持一致，则主节点会等待secondaryCatchUpPeriodSecs参数(默认10秒)让一个从节点提升为主节点。一旦有可用的空闲从节点，则该方法会将主节点降级。一旦降级，原先的主节点会变成从节点并且在接下来的stepDownSecs参数的时间内没有资格选举变成主节点。
| 链接<br />
rs.syncFrom() |
提供了一个封装replSetSyncFrom的包装器,它允许管理员暂时为当前成员重写默认同步目标。以[hostname]:[port]格式指定要复制的成员名称。
| 链接</p>

<p><strong>分片方法(Sharding Methods)</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>sh.addShard(url)</td>
<td>将一个片副本添加到一个片集群中。此方法必须运行在一个mongos实例上。</td>
<td>链接</td>
</tr>

<tr>
<td>sh.addShardTag(shard, tag)</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>将一个片与标记或标识符关联。mongodb使用这些标识符直接将位于标记范围内的块连接到特定的片。该方法将块范围与标记范围关联起来。3.4版本修改：该方法又名为sh.addShardToZone()，上面的功能仍然适用于3.2版本。3.4版本MongoDB提供Zone
sharding作为标记-感知分片的替代品 | 链接<br />
sh.addShardToZone(shard, zone) |
3.4版本新功能，将一个片与一个分区关联起来。mongodb将此片与给定区域关联。被区域覆盖的块被分配给与区域关联的片。 | 链接<br />
sh.addTagRange(namespace, minimum, maximum, tag) |
将一系列片键的值附加到使用sh.addShardTag()方法创建的片标记中。3.4版本修改：该方法又名为sh.updateZoneKeyRange()，上面的功能仍然适用于3.2版本。3.4版本MongoDB提供Zone
sharding作为标记-感知分片的替代品 | 链接<br />
sh.disableBalancing(namespace) | 禁用指定的分片集合的平衡器。这不会影响同一集群中其他分片集合的块的平衡。
<strong>注：您只能在mongos实例上运行该方法，如果运行在mongod实例上，则会报错。</strong> | 链接<br />
sh.enableBalancing(namespace) | 启用用于分片集合的指定命名空间的平衡器。
<strong>注：您只能在mongos实例上运行该方法，如果运行在mongod实例上，则会报错。</strong> | 链接<br />
sh.disableAutoSplit() |
3.4版本新功能，禁用在config.settings集合中的自动拆分标志。当启用了对一个分片集群进行自动拆分功能时，mongodb会从快速增长的块的片键的值自动拆分块。默认情况下启用自动拆分。
<strong>注：您只能使用shell链接到mongos实例上运行该方法，如果运行在mongod实例上，则会报错。</strong> | 链接<br />
sh.enableAutoSplit() |
3.4版本新功能，启用分片集群的自动拆分功能。该方法启用了在config.settings集合中的自动拆分标志。默认情况下启用自动拆分。
<strong>注：您只能使用shell链接到mongos实例上运行该方法，如果运行在mongod实例上，则会报错。</strong> | 链接<br />
sh.enableSharding(database) |
启用指定数据库上的分片。这并不自动地将任何集合进行分片处理，而是可以使用sh.shardCollection()启动分片集合。 | 链接<br />
sh.getBalancerHost() | 自3.4版本开始，不推荐使用：从3.4开始，平衡器运行在CSRS(Config Server
Replication Set-
配置服务器副本集)的主节点上。CSRS的主节点上使用一个名为“ConfigServer”的进程id来持有“balancer”锁。这个锁永远不会释放。 |
链接<br />
sh.getBalancerState() |
该方法用于判断平衡器是否启用，这并不能反映平衡操作的当前状态：使用sh.isBalancerRunning()来检查平衡器的当前状态。 | 链接<br />
sh.removeTagRange(namespace, minimum, maximum, tag) |
3.0版中的新功能,移除一系列使用sh.addShardTag方法创建的片键的值。3.4版本修改：该方法又名为sh.removeRangeFromZone()，上面的功能仍然适用于3.2版本。3.4版本MongoDB提供Zone
sharding作为标记-感知分片的替代品 | 链接<br />
sh.removeRangeFromZone(namespace, minimum, maximum) |
3.4版本新功能，删除一系列片键的值和区域之间的关联。 | 链接<br />
sh.help() | 返回shell关于所有的分片函数基本的帮助文本。 | 链接<br />
sh.isBalancerRunning() |
判断平衡器进程是否正在运行，且正在迁移块。使用sh.getBalancerState()来确定是否启用了平衡器或禁用了平衡器。 | 链接<br />
sh.moveChunk(namespace, query, destination) |
将包含符合指定查询的文档的块移动到目标片。该方法提供了一个包装moveChunk数据库指令的包装器 | 链接<br />
sh.removeShardTag(shard, tag) |
删除标记与片之间的关联。该方法只能运行连接的mongos实例上。3.4版本中更改：该方法别名为sh.removeShardFromZone()，上面的功能仍然适用于3.2版本。3.4版本MongoDB提供Zone
sharding作为标记-感知分片的替代品 | 链接<br />
sh.removeShardFromZone(shard, zone) | 3.4版本新功能，移除区域与片之间的关联。 | 链接<br />
sh.setBalancerState(state) |
启用或禁用平衡器。使用sh.getBalancerState()来确定当前是否启用了平衡器或禁用了平衡器，并使用sh.isBalancerRunning()来检查其当前状态。
<strong>注：您只能使用shell链接到mongos实例上运行该方法，如果运行在mongod实例上，则会报错。</strong> | 链接<br />
sh.shardCollection(namespace, key, unique, options) | 使用片键作为关键字来切分集合。 | 链接<br />
sh.splitAt(namespace, query) | 以查询获得的数据作为片键的值来切分块。 | 链接<br />
sh.splitFind(namespace, query) | 将包含 <strong>以查询获得的数据作为片键的值</strong>
的块从中间切分成两个相等的块。相反地，要在特定点上拆分块，请参考sh.splitAt()。 | 链接<br />
sh.startBalancer(timeout, interval) | 在一个分片集群中启动平衡器。从mongodb
3.4开始，该方法不会等待平衡器来开始。在早期版本中，该方法等待平衡器才启动。
<strong>注：您只能使用shell链接到mongos实例上运行该方法，如果运行在mongod实例上，则会报错。</strong> | 链接<br />
sh.status() |
当运行在一个mongos实例时，打印一个格式化的分片配置报表以及关于一种分片集群中现有块的信息。如果块总数大于或等于20，则会默认不显示详细的块信息。 |
链接<br />
sh.stopBalancer(timeout, interval) |
3.4版本新功能，禁用一个分片集群中的平衡器。如果平衡进程正在运行中，则会等待平衡器完成平衡操作。
<strong>注：您只能使用shell链接到mongos实例上运行该方法，如果运行在mongod实例上，则会报错。</strong> | 链接<br />
sh.waitForBalancer(wait, timeout, interval) | 等待平衡器状态的改变，该方法是一个内部的方法。 | 链接<br />
sh.waitForBalancerOff(timeout, interval) | 内部方法，等待平衡器停止。 | 链接<br />
sh.waitForPingChange(activePings, timeout, interval) |
该方法等待activepings的一个ping状态的改变，并且只有当指定的ping更改状态时才返回。 | 链接<br />
sh.updateZoneKeyRange(namespace, minimum, maximum, zone) |
3.4版本新方法，将一系列片键的值与区域关联起来. | 链接</p>

<p><strong>对象决策与方法(Object Constructors and Methods)</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>BulkWriteResult()</td>
<td>2.6版本新功能。一个包含Bulk.execute()方法返回结果的包装器</td>
<td>链接</td>
</tr>

<tr>
<td>Date()</td>
<td>返回当前日期作的字符串或日期对象。date():在shell中返回当前日期的字符串。new</td>
<td></td>
</tr>

<tr>
<td>date():将当前日期作为日期对象返回。shell使用ISODate助手封装日期对象，ISODate属于UTC。</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>ObjectId(hexadecimal)</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>返回一个新的objectid值。12字节的objectid值包括：4字节值，表示自unix纪元(1970.1.1)以来的秒数，3字节机器标识符,2字节进程id，3字节的以随机值开头计数器。
| 链接<br />
ObjectId.getTimestamp() | 返回ObjectId()的时间戳部分作为日期 | 链接<br />
ObjectId.toString() | 返回ObjectId()的字符串表示形式。此字符串值具有ObjectId(…)的格式。 | 链接<br />
ObjectId.valueOf() | 将ObjectId()以小写十六进制字符串返回。此值是 ObjectId()对象的str属性。 | 链接<br />
UUID() | 生成一个bson uuid对象。 | 链接<br />
WriteResult() | 一个包含有mongo shell 写入方法的结果状态的封装器 | 链接<br />
WriteResult.hasWriteError() | 判断mongo shell的写方法的结果是否具有WriteResult.writeError |
链接<br />
WriteResult.hasWriteConcernError() | 判断mongo
shell的写方法的结果是否具有WriteResult.writeConcernError | 链接</p>

<p><strong>连接方法(Connection Methods)</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>connect(url, user, password)</td>
<td></td>
<td></td>
</tr>

<tr>
<td>创建一个与mongodb实例的连接并返回到数据库的引用。然而，在大多数情况下，使用Mongo()对象及其getDB()方法代替。</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>Mongo(host)</td>
<td>JavaScript构造器从mongo shell或者一个JavaScript文件中实例化一个数据库链接</td>
<td>链接</td>
</tr>

<tr>
<td>Mongo.getDB(database)</td>
<td>从mongo shell或者一个JavaScript文件中提供一个访问数据库的对象</td>
<td>链接</td>
</tr>

<tr>
<td>Mongo.getReadPrefMode()</td>
<td>返回Mongo()链接对象的读取操作方式</td>
<td>链接</td>
</tr>

<tr>
<td>Mongo.getReadPrefTagSet()</td>
<td>返回Mongo()链接对象的读取操作标记</td>
<td>链接</td>
</tr>

<tr>
<td>Mongo.isCausalConsistency()</td>
<td>3.6版本新功能，返回一个当前连接对象是否启用因果一致性(causal</td>
<td></td>
</tr>

<tr>
<td>consistency)的布尔值。</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>Mongo.setCausalConsistency(boolean)</td>
<td>3.6版本新功能，启用或禁用连接对象的因果一致性(causal</td>
<td></td>
</tr>

<tr>
<td>consistency)，注：即使会话可能具有因果一致性，也可能导致因果一致性，因此，在连接对象可能具有因果一致性，反之亦然。</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>Mongo.setReadPref(mode, tagSet)</td>
<td>在一个mongo连接中调用该方法控制客户端如何将查询到副本集成员的所有路由。</td>
<td>链接</td>
</tr>

<tr>
<td>Mongo.setSlaveOk()</td>
<td>对于当前会话，此命令允许从非控制(即从属或次要)实例进行读取操作。</td>
<td>链接</td>
</tr>

<tr>
<td>Mongo.startSession(options)</td>
<td>3.6版本新功能，为一个链接开启一个session，mongo</td>
<td></td>
</tr>

<tr>
<td>shell将会话id分配给与会话关联的命令</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>Session()</td>
<td>3.6版本新功能，在mongo shell对象链接的session对象</td>
<td>链接</td>
</tr>

<tr>
<td>SessionOptions()</td>
<td>3.6版本新功能，返回mongo shell对象链接的session对象的参数</td>
<td>链接</td>
</tr>
</tbody>
</table>

<p><strong>本机方法(Native Methods)</strong></p>

<table>
<thead>
<tr>
<th>方法名</th>
<th>方法功能</th>
<th>官网连接</th>
</tr>
</thead>

<tbody>
<tr>
<td>cat(filename)</td>
<td>返回指定文件的内容。该方法使用当前shell会话的输出返回，不会影响服务器。</td>
<td>链接</td>
</tr>

<tr>
<td>cd(path)</td>
<td>更改mongo shell的目录上下文，并且对mongodb服务器没有任何影响。</td>
<td>链接</td>
</tr>

<tr>
<td>copyDbpath()</td>
<td>内部应用</td>
<td>链接</td>
</tr>

<tr>
<td>fuzzFile(filename)</td>
<td>内部应用</td>
<td>链接</td>
</tr>

<tr>
<td>getHostName()</td>
<td>返回运行mongo shell进程的系统的主机名。</td>
<td>链接</td>
</tr>

<tr>
<td>getMemInfo()</td>
<td>返回一个包含两个字段的文档，用于查看javascript</td>
<td></td>
</tr>

<tr>
<td>shell进程使用的内存量。返回的字段是resident和virtual的。</td>
<td>链接</td>
<td></td>
</tr>

<tr>
<td>hostname()</td>
<td>返回运行mongo shell进程的系统的主机名。</td>
<td>链接</td>
</tr>

<tr>
<td>listFiles()</td>
<td>返回目录中包含每个对象的文档的数组。此函数在mongo shell的上下文中运行。</td>
<td>链接</td>
</tr>

<tr>
<td>load(file)</td>
<td>加载并运行一个javascript文件到当前shell环境中。</td>
<td>链接</td>
</tr>

<tr>
<td>ls()</td>
<td>返回当前目录中文件的列表。</td>
<td>链接</td>
</tr>

<tr>
<td>md5sumFile(filename)</td>
<td>返回指定文件的md5哈希值。</td>
<td>链接</td>
</tr>

<tr>
<td>mkdir(path)</td>
<td>在指定路径中创建目录。运行mongo shell的用户必须拥有在指定路径中创建目录的权限。</td>
<td>链接</td>
</tr>

<tr>
<td>pwd()</td>
<td>返回当前目录。(经测试解释没问题，但是它的名字太有误导性了)</td>
<td>链接</td>
</tr>

<tr>
<td>quit()</td>
<td>退出当前shell会话。</td>
<td>链接</td>
</tr>

<tr>
<td>removeFile(filename)</td>
<td>从本地文件系统中删除指定的文件。</td>
<td>链接</td>
</tr>

<tr>
<td>resetDbpath()</td>
<td>内部应用</td>
<td>链接</td>
</tr>

<tr>
<td>sleep(ms)</td>
<td>在指定时间内暂停javascript执行上下文。</td>
<td>链接</td>
</tr>

<tr>
<td>setVerboseShell()</td>
<td>该方法使指示mongo shell打印每个操作的持续时间。</td>
<td>链接</td>
</tr>

<tr>
<td>version()</td>
<td>返回mongo shell 版本字符串，在2.4版本以前，该方法只是打印版本号，但是不是字符串</td>
<td>链接</td>
</tr>

<tr>
<td>_isWindows()</td>
<td>判断当前mongo shell运行的系统是不是windows系统</td>
<td>链接</td>
</tr>

<tr>
<td>_rand()</td>
<td>返回介于0和1之间的随机数。</td>
<td>链接</td>
</tr>

<tr>
<td>_srand()</td>
<td>内部应用</td>
<td>链接</td>
</tr>
</tbody>
</table>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>