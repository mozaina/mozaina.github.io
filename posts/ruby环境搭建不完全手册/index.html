<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Ruby环境搭建不完全手册 | 开发者问答集锦</title>
    <meta property="og:title" content="Ruby环境搭建不完全手册 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="Ruby环境搭建不完全手册">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/ruby%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA%E4%B8%8D%E5%AE%8C%E5%85%A8%E6%89%8B%E5%86%8C/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Ruby环境搭建不完全手册</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h1 id="starting-out-with-ruby">starting out with Ruby</h1>

<h2 id="前言">前言：</h2>

<pre><code>本文的目标是只要高中毕业，具有基本的计算机概念，都能轻松上手的傻瓜版教程。
// 特别是我这种零基础文科小白
</code></pre>

<h2 id="基础概念篇">基础概念篇</h2>

<ol>
<li><p>我们目前使用的开发语言都是经过封装和优化的，更接近人类语言的存在，所以我们需要：</p>

<ol>
<li>程序运行环境，e.g. Java 的JDK，Ruby和Go的基础lib</li>
<li>具备诸如代码补全、高亮、运行…的编辑器/IDE</li>
</ol></li>
</ol>

<blockquote>
<p>当然也有大神直接用记事本/notepad撸代码，那种非人类的操作只可远观不可随意模仿</p>
</blockquote>

<ol>
<li><p>开发语言，无论Python、Go、Perl、Prolog…最终目的都是通过一系列的逻辑来处理数据，那么我们需要：</p>

<ol>
<li>一个容器可以承载和运行我们的处理逻辑</li>
<li>一些容器用来储存我们的数据</li>
<li>一些路径可以让我们控制逻辑去做处理</li>
<li>一些方式让我们看到处理的结果</li>
</ol></li>

<li><p>在了解了这些之后我们了解到需要做以下到准备：</p>

<ol>
<li>计算机/服务器上开发和编译程序用的环境</li>
<li>趁手的IDE</li>
<li>程序运行和部署工具</li>
</ol></li>
</ol>

<h2 id="环境准备篇">环境准备篇</h2>

<ol>
<li><p>开发环境（以下的手顺都以Mac为基础环境）<br />
0. Java JDK (somehow bazel 的安装需要JDK 1.8…emmmm…)<br />
&gt;<a href="https://blog.csdn.net/deliciousion/article/details/78046007">https://blog.csdn.net/deliciousion/article/details/78046007</a></p>

<ol>
<li><p>Ruby的安装</p>

<ol>
<li><p>Mac自带有Ruby，可以查看ruby版本</p>

<pre><code>        chens-MacBook-Pro:~ chenchen$ ruby --version
</code></pre>

<p>ruby 2.3.7p456 (2018-03-28 revision 63024) [universal.x86_64-darwin17]</p></li>

<li><p>ruby的包管理器gem也是预装过的，可以查看版本</p>

<pre><code>        chens-MacBook-Pro:~ chenchen$ gem --version
</code></pre>

<p>2.5.2.3</p></li>
</ol></li>

<li><p>接下来安装HomezBrew，这是Mac上的包管理器，类似Notepad++里面的pluginmanager。<br />
这玩意同时依赖了Xcode和Ruby，本着要用就用最新的想法（希望能避免好多坑），直接搞最新版。<br />
这命令我抄的，在命令行里敲：</p>

<pre><code>    /usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; 
</code></pre></li>
</ol></li>
</ol>

<p>一大堆下一步，会有一些需要输入管理员密码的地方，用来在系统目录里创建一些文件</p>

<blockquote>
<p>因为这玩意会依赖xcode，所以可能会提示要求装xcode-select</p>
</blockquote>

<p>果断自己先手动安装掉</p>

<pre><code>            chens-MacBook-Pro:~ chenchen$ xcode-select --install
    xcode-select: note: install requested for command line developer tools
</code></pre>

<p>当然，像我脸这么黑的肯定是安装失败了，只好去Apple developer里面去下了自己装</p>

<blockquote>
<p>需要登陆appleId<br />
 <a href="https://developer.apple.com/download/more/">https://developer.apple.com/download/more/</a></p>
</blockquote>

<pre><code>3. 安装Xcode相关的东西，主要为了编译各种C++的包
</code></pre>

<blockquote>
<p>上一步已经做好了的话，就只做3和4就好</p>
</blockquote>

<pre><code>  1. xcode-select install 
    1. 如果失败了，从app store里装一下xcode
    2. 更新一把
    3. 然后重定向xcode：sudo xcode-select -s /Applications/Xcode.app/Contents/Developer
    4. 装下xcode的license：sudo xcodebuild -license
4. 安装protobuf

  1. brew install protobuf  
</code></pre>

<p>0. <a href="https://blog.csdn.net/u014534808/article/details/80203018">https://blog.csdn.net/u014534808/article/details/80203018</a></p>

<pre><code>  2. 遇到类似 xxx Permission denied xxx /usr/local/Frameworks的时候：  
</code></pre>

<p>0. 可能是这个文件夹不存在，跑一下</p>

<pre><code>    1. sudo mkdir /usr/local/Frameworks
    2. sudo chown $(whoami):admin /usr/local/Frameworks
    3. 再run一下#1 里面的 install 命令就好了
5. 安装gRPC相关组件

  1. grpc 使用环境 
</code></pre>

<blockquote>
<p><code>gem install grpc</code></p>
</blockquote>

<pre><code>  2. grpc 编译工具 
</code></pre>

<blockquote>
<p><code>gem install grpc-tools</code></p>
</blockquote>

<pre><code>6. 安装mysql

  1. brew install mysql@5.6 （目前线上环境有5.6和5.7两种instance，装5.7也一样。不过需要自己建my.cnf）
</code></pre>

<blockquote>
<p>这个功能貌似已经在新版本里被干掉了，需要确认一下是否可以指定安装版本</p>
</blockquote>

<pre><code>  2. 重装mysql链接库 mysql2
</code></pre>

<blockquote>
<p>由于5x和8x的路径不一样，相互又不兼容，所以可能需要重装一遍</p>

<blockquote>
<p>通过<code>gem list | grep mysql2</code>确定是否存在<br />
 存在就执行第三步否则跳过</p>
</blockquote>
</blockquote>

<pre><code>  3. 卸载当前的mysql2
</code></pre>

<blockquote>
<p><code>gem uninstall mysql2</code></p>
</blockquote>

<pre><code>  4. 安装mysql2 并指定配置文件位置
</code></pre>

<blockquote>
<p><code>gem install mysql2 -v '0.4.10' -- --with-mysql-
config=/usr/local/Cellar/mysql@5.6/5.6.42/bin/mysql_config</code></p>

<blockquote>
<p>其中通过 -v 指定 mysql2 版本，通过 &ndash;with-mysql-config 指定mysql配置文件路径，这个路径可能根据安装包的不同而不同</p>
</blockquote>
</blockquote>

<p>由于路径不同，我们可能还需要把mysql里面用到的一些应用做超链接</p>

<blockquote>
<p>mysql本尊</p>

<blockquote>
<p><code>ln -sf /usr/local/Cellar/mysql\@5.6/5.6.42/bin/mysql /usr/local/bin/mysql</code></p>
</blockquote>

<p>mysql.server</p>

<blockquote>
<p><code>ln -sf /usr/local/Cellar/mysql\@5.6/5.6.42/bin/mysql.server
/usr/local/bin/</code></p>
</blockquote>

<p>mysqldump</p>

<blockquote>
<p><code>ln -sf /usr/local/Cellar/mysql\@5.6/5.6.42/bin/mysqldump /usr/local/bin/</code></p>
</blockquote>
</blockquote>

<p>然后验证一下</p>

<blockquote>
<p><code>mysql --version</code></p>

<blockquote>
<p>mysql Ver 14.14 Distrib 5.6.42, for osx10.14 (x86_64) using EditLine
wrapper<br />
 这个可能不一样，以真实安装为准</p>
</blockquote>
</blockquote>

<pre><code>  5. 启动mysql

                    mysql.server start



  6. 这个安装过程可能需要重复很多遍，参考这个地方来来回卸载MySql

                     sudo rm /usr/local/mysql
         sudo rm -rf /usr/local/mysql*
         sudo rm -rf /Library/StartupItems/MySQLCOM
         sudo rm -rf /Library/PreferencePanes/My*
         rm -rf ~/Library/PreferencePanes/My*
         sudo rm -rf /Library/Receipts/mysql*
         sudo rm -rf /Library/Receipts/MySQL*
         sudo rm -rf /var/db/receipts/com.mysql.*
         其实不同的安装方式有些东西的存储位置不一样，删除完检查一下下面这些文件是否删除了，没有的话则删除掉：
         /usr/local/Cellar 里的mysql文件
         /usr/local/var 里的mysql文件
         /tmp 里的mysql.sock, mysql.sock.lock, my.cnf文件
         pid文件和err文件都在/usr/local/var/mysql里确保删除了
         brew安装的安装包存储在/usr/local/Library/Cache/Homebrew也可以一并删除
         执行brew cleanup 



7. 安装redis

  1. 官网下载 stable版的安装包
  2. 解压缩然后挪到 /usr/local/  
</code></pre>

<p><code>tar -vxf redis-5.0.0.tar -C /usr/local/</code></p>

<pre><code>  3. 进redis的目录编译一下，参考这篇

                    cd /usr/local/redis*
        sudo make test
        sudo make install


  4. 后台启动redis

                    redis-server &amp;
</code></pre>

<ol>
<li><p>各种开发工具，目前主流的是用IDEA和VSCode来进行开发，也欢迎用其他的<br />
0. IDEA<br />
0. 直接官网下载<br />
1. 破解方法百度&rdquo;lan yu&rdquo;，支持正版从我做起：）<br />
2. 安装各种插件，比如&rdquo;ruby&rdquo;</p>

<ol>
<li><p>VSCode<br />
0. 直接官网下载</p>

<ol>
<li>安装各种插件，比如&rdquo;ruby&rdquo;</li>
</ol></li>

<li><p>DB工具<br />
0. 我直接用的MySql自己的MySQLWorkbench</p>

<ol>
<li>链接一下本地DB试试，记得改root密码 ：）</li>
</ol></li>
</ol></li>

<li><p>运行容器<br />
0. 一般来说有三种方式运行程序<br />
0. 本地直接运行<br />
1. 虚拟机<br />
2. docker</p>

<pre><code> 三种方式各有优缺点可以自己找资料
</code></pre>

<ol>
<li><p>安装docker<br />
0. 官网安装教程</p>

<ol>
<li>下载普通安装略</li>

<li><p>版本验证</p>

<pre><code>        chen1:llspay chenchen$ docker --version
</code></pre>

<p>Docker version 18.06.1-ce, build e68fc7a
chen1:llspay chenchen$ docker-compose &ndash;version
docker-compose version 1.22.0, build f46880f
chen1:llspay chenchen$ docker-machine &ndash;version
docker-machine version 0.15.0, build b48dc28d</p></li>

<li><p>然后在状态栏小鲸鱼里面装Kubernetes</p></li>
</ol></li>
</ol></li>
</ol>

<h2 id="导入项目">导入项目</h2>

<p>涉及公司信息，略。</p>

<h2 id="ruby依赖库">ruby依赖库</h2>

<ol>
<li>bundler：Manage dependencies of an application</li>
</ol>

<blockquote>
<p>ref: <a href="https://rubygems.org/gems/bundler">https://rubygems.org/gems/bundler</a></p>
</blockquote>

<ol>
<li>pry: Ruby的debug工具。可能装了，如果没装：<br />
<code>gem install pry</code></li>
</ol>

<blockquote>
<p>ref: <a href="https://github.com/pry/pry">https://github.com/pry/pry</a></p>
</blockquote>

<ol>
<li>Debug Ruby用的一些玩意儿<br />
0. debase<br />
<code>gem install debase</code></li>
</ol>

<blockquote>
<p>ref: <a href="https://rubygems.org/gems/debase/">https://rubygems.org/gems/debase/</a></p>
</blockquote>

<pre><code>1. ruby-debug-ide  
</code></pre>

<p><code>gem install ruby-debug-ide</code></p>

<blockquote>
<p>ref: <a href="https://rubygems.org/gems/ruby-debug-ide/">https://rubygems.org/gems/ruby-debug-ide/</a></p>
</blockquote>

<h2 id="关于开发">关于开发</h2>

<ol>
<li>教程

<ul>
<li>Ruby on Rails Guides</li>
</ul></li>
</ol>

<blockquote>
<p>官方文档，不过是英文的</p>
</blockquote>

<pre><code>* 菜鸟教程 
</code></pre>

<blockquote>
<p>这里面从安装到基本语法都写的挺详细，而且是中文文档</p>
</blockquote>

<ol>
<li>CI/CD

<ul>
<li>持续集成持续部署（大概这样翻译） Continuous Integration/Continuous Deployment</li>
</ul></li>
</ol>

<blockquote>
<p>ref: <a href="https://blog.csdn.net/sinat_35930259/article/details/79429743">https://blog.csdn.net/sinat_35930259/article/details/79429743</a></p>
</blockquote>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a></li>
        
        <li><a href="/posts/051rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%981hellorails/">051RubyonRails學習筆記1Hellorails</a></li>
        
        <li><a href="/posts/053rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%986%E9%87%8D%E6%A7%8B%E5%88%AA%E9%99%A4%E7%95%99%E8%A8%80%E5%AE%89%E5%85%A8/">053RubyonRails學習筆記6重構刪除留言安全</a></li>
        
        <li><a href="/posts/055rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%987carrierwaveimplementation/">055RubyonRails學習筆記7CarrierwaveImplementation</a></li>
        
        <li><a href="/posts/065rubyonrails%E7%AD%86%E8%A8%9810showtargetinfoongooglemaps/">065Rubyonrails筆記10showtargetinfoongooglemaps</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/ruby'>ruby</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>