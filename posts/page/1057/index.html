<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Posts | 开发者问答集锦</title>
    <meta property="og:title" content="Posts - 开发者问答集锦">
    <meta property="og:type" content="article">
        
        
    <meta name="Keywords" content="">
    <meta name="description" content="Posts">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/posts/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8%E5%8F%A6%E5%A4%96%E7%9A%84%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95/" title="shell中调用另外的脚本文件的两种方法">shell中调用另外的脚本文件的两种方法</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8%E5%8F%A6%E5%A4%96%E7%9A%84%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E6%B3%95/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8python%E8%84%9A%E6%9C%AC/" title="shell中调用python脚本">shell中调用python脚本</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            shell中调用python脚本 在sh脚本中可通过python命令调用py脚本，同样可以获取py脚本的返回码与输出
py脚本的sys.exit([arg]) python doc中的内容
 Exit from Python. This is implemented by raising the SystemExit exception, so cleanup actions specified by finally clauses of try statements are honored, and it is possible to intercept the exit attempt at an outer level. The optional argument arg can be an integer giving the exit status (defaulting to zero), or another type of object. If it is an integer, zero is considered “successful termination” and any nonzero value is considered “abnormal termination” by shells and the like.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8python%E8%84%9A%E6%9C%AC/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8mysql%E5%8E%9F%E6%A0%BC%E5%BC%8F%E8%BE%93%E5%87%BA%E5%88%B0%E6%96%87%E4%BB%B6%E9%87%8C%E9%9D%A2/" title="shell中调用mysql原格式输出到文件里面">shell中调用mysql原格式输出到文件里面</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            sql5=&ldquo;select * from 表名 ;&ldquo;;
第一种方法
#ss1=$(mysql -u $DB_USER -h ${DB_IP} -p${DB_PASSWD} $DB_NAME -e &ldquo;$sql5&rdquo;|awk &lsquo;NR&gt;1&rsquo;);
或者
#ss1=$(mysql -u $DB_USER -h ${DB_IP} -p${DB_PASSWD} $DB_NAME -e &ldquo;$sql5&rdquo;);
#echo &ldquo;$ss1&rdquo; &gt;saiche-$day.txt;
#sed -i &ldquo;s/echo -e \\\\\t/|/g&rdquo; saiche-$day.txt ;
第二种方法
mysql -u $DB_USER -h ${DB_IP} -p${DB_PASSWD} $DB_NAME -t -e &ldquo;$sql5&rdquo; &gt; saiche-$day.txt
加上 -t 参数 会输出 原格式到文件里面！
本文转自 chengxuyonghu 51CTO博客，原文链接：http://blog.51cto.com/6226001001/1595205，如需转载请自行联系原作者……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8mysql%E5%8E%9F%E6%A0%BC%E5%BC%8F%E8%BE%93%E5%87%BA%E5%88%B0%E6%96%87%E4%BB%B6%E9%87%8C%E9%9D%A2/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8java/" title="shell中调用java">shell中调用java</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8java/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8expect%E5%B0%8F%E4%BE%8B%E5%AD%90/" title="shell中调用expect小例子">shell中调用expect小例子</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            #!/bin/bash code_path='/root/' mysql_file='recharge*.gz' #mysql_file1='refund*.gz' hosts=`cat all.hosts` logname='/tmp/expect.log' rm -rf $logname for i in $hosts; do # echo $ipadd ipadd=`echo $i|awk -F, '{print $1}'` password=`echo $i|awk -F, '{print $2}'` cine_name=`echo $i|awk -F, '{print $3}'` expect -c&quot; set timeout 600 spawn /usr/bin/scp -l 1024 $ipadd:${code_path}${mysql_file} /root/wzp/all/ log_file $logname expect { \&quot;*yes*\&quot; {send \&quot;yes\r\&quot;; exp_continue} \&quot;*password*\&quot; {send \&quot;$password\r\&quot;;} } expect eof;&quot; done  转载于:https://blog.51cto.com/alwaysyunwei/1283387……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8expect%E5%B0%8F%E4%BE%8B%E5%AD%90/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8expect%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E4%BC%A0%E5%8F%82/" title="shell中调用expect以及如何传参">shell中调用expect以及如何传参</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            红字部分为使用expect和如何与shell进行参数交互。
参数交互就是用个系统变量来做~~
#!/bin/bash
ARGV=&ldquo;$1&rdquo;
Method=&ldquo;$2&rdquo;
if [ -z $Method ]
then
Method=2
fi
if [ -z $ARGV ]
then
echo &ldquo;Need args&rdquo;
exit
fi
rm $ARGV
scpPath=&ldquo;/root/$ARGV&rdquo;
export file=$scpPath
echo &ldquo;puts $env($file)&rdquo;
/usr/bin/expect &lt;&lt; \EOF
set timeout 3600
set pwd xxxxxx
spawn scp root@172.25.40.52:$env(file) ./
expect &ldquo;*word:&rdquo;
send &ldquo;$pwd&rdquo;
send &ldquo;\r\n&rdquo;
expect eof
EOF
/bin/bash &lt;&lt; \EOF
#2&gt;1 | grep password | echo pass
chmod +x *
index=&rdquo;
while [ -z $index ]……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%B0%83%E7%94%A8expect%E4%BB%A5%E5%8F%8A%E5%A6%82%E4%BD%95%E4%BC%A0%E5%8F%82/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%AF%BB%E5%86%99mysql%E6%95%B0%E6%8D%AE%E5%BA%93/" title="shell中读写mysql数据库">shell中读写mysql数据库</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%AF%BB%E5%86%99mysql%E6%95%B0%E6%8D%AE%E5%BA%93/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%AE%BE%E7%BD%AE%E6%96%87%E5%AD%97%E8%BE%93%E5%87%BA%E7%9A%84%E9%A2%9C%E8%89%B2%E5%8F%8A%E5%AD%97%E4%BD%93%E6%A0%BC%E5%BC%8F/" title="shell中设置文字输出的颜色及字体格式">shell中设置文字输出的颜色及字体格式</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ANSI控制码 简介 ANSI控制码用于在字符显示系统中控制光标移动和字符色彩等，常用于BBS系统中。
ANSI ESCAPE SEQUENCES又称为VT100系列控制码，国内译为ANSI控制码。顾名思义，需要VT100系列终端的支持，当然现在已经不在局限于VT100了，包括xterm,linux都能很好完成。ANSI控制码依赖终端，不是依赖语言，所以在shell,perl,c里应用均没有问题。
ANSI控制码开始的标志都为ESC[，ESC对应ASCII码表的033(八进制)，linux命令echo用- e启用转义，\033来输入ESC，\033[31m即为ESC[31m。
格式 echo：-e 用来开启echo中的转义 ，\e 或 \033 来输出Esc符号
格式: echo -e &ldquo;\033[字背景颜色;字体颜色m字符串\033[0m&rdquo;
注意m后面紧跟字符串。
ANSI控制码  \33[0m 关闭所有属性
\33[1m 设置高亮度
\33[4m 下划线
\33[5m 闪烁
\33[7m 反显
\33[8m 消隐
\33[30m &ndash; \33[37m 设置前景色（字体色）30:黑 31:红 32:绿 33:黄 34:蓝色 35:紫色 36:深绿 37:白色
\33[40m &ndash; \33[47m 设置背景色 40:黑 41:深红 42:绿 43:黄色 44:蓝色 45:紫色 46:深绿 47:白色
\33[nA 光标上移n行
\33[nB 光标下移n行
\33[nC 光标右移n行
\33[nD 光标左移n行
\33[y;xH设置光标位置
\33[2J 清屏
\33[K 清除从光标到行尾的内容……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%AE%BE%E7%BD%AE%E6%96%87%E5%AD%97%E8%BE%93%E5%87%BA%E7%9A%84%E9%A2%9C%E8%89%B2%E5%8F%8A%E5%AD%97%E4%BD%93%E6%A0%BC%E5%BC%8F/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%AE%BE%E7%BD%AE%E5%88%AB%E5%90%8D%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F/" title="shell中设置别名的两种方式">shell中设置别名的两种方式</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%AE%BE%E7%BD%AE%E5%88%AB%E5%90%8D%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%AE%A1%E7%AE%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%E7%9A%84%E6%96%B9%E6%B3%95%E6%9F%A5%E6%89%BE%E6%9B%BF%E6%8D%A2/" title="shell中计算字符串长度的方法查找替换">shell中计算字符串长度的方法查找替换</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E4%B8%AD%E8%AE%A1%E7%AE%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%E7%9A%84%E6%96%B9%E6%B3%95%E6%9F%A5%E6%89%BE%E6%9B%BF%E6%8D%A2/">阅读全文</a></p>
    </article>
    
    
    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/posts/page/1056/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1055/">1055</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1056/">1056</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/posts/page/1057/">1057</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1058/">1058</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1059/">1059</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1960/">1960</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/posts/page/1058/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>