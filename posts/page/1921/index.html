<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Posts | 开发者问答集锦</title>
    <meta property="og:title" content="Posts - 开发者问答集锦">
    <meta property="og:type" content="article">
        
        
    <meta name="Keywords" content="">
    <meta name="description" content="Posts">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/posts/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/adbshell%E5%90%8E%E6%89%A7%E8%A1%8Csu%E6%96%87%E4%BB%B6%E6%97%A0%E5%8F%8D%E5%BA%94%E4%B8%8D%E8%83%BD%E8%8E%B7%E5%8F%96%E6%9D%83%E9%99%90%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/" title="adbshell后执行su文件无反应不能获取权限的解决办法">adbshell后执行su文件无反应不能获取权限的解决办法</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            问题：控制台（终端）执行adb shell 进入shell后，输入 su（前提是手机/system/bin路径下有这个提权文件），然后控制台一直处于等待状态。
Android开发人员会只用该方法调试手机。我遇到了这个问题，偶然间找到了解决方法。
1、手机root（开发人员都没有权限怎么行哈）
2、安装SuperSu管理手机权限，RootExplorer管理存储。把su文件放到手机/system/bin路径下。
3、PC端，输入adb shell 后进入shell，输入 su 后，手机端 SuperSu打开会看到“adb shell 正在请求授权”，给它权限，就可以了。
4、安装xposed时，若出现空间不足。指的是/system/APP/下空间不足20MB.
5、若还出现gzip打开文件错误，可能是权限不足
关键字：adb shell su root 授权
--by myorange
2017-11-14……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/adbshell%E5%90%8E%E6%89%A7%E8%A1%8Csu%E6%96%87%E4%BB%B6%E6%97%A0%E5%8F%8D%E5%BA%94%E4%B8%8D%E8%83%BD%E8%8E%B7%E5%8F%96%E6%9D%83%E9%99%90%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/adbshell%E5%90%8Einsufficientpermissionsfordevice%E7%9A%84%E9%97%AE%E9%A2%98/" title="adbshell后insufficientpermissionsfordevice的问题">adbshell后insufficientpermissionsfordevice的问题</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/adbshell%E5%90%8Einsufficientpermissionsfordevice%E7%9A%84%E9%97%AE%E9%A2%98/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/adbshell%E5%88%A0%E9%99%A4%E7%B3%BB%E7%BB%9Fapk%E9%87%8D%E6%96%B0%E5%AE%89%E8%A3%85%E5%8C%85/" title="adbshell删除系统apk重新安装包">adbshell删除系统apk重新安装包</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            一、删除Android系统下的软件，使用adb shell进入系统，然后使用命令重新挂载“/system”目录为读写权限，具体操作及命令如下：
1、打开dos窗口：win+R
输入：
cmd  2、输入命名：adb shell
C:\Users\Administrator&gt;adb shell  3、切换到root权限：su
root@android:/ # su  4、重新挂载： mount -o remoun,rw rootfs /system/
注意上面的命令一起输入，包括中间的逗号
root@android:/ # mount -o remount,rw rootfs /system/  5、进入系统安装目录： system/app
root@android:/ # cd system/app  6、查看apk包：ls
root@android:/ # ls  7、删除apk包：rm -r com_voice_upgrade.apk
root@android:/system/app # rm -r com_voice_upgrade.apk  注：删除apk包后，系统中的应用会自动删除卸载的，无需手动卸载
二、删除包后，运行程序调试会出现INSTALL_FAILED_UPDATE_INCOMPATIBLE的安装错误
主要原因是你删除了apk包，但是系统中还有安装信息没有删除；
利用adb shell进入系统，进入/data/app或者/data/data，删除跟你安装的apk同样的包名
1、进入adb shell
2、进入程序安装信息目录
root@android:/ # cd data/data  3、ls查询信息，删除apk信息
root@android:/data/data # rm -r com.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/adbshell%E5%88%A0%E9%99%A4%E7%B3%BB%E7%BB%9Fapk%E9%87%8D%E6%96%B0%E5%AE%89%E8%A3%85%E5%8C%85/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/adbshell%E5%88%A0%E9%99%A4%E7%B3%BB%E7%BB%9Fapk/" title="adbshell删除系统apk">adbshell删除系统apk</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/adbshell%E5%88%A0%E9%99%A4%E7%B3%BB%E7%BB%9Fapk/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/adbshell%E5%88%A0%E9%99%A4android%E7%B3%BB%E7%BB%9F%E4%B8%8B%E7%9A%84%E8%BD%AF%E4%BB%B6/" title="adbshell删除Android系统下的软件">adbshell删除Android系统下的软件</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            一、删除Android系统下的软件，使用adb shell进入系统，然后使用命令重新挂载“/system”目录为读写权限，具体操作及命令如下：
1、打开dos窗口：win+R
输入：
[plain] view plain?
cmd
2、输入命名：adb shell
[plain] view plain?
C:\Users\Administrator&gt;adb shell
3、切换到root权限：su
[plain] view plain?
root@android:/ # su
4、重新挂载： mount -o remoun,rw rootfs /system/
 注意上面的命令一起输入，包括中间的逗号  [plain] view plain?
root@android:/ # mount -o remount,rw rootfs /system/
5、进入系统安装目录： system/app
[plain] view plain?
root@android:/ # cd system/app
6、查看apk包：ls
[plain] view plain?
root@android:/ # ls
7、删除apk包：rm -r com_voice_upgrade.apk
[plain] view plain?
root@android:/system/app # rm -r com_voice_upgrade.apk
注：删除apk包后，系统中的应用会自动删除卸载的，无需手动卸载
二、删除包后，运行程序调试会出现INSTALL_FAILED_UPDATE_INCOMPATIBLE的安装错误……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/adbshell%E5%88%A0%E9%99%A4android%E7%B3%BB%E7%BB%9F%E4%B8%8B%E7%9A%84%E8%BD%AF%E4%BB%B6/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/adbshell%E5%87%BA%E7%8E%B0insufficientpermissionsfordevice%E5%8F%82%E8%80%83%E7%BD%91%E5%9D%80httphibaiducomiceliushuaiblogitem1e50/" title="adbshell出现insufficientpermissionsfordevice参考网址httphibaiducomiceliushuaiblogitem1e50">adbshell出现insufficientpermissionsfordevice参考网址httphibaiducomiceliushuaiblogitem1e50</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            adb shell 出现 insufficient permissions for device 参考网址：http://hi.baidu.com/iceliushuai/blog/item/1e506160c5d01f48eaf8f801.html
出现如下错误信息：
shily@hh-desktop:~$adb shell
error: insufficient permissions for device
shily@hh-desktop:~$ adb devices
List of devices attached
???????????? no permissions
// ====暂时解决办法==============================================================
使用root权限来启动adb server
shily@hh-desktop:~$ sudo -s
[sudo] password for shily:
root@hh-desktop:~# adb kill-server ； adb start-server
* daemon not running. starting it now *
* daemon started successfully *
root@hh-desktop:~# exit
exit
shily@hh-desktop:~$
再次执行adb shell就可以了。
可是这样也不是办法，因为这个错误太频繁了，在开发的过程中，很容易执行adb kill-server，然后再切换到root启动adb start- server太不方便。
这个时候就是setuid起作用的时候了。
转到adb所在的目录
shily@hh-desktop:~$cd ~/sdk/android-sdk_eng.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/adbshell%E5%87%BA%E7%8E%B0insufficientpermissionsfordevice%E5%8F%82%E8%80%83%E7%BD%91%E5%9D%80httphibaiducomiceliushuaiblogitem1e50/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/adbshell%E5%87%BA%E7%8E%B0errordeviceoffline%E6%8F%90%E7%A4%BA/" title="ADBshell出现errordeviceoffline提示">ADBshell出现errordeviceoffline提示</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/adbshell%E5%87%BA%E7%8E%B0errordeviceoffline%E6%8F%90%E7%A4%BA/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/adbshell%E5%86%85%E5%AD%98%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3/" title="adbshell内存参数详解">adbshell内存参数详解</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            摘自https://www.cnblogs.com/zl1991/p/6644998.html，感谢原创作者！！！
1、adb shell procrank
PID Vss Rss Pss Uss cmdline
32657 2254196K 372752K 238947K 217168K com.ss.android.article.news
25910 1474016K 269968K 166146K 148592K com.tencent.mobileqq
25331 1341776K 245164K 139794K 129040K com.job.android
1362 2730296K 204944K 134820K 128236K system_server
从以上打印可以看出，一般来说内存占用大小有如下规律：VSS&gt;= RSS &gt;= PSS &gt;= USS
 VSS - Virtual Set Size虚拟耗用内存（包含共享库占用的内存）是单个进程全部可访问的地址空间 RSS - Resident Set Size实际使用物理内存（包含共享库占用的内存）是单个进程实际占用的内存大小，对于单个共享库，尽管无论多少个进程使用，实际该共享库只会被装入内存一次。 PSS - Proportional Set Size实际使用的物理内存（比例分配共享库占用的内存） USS - Unique Set Size进程独自占用的物理内存（不包含共享库占用的内存）USS是一个非常非常有用的数字，因为它揭示了运行一个特定进程的真实的内存增量大小。如果进程被终止，USS就是实际被返还给系统的内存大小。USS是针对某个进程开始有可疑内存泄露的情况，进行检测的最佳数字。怀疑某个程序有内存泄露可以查看这个值是否一直有增加。   2、 使用dumpsys meminfo查看内存信息（主要看PSS实际使用的物理内存）
1）adb shell dumpsys meminfo……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/adbshell%E5%86%85%E5%AD%98%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/adbshell%E4%BF%AE%E6%94%B9buildprop/" title="adbshell修改buildprop">adbshell修改buildprop</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            修改build.prop为例：（依葫芦画瓢，注意路径即可。每一行命令是一步。）
a) adb shell
b) su
（a，b这两步是获取root权限，请注意手机显示，有弹窗的话，请点确定）
c) mount -o rw,remount /system
（c这一步是挂载系统可读写）
d) cp /system/build.prop /system/build.prop.bak
（d这一步是备份build.prop为build.prop.bak，不想备份的话可以跳过这一步。）
e) cp /sdcard/build.prop /system/build.prop
（e这一步是将修改好的复制并替换掉源文件）
e1）mv /sdcard/build.prop /system/build.prop
（e1这一步说明有的源文件存在的话会复制替换失败，所以直接移动替换即可）
f) chmod 644 /system/build.prop
（f这一步是修改权限为rw-r-r）
g) reboot
（重启）……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/adbshell%E4%BF%AE%E6%94%B9buildprop/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/adbshell%E4%B9%8Bscreenrecord/" title="adbshell之screenrecord">adbshell之screenrecord</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/adbshell%E4%B9%8Bscreenrecord/">阅读全文</a></p>
    </article>
    
    
    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/posts/page/1920/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1919/">1919</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1920/">1920</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/posts/page/1921/">1921</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1922/">1922</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1923/">1923</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1960/">1960</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/posts/page/1922/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>