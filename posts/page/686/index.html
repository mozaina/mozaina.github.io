<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Posts | 开发者问答集锦</title>
    <meta property="og:title" content="Posts - 开发者问答集锦">
    <meta property="og:type" content="article">
        
        
    <meta name="Keywords" content="">
    <meta name="description" content="Posts">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/posts/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0/" title="Shell脚本中的自定义函数">Shell脚本中的自定义函数</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            在写程序时，经常会用到函数，一般开发工具拥有丰富的函数库。但有时还需要根据自己的需要自定义函数满足我们的需求。
在linux中，写shell脚本也一样，有时会用到自定义函数。
函数，最简单的定义为：将一组命令集或语句形成一个可用块，这些块称为函数。
1、定义函数的格式：
function-name ( ){ command1 ........ }  或
#函数名前面也可以加上function关键字 function function-name( ) { command1 ........ }  2.函数调用
**以下是一个函数的脚本实例：
**
 #!/bin/bash function hello(){ #声明函数 echo &quot;Hello!&quot; #函数的主体，输出&quot;Hello!&quot; } #函数结束 hello #调用函数  3.参数传递
向函数传递参数就像在脚本是使用变量位置$1,$2,$3&hellip;$9
以下是一个传递参数的实例：
 #!/bin/bash function hello(){ echo &quot;Hello! The first parameter is '$1'.&quot; } hello good  #该脚本执行的结果是: Hello! The first parameter is &lsquo;good&rsquo;.
4.函数文件
保存函数的文件，用以上的例子写成一个函数文件如下：
 #!/bin/bash function hello ( ){ echo &quot;Hello!……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E4%B8%8E%E5%B8%B8%E7%94%A8%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="Shell脚本中的算术运算与常用条件表达式">Shell脚本中的算术运算与常用条件表达式</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E4%B8%8E%E5%B8%B8%E7%94%A8%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97/" title="shell脚本中的算术运算">shell脚本中的算术运算</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E7%89%B9%E6%AE%8A%E7%94%A8%E6%B3%95/" title="shell脚本中的特殊用法">shell脚本中的特殊用法</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E7%89%B9%E6%AE%8A%E7%94%A8%E6%B3%95/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E7%89%B9%E5%AE%9A%E5%8F%98%E9%87%8F/" title="shell脚本中的特定变量">shell脚本中的特定变量</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E7%89%B9%E5%AE%9A%E5%8F%98%E9%87%8F/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" title="Shell脚本中的正则表达式">Shell脚本中的正则表达式</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            博文目录
一、正则表达式的定义
二、扩展正则表达式元字符
三、文本处理器
 一、正则表达式的定义 正则表达式又称正规表达式、常规表达式。在代码中常简写为regex、regexp或RE。正则表达式是使用单个字符串来描述，匹配一系列符合某个句法规则的字符串，简单来说，是一种匹配字符串的方法，通过一些特殊符号，实现快速查找、删除、替换某个特定字符串。
正则表达式是由普通字符与元字符组成的文字模式。模式用于描述在搜索文本时要匹配的一个或多个字符串。正则表达式作为一个模板，将某个字符模式与所搜索的字符串进行匹配。其中普通字符包括大小写字母、数字、标点符号及一些其他符号，元字符则是指那些在正则表达式中具有特殊意义的专用字符，可以用来规定其前导字符（即位于元字符前面的字符）在目标对象中的出现模式。
1、基础正则表达式 正则表达式的字符串表达方法根据不同的严谨程度与功能分为基本正则表达式与扩展正则表达式。基础正则表达式是常用的正则表达式的最基础的部分。在Linux系统中常见的文件处理工具中grep与sed支持基础正则表达式，而egrep与awk支持扩展正则表达式。
提前准备一个名为test.txt的测试文件，文件具体内容如下：
[root@centos01 ~]# vim test.txt he was short and fat. He was wearing a blue polo shirt with black pants. The home of Football on BBC Sport online. the tongue is boneless but it breaks bones.12! google is the best tools for search keyword. The year ahead will test our political establishment to the limit. PI=3.14148223023840-2382924893980--2383892948 a wood cross!……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95if%E4%B8%AD%E7%9A%84z%E5%88%B0d%E7%9A%84%E6%84%8F%E6%80%9D/" title="shell脚本中的条件测试if中的z到d的意思">shell脚本中的条件测试if中的z到d的意思</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            [ -a FILE ] 如果 FILE 存在则为真。
[ -b FILE ] 如果 FILE 存在且是一个块特殊文件则为真。
[ -c FILE ] 如果 FILE 存在且是一个字特殊文件则为真。
[ -d FILE ] 如果 FILE 存在且是一个目录则为真。
[ -e FILE ] 如果 FILE 存在则为真。
[ -f FILE ] 如果 FILE 存在且是一个普通文件则为真。
[ -g FILE ] 如果 FILE 存在且已经设置了SGID则为真。
[ -h FILE ] 如果 FILE 存在且是一个符号连接则为真。
[ -k FILE ] 如果 FILE 存在且已经设置了粘制位则为真。
[ -p FILE ] 如果 FILE 存在且是一个名字管道(F如果O)则为真。……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95if%E4%B8%AD%E7%9A%84z%E5%88%B0d%E7%9A%84%E6%84%8F%E6%80%9D/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%97%B6%E9%97%B4%E6%93%8D%E4%BD%9C/" title="shell脚本中的时间操作">shell脚本中的时间操作</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            获得当天的日期
date +%Y-%m-%d
输出： 2011-07-28
将当前日期赋值给DATE变量
DATE=$(date +%Y%m%d)
有时候我们需要使用今天之前或者往后的日期，这时可以使用date的 -d参数
获取明天的日期
date -d next-day +%Y%m%d
获取昨天的日期
date -d last-day +%Y%m%d
获取上个月的年和月
date -d last-month +%Y%m
获取下个月的年和月
date -d next-month +%Y%m
获取明年的年份
date -d next-year +%Y
下面是一些date参数的说明和一些例子
名称 : date
使用权限 : 所有使用者
使用方式 : date [-u] [-d datestr] [-s datestr] [&ndash;utc] [&ndash;universal] [&ndash;date=datestr] [&ndash;set=datestr] [&ndash;help] [&ndash;version] [+FORMAT] [MMDDhhmm[[CC]YY][.ss]]
说明 : date 能用来显示或设定系统的日期和时间，在显示方面，使用者能设定欲显示的格式，格式设定为一个加号后接数个标记，其中可用的标记列表如下 :
时间方面 :
% : 印出
% %n : 下一行……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%97%B6%E9%97%B4%E6%93%8D%E4%BD%9C/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/" title="shell脚本中的文本处理">shell脚本中的文本处理</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            shell脚本中的文本处理 * 文本处理三剑客—“grep” * grep常用参数及搜索匹配模式 * grep中字符匹配 * 文本处理三剑客—“sed” * 文本处理三剑客—“awk”  文本处理三剑客—“grep” grep是Linux中最常用的“文本处理工具”之一，grep与sed、awk合称为Linux中的三剑客。
grep的全称为：Global search Regular Expression and Print out the line
全称中的“Global search”为全局搜索
全称中的“Regular Expression”表示正则表达式
即，grep是一个可以利用“正则表达式”进行“全局搜索”的工具，grep会在文本中按照指定的正则进行全局搜索，并将搜索出的行打印出来
当然，不通过正则表达式的方式也可以使用grep，但是当grep和正则表达式结合在一起时，功能威力更加强大
正则表达式，分为基本正则表达式和扩展正则表达式。
而grep默认支持基本正则表达式，不识别扩展正则表达式。如果想要令grep识别扩展正则表达式需要加上参数-E
关于正则表达式，可以参考以下博客：
https://www.cnblogs.com/Dlg-Blog/p/8733908.html
grep常用参数及搜索匹配模式 -i 忽略大小写 （如： grep -i root passwd 可以识别在passwd中的root，ROOT，Root，或root中任意字母大写的情况） -n 显示匹配到的字符行在原文件中的行数 -2 显示匹配到的行的上下两行 -n2 显示搜到的结果的上下两行，并标示出行号 -A1 显示搜到的结果的下面一行 -B1 显示搜到的结果的上面一行 -E 用于识别扩展正则表达式，如：* (grep默认只支持基本正则表达式) egrep == grep -E 这两条命令是等价的 -v 除了符合条件的被显示(不显示符合条件的，只显示不符合条件的) grep -E &quot;^root&quot; passwd 显示在passwd文件中以root开头的行 grep -E &quot;root$&quot; passwd 显示在passwd文件中以root结尾的行 grep -Ei &quot;^root|root$&quot; passwd -v | grep root 显示在passwd文件中,root字符串在中间的行 （因为如果不二次过滤，不仅有root在中间的情况，还有不包含root的情况） 正规的 grep 不支持扩展的正则表达式, 竖线'|'是用于表示”或”的扩展正则表达式元字符 , 正规的 grep 无法识别。加上反斜杠 , 这个字符就被翻译成扩展正则表达式。  下图为例：……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%97%E8%AE%A1%E7%AE%97/" title="shell脚本中的数字计算">shell脚本中的数字计算</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/shell%E8%84%9A%E6%9C%AC%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%97%E8%AE%A1%E7%AE%97/">阅读全文</a></p>
    </article>
    
    
    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/posts/page/685/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/684/">684</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/685/">685</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/posts/page/686/">686</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/687/">687</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/688/">688</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1960/">1960</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/posts/page/687/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>