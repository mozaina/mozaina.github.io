<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>CocoaPods安装和使用教程Mac本地安装Ruby环境 | 开发者问答集锦</title>
    <meta property="og:title" content="CocoaPods安装和使用教程Mac本地安装Ruby环境 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="CocoaPods安装和使用教程Mac本地安装Ruby环境">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/cocoapods%E5%AE%89%E8%A3%85%E5%92%8C%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8Bmac%E6%9C%AC%E5%9C%B0%E5%AE%89%E8%A3%85ruby%E7%8E%AF%E5%A2%83/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">CocoaPods安装和使用教程Mac本地安装Ruby环境</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<p>Code4App 原创文章。转载请注明出处： <a href="http://code4app.com/article/cocoapods-install-usage">http://code4app.com/article/cocoapods-install-usage</a></p>

<p>参考keyboardOTA 的博客 <a href="http://blog.csdn.net/keyboardota/article/details/8935411">http://blog.csdn.net/keyboardota/article/details/8935411</a></p>

<p><strong>在此记录一些遇到的问题</strong></p>

<p>在安装CocoaPods之前，首先要在本地安装好Ruby环境。如何在Mac中安装好Ruby环境???</p>

<p>1.通过命令行工具(Command Line Tools)安装brew</p>

<p>ruby -e &ldquo;$(curl -fsSL
<a href="https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;">https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</a></p>

<p>过程(不用看</p>

<p><strong>== &gt;</strong> <strong>This script will install:</strong></p>

<p>/usr/local/bin/brew</p>

<p>/usr/local/Library/&hellip;</p>

<p>/usr/local/share/man/man1/brew.1</p>

<p>Press RETURN to continue or any other key to abort</p>

<p><strong>== &gt;</strong> <strong>/usr/bin/sudo /bin/mkdir /usr/local</strong></p>

<p>WARNING: Improper use of the sudo command could lead to data loss</p>

<p>or the deletion of important system files. Please double-check your</p>

<p>typing when using sudo. Type &ldquo;man sudo&rdquo; for more information.</p>

<p>To proceed, enter your password, or type Ctrl-C to abort.</p>

<p>Password:</p>

<p>Sorry, try again.</p>

<p>Password:</p>

<p><strong>== &gt;</strong> <strong>/usr/bin/sudo /bin/chmod g+rwx /usr/local</strong></p>

<p><strong>== &gt;</strong> <strong>/usr/bin/sudo /usr/bin/chgrp admin /usr/local</strong></p>

<p><strong>== &gt;</strong> <strong>/usr/bin/sudo /bin/mkdir /Library/Caches/Homebrew</strong></p>

<p><strong>== &gt;</strong> <strong>/usr/bin/sudo /bin/chmod g+rwx /Library/Caches/Homebrew</strong></p>

<p><strong>== &gt;</strong> <strong>Downloading and installing Homebrew&hellip;</strong></p>

<p>remote: Counting objects: 214924, done.</p>

<p>remote: Compressing objects: 100% (<sup>56825</sup>&frasl;<sub>56825</sub>), done.</p>

<p>Receiving objects: 87% (<sup>187621</sup>&frasl;<sub>214924</sub>), 42.78 MiB | 97.00 KiB/s</p>

<p>)</p>

<p>2.</p>

<p>(</p>

<p><strong>== &gt;</strong> <strong>Installation successful!</strong></p>

<p><strong>== &gt;</strong> <strong>Next steps</strong></p>

<p>Run <code>brew doctor</code> <strong>before</strong> you install anything</p>

<p>Run <code>brew help</code> to get started</p>

<p>)</p>

<p>安装了brew以后，可以通过以下命令检查brew的安装情况：</p>

<p>brew doctor<br />
如果提示“Your system is ready to brew.”就表示可以使用了，如果出现其它提示请按照提示对系统进行修正。</p>

<p>这次出来这个,让我安装最新的 XQuartz (我不知道这是嘛玩意,安呗.下面好像说不安装最新的也行?)</p>

<p><strong>Please note that these warnings are just used to help the Homebrew
maintainers</strong></p>

<p><strong>with debugging if you file an issue. If everything you use Homebrew for is</strong></p>

<p><strong>working fine: please don&rsquo;t worry and just ignore them. Thanks!</strong></p>

<p><em>Warning</em> : Your XQuartz (2.7.4) is outdated</p>

<p>Please install XQuartz 2.7.7:</p>

<p><a href="https://xquartz.macosforge.org">https://xquartz.macosforge.org</a></p>

<p>3.安装设置rvm<br />
通过以下命令安装设置rvm<br />
curl -L get.rvm.io | bash</p>

<p>4. 设置rvm<br />
通过以下命令启用rvm<br />
source ~/.rvm/scripts/rvm</p>

<p>为了避免每次启动命令行界面都需要执行以上命令，可以将以下代码加入到你的批处理文件中</p>

<p>[[ -s &ldquo;$HOME/.rvm/scripts/rvm&rdquo; ]] &amp;&amp; source &ldquo;$HOME/.rvm/scripts/rvm&rdquo;</p>

<p>注意，如果你的home目录上有.bash_profile文件，你需要修改的是.bash_profile文件，因为~目录有bash_profile时.profile是不会运行的。</p>

<p>5. 安装rvm需要的包</p>

<p>通过以下命令安装rvm需要的软件包。</p>

<p>rvm requirements</p>

<p>如果以上命令执行后系统提示某些组件没有安装，你需要按提示去安装那些软件包。</p>

<p>{终端信息</p>

<p>Checking requirements for osx.</p>

<p>Installing requirements for osx.</p>

<p>Updating system&hellip;..</p>

<p>Installing required custom packages: homebrew/versions.</p>

<p>Installing required packages: autoconf, automake, libtool, pkg-config, gcc46,
libyaml, readline, libksba, openssl&hellip;.</p>

<p>}</p>

<p>6. 再此确认brew的环境</p>

<p>通过再次运行以下命令确认brew的环境：</p>

<p>brew doctor</p>

<p>如果运行以上命令时出现下面的警告：<br />
Warning: /usr/bin occurs before /usr/local/bin</p>

<p>你需要修改 ~/.profile（或者是 ~/.bash_profile），将以下命令加入到该文件中，放在文件开头后者是结尾都可以：</p>

<p>export PATH = /usr/ local/ bin : $PATH</p>

<p>8. 安装rvm额外的文件</p>

<p>通过以下命令安装额外的文件</p>

<p>rvm get head</p>

<p>这里我安不上{</p>

<p>Downloading <a href="https://get.rvm.io">https://get.rvm.io</a></p>

<p>Could not download rvm-installer, get some help at #rvm IRC channel at
freenode servers.</p>

<p>}</p>

<p>9.再次检查环境</p>

<p>再次运行rvm requirements检查是否安装了说有需要组件</p>

<p>rvm requirements</p>

<p>{安装成功了</p>

<p>Checking requirements for osx.</p>

<p>Certificates in &lsquo;/usr/local/etc/openssl/cert.pem&rsquo; are already up to date.</p>

<p>Requirements installation successful.</p>

<p>}</p>

<p>10. 安装Ruby 2.0</p>

<p>#查看当前ruby版本<br />
$ ruby -v<br />
ruby 1.8.7<br />
#列出已知的ruby版本<br />
$ rvm list known<br />
#安装ruby 1.9.3<br />
$ rvm install 1.9.3</p>

<p>通过以下命令安装Ruby 2.0</p>

<p>rvm install 2.0.0 这里我输的是 rvm install ruby-2.0.0 &ndash;head &ndash;docs</p>

<p>{好高大上啊，</p>

<p>Checking requirements for osx.</p>

<p>Certificates in &lsquo;/usr/local/etc/openssl/cert.pem&rsquo; are already up to date.</p>

<p>Requirements installation successful.</p>

<p>Installing Ruby from source to:
/Users/fosung_mac01/.rvm/rubies/ruby-2.0.0-p598, this may take a while
depending on your cpu(s)&hellip;</p>

<p>ruby-2.0.0-p598 - #downloading ruby-2.0.0-p598, this may take a while
depending on your connection&hellip;</p>

<p>% Total % Received % Xferd Average Speed Time Time Time Current</p>

<p>Dload Upload Total Spent Left Speed</p>

<p>100 10.2M 100 10.2M 0 0 2606k 0 0:00:04 0:00:04 &ndash;:&ndash;:&ndash; 2607k</p>

<p>ruby-2.0.0-p598 - #extracting ruby-2.0.0-p598 to
/Users/fosung_mac01/.rvm/src/ruby-2.0.0-p598&hellip;.</p>

<p>ruby-2.0.0-p598 -
#configuring&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;.</p>

<p>ruby-2.0.0-p598 - #post-configuration.</p>

<p>ruby-2.0.0-p598 -
#compiling&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;&hellip;..||</p>

<p>}</p>

<p>11. 设置Ruby 2.0为缺省版本的rvm</p>

<p>rvm default 2.0.0</p>

<p>12. 安装rails</p>

<p>通过以下命令安装Rails，记得加-V参数</p>

<p>sudo gem install rails -V</p>

<p>{</p>

<p>这里有错误搞晕了</p>

<p>用这个解决？<a href="http://ruby.taobao.org">http://ruby.taobao.org</a></p>

<p>$ sed -i .bak &rsquo;s!cache.ruby-lang.org/pub/ruby!ruby.taobao.org/mirrors/ruby!&rsquo;
$rvm_path/config/db</p>

<p>$ gem sources &ndash;remove <a href="https://rubygems.org/">https://rubygems.org/</a><br />
<a href="https://rubygems.org/">https://rubygems.org/</a> removed from sources</p>

<p>$ gem sources -a <a href="https://ruby.taobao.org/">https://ruby.taobao.org/</a><br />
<a href="https://ruby.taobao.org/">https://ruby.taobao.org/</a> added to sources<br />
$ gem sources -l<br />
*** CURRENT SOURCES ***</p>

<p><a href="https://ruby.taobao.org/">https://ruby.taobao.org/</a></p>

<p>}</p>

<p>然后再进行 sudo gem install rails -V</p>

<p>{</p>

<p>哇！跑起来了✌️，很长就不记录了</p>

<p>Installing ri documentation for rails-4.1.8</p>

<p>26 gems installed</p>

<p>安装成功了</p>

<p>}</p>

<p>13. 最后检查</p>

<p>最后，通过以下命令可以检查安装是否成功</p>

<p>rails &ndash;version</p>

<p>安装成功的话会显示最新版的Rails，我的显示为：</p>

<p>Rails 3.2.13</p>

<p>{</p>

<p>Rails 4.1.8</p>

<p>成功了，不容易啊</p>

<p>}</p>

<p>好！！安装完成。</p>

<p>下面来学习CocoaPods&hellip;</p>

<p>出处：<a href="http://code4app.com/article/cocoapods-install-usage">http://code4app.com/article/cocoapods-install-usage</a></p>

<h2 id="cocoapods是什么">CocoaPods是什么？</h2>

<p>当你开发iOS应用时，会经常使用到很多第三方开源类库，比如JSONKit，AFNetWorking等等。可能某个类库又用到其他类库，所以要使用它，必须得另外下载其他类库，而其他类库又用到其他类库，“子子孙孙无穷尽也”，这也许是比较特殊的情况。总之小编的意思就是，手动一个个去下载所需类库十分麻烦。另外一种常见情况是，你项目中用到的类库有更新，你必须得重新下载新版本，重新加入到项目中，十分麻烦。如果能有什么工具能解决这些恼人的问题，那将“善莫大焉”。所以，你需要
CocoaPods。</p>

<p>CocoaPods应该是iOS最常用最有名的类库管理工具了，上述两个烦人的问题，通过cocoaPods，只需要一行命令就可以完全解决，当然前提是你必须正确设置它。重要的是，绝大部分有名的开源类库，都支持CocoaPods。所以，作为iOS程序员的我们，掌握CocoaPods的使用是必不可少的基本技能了。</p>

<p>{</p>

<p>看起来又不明觉厉了，我现在才知道 ..丢人..</p>

<p>}</p>

<h2 id="如何下载和安装cocoapods">如何下载和安装CocoaPods？</h2>

<p>在安装CocoaPods之前，首先要在本地安装好Ruby环境。至于如何在Mac中安装好Ruby环境，请google一下，本文不再涉及。</p>

<p>假如你在本地已经安装好Ruby环境，那么下载和安装CocoaPods将十分简单，只需要一行命令。在Terminator（也就是终端）中输入以下命令（注意，本文所有命令都是在终端中输入并运行的。什么，你不知道什么是终端？那请小编吃饭，小编告诉你）：{嘿嘿}</p>

<pre><code>sudo gem install cocoapods
</code></pre>

<p>但是，且慢。如果你在天朝，在终端中敲入这个命令之后，会发现半天没有任何反应。原因无他，因为那堵墙阻挡了cocoapods.org。（你会问，我靠，这都要墙！是的，小编也纳闷。）{天朝网管好霸气}</p>

<p>但是，是的，又但是（不过是个可喜的“但是”）。我们可以用淘宝的Ruby镜像来访问cocoapods。按照下面的顺序在终端中敲入依次敲入命令：</p>

<pre><code>$ gem sources --remove https://rubygems.org/
//等有反应之后再敲入以下命令
$ gem sources -a http://ruby.taobao.org/
</code></pre>

<p>为了验证你的Ruby镜像是并且仅是taobao，可以用以下命令查看：</p>

<pre><code>$ gem sources -l
</code></pre>

<p>只有在终端中出现下面文字才表明你上面的命令是成功的：</p>

<pre><code>*** CURRENT SOURCES ***

http://ruby.taobao.org/
</code></pre>

<p>上面所有的命令完成之时，在小编的终端上是这个的样子：</p>

<p>{上面安装Ruby环境的时候已经设置了，OK!}</p>

<p>这时候，你再次在终端中运行：</p>

<pre><code>$ sudo gem install cocoapods
</code></pre>

<p>等上十几秒钟，CocoaPods就可以在你本地下载并且安装好了，不再需要其他设置。</p>

<p>敲入以上命令时，小编终端上是这个样子的（由于太长，仅截取前面一部分）：</p>

<p>看到这里，你心里会不会说，我靠！太爽了，这么容易就可以下载并且安装好了！是的，小编也是这么想的。CocoPods就是这么简单，使用也十分简单。继续往下看吧。</p>

<p>{鲜花，掌声}</p>

<h2 id="如何使用cocoapods">如何使用CocoaPods？</h2>

<p>好了，安装好CocoPods之后，接下来就是使用它。所幸，使用CocoPods和安装它一样简单，也是通过一两行命令就可以搞定。</p>

<p>小编在这里用两种使用场景来具体说明如何使用CocoaPods。</p>

<h3 id="场景1-利用cocoapods-在项目中导入afnetworking类库">场景1：利用CocoaPods，在项目中导入AFNetworking类库</h3>

<p>AFNetworking类库在GitHub地址是：<a href="https://github.com/AFNetworking/AFNetworking">https://github.com/AFNetworking/AFNetworking</a></p>

<p>为了确定AFNetworking是否支持CocoaPods，可以用CocoaPods的搜索功能验证一下。在终端中输入：</p>

<pre><code>$ pod search AFNetworking
</code></pre>

<p>过几秒钟之后，你会在终端中看到关于AFNetworking类库的一些信息。比如：</p>

<p>-&gt; AFNetworking (2.5.0)</p>

<p>A delightful iOS and OS X networking framework.</p>

<p>pod &lsquo;AFNetworking&rsquo;, &lsquo;~&gt; 2.5.0&rsquo;</p>

<p>- Homepage: <a href="https://github.com/AFNetworking/AFNetworking">https://github.com/AFNetworking/AFNetworking</a></p>

<p>- Source: <a href="https://github.com/AFNetworking/AFNetworking.git">https://github.com/AFNetworking/AFNetworking.git</a></p>

<p>- Versions: 2.5.0, 2.4.1, 2.4.0, 2.3.1, 2.3.0, 2.2.4, 2.2.3, 2.2.2, 2.2.1,</p>

<p>2.2.0, 2.1.0, 2.0.3, 2.0.2, 2.0.1, 2.0.0, 2.0.0-RC3, 2.0.0-RC2, 2.0.0-RC1,</p>

<p>1.3.4, 1.3.3, 1.3.2, 1.3.1, 1.3.0, 1.2.1, 1.2.0, 1.1.0, 1.0.1, 1.0, 1.0RC3,</p>

<p>1.0RC2, 1.0RC1, 0.10.1, 0.10.0, 0.9.2, 0.9.1, 0.9.0, 0.7.0, 0.5.1 [master</p>

<p>repo]</p>

<p>- Sub specs:</p>

<p>- AFNetworking/Serialization (2.5.0)</p>

<p>- AFNetworking/Security (2.5.0)</p>

<p>- AFNetworking/Reachability (2.5.0)</p>

<p>- AFNetworking/NSURLConnection (2.5.0)</p>

<p>- AFNetworking/NSURLSession (2.5.0)</p>

<p>- AFNetworking/UIKit (2.5.0)</p>

<p>这说明，AFNetworking是支持CocoaPods，所以我们可以利用CocoaPods将AFNetworking导入你的项目中。</p>

<p>首先，我们需要在我们的项目中加入CocoaPods的支持。你可以跟随小编的步骤，先利用Xcode创建一个名字CocoaPodsDemo的项目，用于以下的教程。创建好之后，在继续下一步之前，小编先截图，看看项目没有支持CocoaPods时的项目Xcode目录结构：</p>

<p><a href="https://img.it610.com/image/info8/214d689d58e04ae2add9826c8288961d.jpg"><img src="https://img.it610.com/image/info8/214d689d58e04ae2add9826c8288961d.jpg" alt="CocoaPods安装和使用教程 --
（Mac本地安装Ruby环境）_第1张图片" /></a></p>

<p>上图等一下要跟项目支持CocoaPods之后的项目Xcode目录结构做对比。</p>

<p>你看到这里也许会问，CocoaPods为什么能下载AFNetworking呢，而不是下载其他类库呢？这个问题的答案是，有个文件来控制CocoaPods该下载什么。这个文件就叫做“Podfile”（注意，一定得是这个文件名，而且没有后缀）。你创建一个Podfile文件，然后在里面添加你需要下载的类库，也就是告诉CocoaPods，“某某和某某和某某某，快到碗里来！”。每个项目只需要一个Podfile文件。</p>

<p>好吧，废话少说，我们先创建这个神奇的PodFile。在终端中进入（cd命令：cd+空格+目录）你项目所在目录，然后在当前目录下，利用vim创建Podfile，运行：</p>

<p>{好吧，终端命令啥的我也不会~ 不许笑！！！！</p>

<p>在网上找了篇文章，摘抄在自己博客日记中}</p>

<pre><code>$ vim Podfile
</code></pre>

<p>然后在Podfile文件中输入以下文字：</p>

<pre><code>platform :ios, '7.0'
pod 'AFNetworking', '~&gt; 2.0'
</code></pre>

<p>注意，这段文字不是小编凭空生成的，可以在AFNetworking的github页面找到。这两句文字的意思是，当前AFNetworking支持的iOS最高版本是iOS
7.0, 要下载的AFNetworking版本是2.0。</p>

<p>{这里我要去查一查了？这破网连github都登不上</p>

<p>另外，还有一种方法来编辑的：（详见附录2）</p>

<p>进图工程所在文件夹，</p>

<p>输入命令 ：touch Podfile</p>

<p>open -e Podfile</p>

<p>这样打开了文本编辑器来编辑了，编辑好后保存</p>

<p>}</p>

<p>然后保存退出。vim环境下，保存退出命令是：</p>

<pre><code>:wq
</code></pre>

<p>{注：vim的简单用法，<code>$ vim
fileName</code>创建文件fileName，并打开；按<code>i</code>进入插入模式，输入文本；按<code>esc</code>进入命令模式后，按<code>:wq</code>或<code>ZZ</code>退出并保存。</p>

<p>}</p>

<p>这时候，你会发现你的项目目录中，出现一个名字为Podfile的文件，而且文件内容就是你刚刚输入的内容。注意，Podfile文件应该和你的工程文件.xcodeproj在同一个目录下。</p>

<p>这时候，你就可以利用CocoPods下载AFNetworking类库了。还是在终端中的当前项目目录下，运行以下命令：</p>

<pre><code>$ pod install 
</code></pre>

<p>因为是在你的项目中导入AFNetworking，这就是为什么这个命令需要你进入你的项目所在目录中运行。</p>

<p>运行上述命令之后，小编的终端出现以下信息：</p>

<p>Analyzing dependencies</p>

<p>Downloading dependencies</p>

<p>Installing AFNetworking (2.5.0)</p>

<p>Generating Pods project</p>

<p>Integrating client project</p>

<p>[!] From now on use <code>CocoaPodsDemo.xcworkspace</code></p>

<p>``</p>

<p>注意最后一句话，意思是：以后打开项目就用 CocoaPodsDemo.xcworkspace 打开，而不是之前的.xcodeproj文件。</p>

<p>你也许会郁闷，为什么会出现.xcodeproj文件呢。这正是你刚刚运行<code>$ pod
install</code>命令产生的新文件。除了这个文件，你会发现还多了另外一个文件“Podfile.lock”和一个文件夹“Pods”。 点击
CocoaPodsDemo.xcworkspace 打开之后工程之后，项目Xcode目录结构如下图：</p>

<p><a href="https://img.it610.com/image/info8/70014a4a7b7246f4860f02a33f8c4f8e.jpg"><img src="https://img.it610.com/image/info8/70014a4a7b7246f4860f02a33f8c4f8e.jpg" alt="CocoaPods安装和使用教程 --
（Mac本地安装Ruby环境）_第2张图片" /></a></p>

<p>``</p>

<p>你会惊喜地发现，AFNetwoking已经成功导入项目了（红框部分）！</p>

<p>现在，你就可以开始使用AFNetworking.h啦。可以稍微测试一下，在你的项目任意代码文件中输入：</p>

<pre><code>#import 
或者
#import &quot;AFNetworking.h&quot;
</code></pre>

<p>然后编译，看看是否出错。如果你严格按照小编上述的步骤来，是不可能出错的啦。</p>

<p>至此，CocoPods的第一个应用场景讲述完毕。别看小编写了这么多，其实过程是十分简单的。总结一下就是：</p>

<ol>
<li>先在项目中创建Podfile，Podfile的内容是你想导入的类库。一般类库的原作者会告诉你导入该类库应该如何写Podfile；</li>
<li>运行命令：`<code>$ pod install</code>.</li>
</ol>

<p>下面，小编继续讲述第二种使用场景。</p>

<h3 id="场景2-如何正确编译运行一个包含cocopods类库的项目">场景2：如何正确编译运行一个包含CocoPods类库的项目</h3>

<p>你也许曾经遇到过（特别是新手iOS开发者）这种情况，好不容易在GitHub上找到一份代码符合自己想需求，兴冲冲下载下来，一编译，傻眼了，发现有各种各样错误。一看，原来是缺失了各种其他第三方类库。这时候莫慌，你再仔细一看，会发现你下载的代码包含了Podfile。没错，这意味着你可以用CocoaPods很方便下载所需要的类库。</p>

<p>下面，小编以代码 UAAppReviewManager 为例来说明如何正确编译运行一个包含CocoPods类库的项目。</p>

<p>UAAppReviewManager是一个能够让你方便地将提醒用户评分的功能加入你的应用中。当你去UAAppReviewManager的GitHub地址下载这份代码之后，打开Example工程（UAAppReviewManagerExample），编译，你会发现Xcode报告一大堆错误，基本都是说你编译的这份代码找不到某某头文件，这就意味着你要成功编译UAAppReviewManager的Example代码，必须先导入一些第三方类库。同时你会发现在UAAppReviewManagerExample文件夹下面有三个跟CocosPods相关的文件（文件夹）：Podfile，Podfile.lock和Pods，如下图：</p>

<p><a href="https://img.it610.com/image/info8/90cc1bec91e449b6bf4cac875eca7182.jpg"><img src="https://img.it610.com/image/info8/90cc1bec91e449b6bf4cac875eca7182.jpg" alt="CocoaPods安装和使用教程 --
（Mac本地安装Ruby环境）_第3张图片" /></a></p>

<p>``</p>

<p>这时候，打开终端，进入UAAppReviewManagerExample所在的目录，也就是和Podfile在同一目录下，和场景1一样，输入以下命令（由于已经有Podfile，所以不需要再创建Podfile）：</p>

<pre><code>$ pod update
</code></pre>

<p>过几秒（也许需要十几秒，取决于你的网络状况）之后，终端出现：</p>

<pre><code>Analyzing dependencies
Fetching podspec for `UAAppReviewManager` from `../`
Downloading dependencies
Installing UAAppReviewManager (0.1.6)
Generating Pods project
Integrating client project

[!] From now on use `UAAppReviewManagerExample.xcworkspace`.
</code></pre>

<p>这时候，再回到UAAppReviewManagerExample文件夹看一看，会看到多了一个文件UAAppReviewManagerExample.xcworkspace：</p>

<p>根据终端的信息提示，你以后就需用新产生的UAAppReviewManagerExample.xcworkspace来运行这个Example代码了。</p>

<p>打开UAAppReviewManagerExample.xcworkspace，编译运行，成功！</p>

<p>注意，这里有个小问题，如果刚刚你不是输入<code>$ pod update</code>，而是输入<code>$ pod install</code>，会发现类库导入不成功，并且终端出现下面提示：</p>

<pre><code>[!] Required version (UAAppReviewManager (from `../`)) not found for `UAAppReviewManager`.
Available versions: 0.1.6
</code></pre>

<p>这里的意思大概是Podfile文件过期，类库有升级，但是Podfile没有更改。<code>$ pod
install</code>只会按照Podfile的要求来请求类库，如果类库版本号有变化，那么将获取失败。但是 <code>$ pod
update</code>会更新所有的类库，获取最新版本的类库。而且你会发现，如果用了 <code>$ pod update</code>，再用 <code>$ pod install</code> 就成功了。</p>

<p>那你也许会问，什么时候用 <code>$ pod install</code>，什么时候用 <code>$ pod update</code> 呢，我又不知道类库有没有新版本。好吧，那你每次直接用
<code>$ pod update</code> 算了。或者先用 <code>$ pod install</code>，如果不行，再用 <code>$ pod update</code>。</p>

<p>附录1</p>

<p>另外的CocoaPod用法 引自：<a href="http://blog.csdn.net/lengshengren/article/details/17675859">http://blog.csdn.net/lengshengren/article/details/17675859</a></p>

<p>我们也可以 <strong>更新我们的CocoaPods</strong> ，同样也是使用ruby的gem命令</p>

<p>$ sudo gem update cocoapods</p>

<h3 id="查找第三方库">查找第三方库</h3>

<p>如果我们不知道cocoaPods管理的库中，是否有你想要的库，那么你可以通过<code>$ pod search xxx</code>命令进行查找，以下是我用<code>$ pod
search sdwebimage</code>查找到的所有可用的库：</p>

<p>使用</p>

<p>假设我的Desktop上有一个已经存在的一个项目名称叫做：CocoaPodsTest，首先，进入项目的根目录，并在根目录下创建一个名叫Podfile的文件（没有任何后缀）：</p>

<p>$ cd Desktop CocoaPodsTest //进入项目根目录，根据自己项目实际目录</p>

<p>$ vim Podfile</p>

<p>注：vim的简单用法，<code>$ vim
fileName</code>创建文件fileName，并打开；按<code>i</code>进入插入模式，输入文本；按<code>esc</code>进入命令模式后，按<code>:wq</code>或<code>ZZ</code>退出并保存。</p>

<p>然后，在Podfile文件中按以下的格式将依赖库的名字写出，例：</p>

<p>platformiOS &lsquo;8.0&rsquo; //平台，版本</p>

<p>pod &lsquo;SDWebImage&rsquo; &lsquo;3.5.1&rsquo; //开源库名称、版本 具体通过查找功能查询</p>

<p>pod &lsquo;AFNetworking&rsquo; &lsquo;2.0.3&rsquo;</p>

<p>保存Podfile文件后，执行如下安装的命令:</p>

<p>$ pod install</p>

<p>当安装命令执行成功后，会输出：</p>

<p>哈哈，看到类似这样的输出就是成功了。你所需要的第三方开源库都下载好了，并且设置好了相应的依赖以及编译参数。在我们以后用的时候一定要记住以下两点：</p>

<p>1.
最后一行是一个警告，提醒我们需要注意：从现在开始，需要通过<code>xxx.xcworkspace</code>打开的我们的项目。而不是之前我们一直用的<code>xxx.xcodeproj</code></p>

<p>2. 当我们每次修改了<code>Podfile</code>这个文件后，一定要记得执行命令：<code>$ pod install</code>，还可以执行<code>$ pod update</code>来更新类库</p>

<p>附录2</p>

<h2 id="创建你的第一个依赖关系">创建你的第一个依赖关系</h2>

<p>打开终端，并且打开存放你的“CocoaPodsExample”工程的文件夹。输入如下命令：</p>

<pre><code>touch Podfile 


open -e Podfile
</code></pre>

<p>TextEdit会被打开，你可以往打开的空白Podfile中添加内容了。</p>

<p>我们往Podfile中加入如下内容：</p>

<pre><code>platform :iOS pod 'AFNetworking', '0.9.1'
</code></pre>

<p>如你所见，Podfile的格式很简单。首先，你设置platform为ios（因为有一些框架只支持iOS或者Mac OS
X中的一个，而不是都有）。然后，你添加你的第一个依赖-“AFNetworking”，并且指定了，你需要的是0.9.1。</p>

<p><em>编辑Podfile，除了上面的方法，你还可以使用别的你喜欢的编辑工具，比如vim</em></p>

<p>有关Podfile的格式，你可以在A Podfile和Podfile(frames)中得到更详细信息</p>

<p>保存Podfile之后，我们可以开始配置你的工程了。</p>

<p>在终端中执行如下命令：</p>

<pre><code>pod install
</code></pre>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a></li>
        
        <li><a href="/posts/051rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%981hellorails/">051RubyonRails學習筆記1Hellorails</a></li>
        
        <li><a href="/posts/053rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%986%E9%87%8D%E6%A7%8B%E5%88%AA%E9%99%A4%E7%95%99%E8%A8%80%E5%AE%89%E5%85%A8/">053RubyonRails學習筆記6重構刪除留言安全</a></li>
        
        <li><a href="/posts/055rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%987carrierwaveimplementation/">055RubyonRails學習筆記7CarrierwaveImplementation</a></li>
        
        <li><a href="/posts/065rubyonrails%E7%AD%86%E8%A8%9810showtargetinfoongooglemaps/">065Rubyonrails筆記10showtargetinfoongooglemaps</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/ruby'>ruby</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>