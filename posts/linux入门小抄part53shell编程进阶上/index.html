<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Linux入门小抄part53Shell编程进阶上 | 开发者问答集锦</title>
    <meta property="og:title" content="Linux入门小抄part53Shell编程进阶上 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="Linux入门小抄part53Shell编程进阶上">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/linux%E5%85%A5%E9%97%A8%E5%B0%8F%E6%8A%84part53shell%E7%BC%96%E7%A8%8B%E8%BF%9B%E9%98%B6%E4%B8%8A/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Linux入门小抄part53Shell编程进阶上</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h1 id="shell操作日期时间">Shell操作日期时间</h1>

<p>*<strong><em>date</em></strong>* - linux系统为我们提供了一个命令date，专门用来显示或者设置系统日期时间的。</p>

<p>语法格式为：</p>

<p>date [OPTION]&hellip; [+FORMAT] 或者 date [-u|&ndash;utc|&ndash;universal]
[MMDDhhmm[[CC]YY][.ss]]</p>

<p>常用的可选项有：</p>

<p>--help：显示辅助信息</p>

<p>--version：显示date命令版本信息</p>

<p>-u：显示目前的格林威治时间</p>

<p>-d：做日期时间相关的运算</p>

<p>--date=&lsquo;-dateStr&rsquo;：做日期时间的相关运算</p>

<p><strong>用法举例:</strong></p>

<ul>
<li>显示当前系统的日期时间</li>
</ul>

<p>[root@hadoop ~]#
*<strong><em>date</em></strong>*<img src="https://img.it610.com/image/info8/8fe672a5ecf64379be4fa39d75ed546c.png" alt="" /></p>

<ul>
<li>以指定的格式显示日期时间</li>
</ul>

<p>[root@hadoop ~]# *<strong><em>date &lsquo;+%Y-%m-%d
%H:%M:%S&rsquo;</em></strong>*<img src="https://img.it610.com/image/info8/c59cbefe2c274ea0b771f0b6889bc702.png" alt="" /></p>

<ul>
<li>设置系统日期时间</li>
</ul>

<p>[root@hadoop ~]# *<strong><em>date -s &ldquo;201</em></strong>* ** <strong>8</strong>** ** <strong>-0</strong>** ** <strong>1</strong>** **
<strong>-</strong>** ** <strong>01</strong>** ** <strong>01:01&rdquo;</strong>**</p>

<p>[root@hadoop ~]# *<strong><em>date</em></strong>* ** <strong>--set=</strong>** ** <strong>&ldquo;208</strong>** ** <strong>-0</strong>** **
<strong>1</strong>** ** <strong>-</strong>** ** <strong>01</strong>** ** <strong>01:01&rdquo;</strong>**</p>

<ul>
<li>有时候，我们操作日期时间，经常会要获取前几天或者后几天的时间，那么date命令也给我们提供了实现这个功能的可选项&rsquo;-d&rsquo;和&rsquo;--date&rsquo;，请看下面细细的例子

<ul>
<li>*<strong><em>-d</em></strong>* ** <strong>：</strong>**</li>
</ul></li>
</ul>

<p>|</p>

<p>*<strong><em>--date:</em></strong>*</p>

<p>&mdash;|&mdash;</p>

<h2 id="获取-下一天的时间">获取:下一天的时间</h2>

<p>[root@hadoop ~]# *<strong><em>date -d next-day &lsquo;+%Y-%m-%d %H:%M:%S&rsquo;</em></strong>*</p>

<p>[root@hadoop ~]# ** <strong>date -d &lsquo;next day&rsquo; &lsquo;+%Y-%m-%d %H:%M:%S&rsquo;</strong>**</p>

<p>另外一种写法：</p>

<p>[root@hadoop ~]# *<strong><em>date &lsquo;+%Y-%m-%d %H:%M:%S&rsquo; -d tomorrow</em></strong>*</p>

<h2 id="获取上一天的时间">获取上一天的时间</h2>

<p>[root@hadoop ~]# *<strong><em>date -d</em></strong>* ** <strong>last</strong>** ** <strong>-day &lsquo;+%Y-%m-%d
%H:%M:%S&rsquo;</strong>**</p>

<p>另外一种写法：</p>

<p>[root@hadoop ~]# *<strong><em>date &lsquo;+%Y-%m-%d %H:%M:%S&rsquo; -d yesterday</em></strong>*</p>

<h2 id="获取下一月的时间">获取下一月的时间</h2>

<p>[root@hadoop ~]# *<strong><em>date -d next-</em></strong>* ** <strong>month</strong>** ** <strong>&rsquo;+%Y-%m-%d
%H:%M:%S&rsquo;</strong>**</p>

<h2 id="获取上一月的时间">获取上一月的时间</h2>

<p>[root@hadoop ~]# *<strong><em>date -d</em></strong>* ** <strong>last</strong>** ** <strong>-</strong>** ** <strong>month</strong>** **
<strong>&rsquo;+%Y-%m-%d %H:%M:%S&rsquo;</strong>**</p>

<h2 id="获取下一年的时间">获取下一年的时间</h2>

<p>[root@hadoop ~]# *<strong><em>date -d next-</em></strong>* ** <strong>year</strong>** ** <strong>&rsquo;+%Y-%m-%d
%H:%M:%S&rsquo;</strong>**</p>

<h2 id="获取上一年的时间">获取上一年的时间</h2>

<p>[root@hadoop ~]# *<strong><em>date -d</em></strong>* ** <strong>last</strong>** ** <strong>-</strong>** ** <strong>year</strong>** **
<strong>&rsquo;+%Y-%m-%d %H:%M:%S&rsquo;</strong>**</p>

<h2 id="获取上一周的日期时间">获取上一周的日期时间：</h2>

<p>[root@hadoop ~]# *<strong><em>date -d next-week &lsquo;+%Y-%m-%d %H:%M:%S&rsquo;</em></strong>*</p>

<p>[root@hadoop ~]# *<strong><em>date -d next-monday &lsquo;+%Y-%m-%d %H:%M:%S&rsquo;</em></strong>*</p>

<p>[root@hadoop ~]# *<strong><em>date -d next-thursday &lsquo;+%Y-%m-%d %H:%M:%S&rsquo;</em></strong>*</p>

<p>那么类似的，其实，last-year，last-month，last-day，last-week，last-hour，last-minute，last-
second都有对应的实现。相反的，last对应next，自己可以根据实际情况灵活组织</p>

<p>|</p>

<h2 id="获取一天以后的日期时间">获取一天以后的日期时间</h2>

<p>[root@hadoop ~]# *<strong><em>date &lsquo;+%Y-%m-%d %H:%M:%S&rsquo; &ndash;date=&lsquo;1 day&rsquo;</em></strong>*</p>

<p>[root@hadoop ~]# *<strong><em>date &lsquo;+%Y-%m-%d %H:%M:%S&rsquo; &ndash;date=&lsquo;-1 day ago&rsquo;</em></strong>*</p>

<h2 id="获取一天以前的日期时间">获取一天以前的日期时间</h2>

<p>[root@hadoop ~]# *<strong><em>date &lsquo;+%Y-%m-%d %H:%M:%S&rsquo; &ndash;date=&lsquo;-1 day&rsquo;</em></strong>*</p>

<p>[root@hadoop ~]# *<strong><em>date &lsquo;+%Y-%m-%d %H:%M:%S&rsquo; &ndash;date=&lsquo;1 day ago&rsquo;</em></strong>*</p>

<p>上面的例子显示出来了使用的格式，使用精髓在于改变前面的字符串显示格式，改变数据，改变要操作的日期对应字段，除了天也有对应的其他实现：year，month，week，day，hour，minute，second，monday（星期，七天都可）</p>

<ul>
<li><p>date 能用来显示或设定系统的日期和时间，在显示方面，使用者能设定欲显示的格式，格式设定为一个加号后接数个标记，其中可用的标记列表如下：<br />
使用范例 : [root@hadoop ~]# *<strong><em>date &lsquo;+%Y-%m-%d %H:%M:%S&rsquo;</em></strong>*</p>

<ul>
<li>%a : 星期几 (Sun..Sat)</li>
</ul></li>
</ul>

<p>%A : 星期几 (Sunday..Saturday)</p>

<p>%b : 月份 (Jan..Dec)</p>

<p>%B : 月份 (January..December)</p>

<p>%c : 直接显示日期和时间</p>

<p>%d : 日 (01..31)</p>

<p>%D : 直接显示日期 (mm/dd/yy)</p>

<p>%h : 同 %b</p>

<p>%j : 一年中的第几天 (001..366)</p>

<p>%m : 月份 (01..12)</p>

<p>%U : 一年中的第几周 (00..53) (以 Sunday 为一周的第一天的情形)</p>

<p>%w : 一周中的第几天 (0..6)</p>

<p>%W : 一年中的第几周 (00..53) (以 Monday 为一周的第一天的情形)</p>

<p>%x : 直接显示日期 (mm/dd/yyyy)</p>

<p>%y : 年份的最后两位数字 (00.99)</p>

<p>%Y : 完整年份 (0000..9999)</p>

<hr />

<p>%%: 打印出%</p>

<p>%n : 下一行</p>

<p>%t : 跳格</p>

<p>%H : 小时(00..23)</p>

<p>%k : 小时(0..23)</p>

<p>%l : 小时(1..12)</p>

<p>%M : 分钟(00..59)</p>

<p>%p : 显示本地AM或PM</p>

<p>%P : 显示本地am或pm</p>

<p>%r : 直接显示时间(12 小时制，格式为 hh:mm:ss [AP]M)</p>

<p>%s : 从 1970 年 1 月 1 日 00:00:00 UTC 到目前为止的秒数</p>

<p>%S : 秒(00..61)</p>

<p>%T : 直接显示时间(24小时制)</p>

<p>%X : 相当于%H:%M:%S %p</p>

<p>%Z : 显示时区</p>

<hr />

<pre><code>* 若是不以加号作为开头，则表示要设定时间，而时间格式为 MMDDhhmm[[CC]YY][.ss]

  * MM 为月份，
</code></pre>

<p>DD 为日，</p>

<p>hh 为小时，</p>

<p>mm 为分钟，</p>

<p>CC 为年份前两位数字，</p>

<p>YY 为年份后两位数字，</p>

<p>ss 为秒数</p>

<p>例子：date &ldquo;050602032017.55&rdquo;</p>

<p><a href="https://img.it610.com/image/info8/66c67eaf0411407fb947af14a58ef157.jpg"><img src="https://img.it610.com/image/info8/66c67eaf0411407fb947af14a58ef157.jpg" alt="" /></a></p>

<hr />

<ul>
<li><strong>有用的小技巧</strong>

<ul>
<li>## 获取相对某个日期前后的日期：</li>
</ul></li>
</ul>

<p>[root@hadoop ~]# *<strong><em>date -d &lsquo;may 14 -2 weeks&rsquo;</em></strong>*</p>

<h2 id="把时间当中无用的0去掉-比如-01-02-25会变成1-2-25">把时间当中无用的0去掉，比如：01:02:25会变成1:2:25</h2>

<p>[root@hadoop ~]# *<strong><em>date &lsquo;+%-H:%-M:%-S&rsquo;</em></strong>*</p>

<h2 id="显示文件最后被更改的时间">显示文件最后被更改的时间</h2>

<p>[root@hadoop ~]# *<strong><em>date &ldquo;+%Y-%m-%d %H:%M:%S&rdquo; -r bin/removeJDK.sh</em></strong>*</p>

<h2 id="求两个字符串日期之间相隔的天数">求两个字符串日期之间相隔的天数</h2>

<p>[root@hadoop ~]#</p>

<p>*<strong><em>expr &lsquo;(&rsquo; $(date +%s -d &ldquo;2016-08-08&rdquo;) - $(date +%s -d &ldquo;2016-09-09&rdquo;) &lsquo;)&rsquo; /
86400</em></strong>*</p>

<p>*<strong><em>expr <code>expr $(date +%s -d &quot;2016-08-08&quot;) - $(date +%s -d &quot;2016-0**** **
**9**** ** **-0**** ** **9**** ** **&quot;)</code> / 86400</em></strong>*</p>

<p>*<strong><em>r</em></strong>*</p>

<h2 id="shell中加减指定间隔单位">shell中加减指定间隔单位</h2>

<p>[root@hadoop ~]# *<strong><em>A=<code>date +%Y-%m-%d</code></em></strong>*</p>

<p>[root@hadoop ~]# *<strong><em>B=<code>date +%Y-%m-%d -d &quot;$A +**** ** **48**** **
**hours&quot;</code></em></strong>*</p>

<hr />

<hr />

<h1 id="高级文本处理命令">高级文本处理命令</h1>

<h2 id="1-wc">1、wc</h2>

<p>功能： 统计文件行数、字节、字符数</p>

<p>常用选项:</p>

<p>-l：统计多少行</p>

<p>-w：统计字数</p>

<p>-c：统计文件字节数，一个英文字母1字节，一个汉字占2-4字节（根据编码）</p>

<p>-m：统计文件字符数，一个英文字母1字符，一个汉字占1个字符</p>

<p>-L：统计最长行的长度， 也可以统计字符串长度</p>

<p>-help：显示帮助信息</p>

<p>--version：显示版本信息</p>

<p>注意:一个汉字到底几个字节？</p>

<p>占2个字节的：〇</p>

<p>占3个字节的：基本等同于GBK，含21000多个汉字</p>

<p>占4个字节的：中日韩超大字符集里面的汉字，有5万多个</p>

<p>一个utf8数字占1个字节</p>

<p>一个utf8英文字母占1个字节</p>

<hr />

<p>演示:</p>

<p>统计文件信息</p>

<p>[linux@linux ~]$ *<strong><em>wc wc.txt</em></strong>*</p>

<p>4 8 77 mingxing.txt</p>

<p>行数 单词数 字节数 文件名</p>

<p><a href="https://img.it610.com/image/info8/f171b72432554615b197d696294e59eb.jpg"><img src="https://img.it610.com/image/info8/f171b72432554615b197d696294e59eb.jpg" alt="Linux入门小抄-
part5.3-Shell编程进阶\(上\)_第1张图片" /></a></p>

<p>统计字符串长度</p>

<p>[linux@linux ~]$ *<strong><em>echo &ldquo;hello&rdquo; | wc -L</em></strong>*</p>

<p>5</p>

<p><a href="https://img.it610.com/image/info8/53405a85d8e04196a73d3daa65b1a172.jpg"><img src="https://img.it610.com/image/info8/53405a85d8e04196a73d3daa65b1a172.jpg" alt="Linux入门小抄-
part5.3-Shell编程进阶\(上\)_第2张图片" /></a></p>

<p>统计文件行数：</p>

<p>[linux@linux ~]$ *<strong><em>wc -l mingxing.txt</em></strong>*</p>

<p>6 mingxing.txt</p>

<p><a href="https://img.it610.com/image/info8/b3453f68178c4ed5aa1d62bfbdcdd8c6.jpg"><img src="https://img.it610.com/image/info8/b3453f68178c4ed5aa1d62bfbdcdd8c6.jpg" alt="Linux入门小抄-
part5.3-Shell编程进阶\(上\)_第3张图片" /></a></p>

<p>统计文件字数：</p>

<p>[linux@linux ~]$ *<strong><em>wc -w mingxing.txt</em></strong>*</p>

<p>7 mingxing.txt</p>

<hr />

<hr />

<h2 id="2-sort">***<strong><em>2、sort</em></strong>***</h2>

<p>功能：排序文本，默认对整列有效</p>

<p>常用选项：</p>

<p>-f：忽略字母大小写，就是将小写字母视为大写字母排序</p>

<p>-M：根据月份比较，比如 JAN、DEC</p>

<p>-h：根据易读的单位大小比较，比如 2K、1G</p>

<p>-g：按照常规数值排序</p>

<p>-n：根据字符串数值比较</p>

<p>-r：倒序排序</p>

<p>-k：位置1,位置2根据关键字排序，在从第位置1开始，位置2结束</p>

<p>-t：指定分隔符</p>

<p>-u：去重重复行</p>

<p>-o：将结果写入文件</p>

<p>演示:</p>

<p>我们先准备一个sort.txt这个文件,里面的内容如下:</p>

<pre><code>aaa:10:1.1
ccc:20:3.3
bbb:40:4.4
eee:40:5.5
ddd:30:3.3
bbb:40:4.4
fff:30:2.2
</code></pre>

<p>具体使用:</p>

<p>[linux@linux ~]$ cat sort.txt ## 准备排序文件，查看该内容</p>

<p>aaa:10:1.1</p>

<p>ccc:20:3.3</p>

<p>bbb:40:4.4</p>

<p>eee:40:5.5</p>

<p>ddd:30:3.3</p>

<p>bbb:40:4.4</p>

<p>fff:30:2.2</p>

<p>[linux@linux ~]$ *<strong><em>sort sort.txt</em></strong>* ## 直接排序，把整行当做一列字符串，字典顺序</p>

<p>aaa:10:1.1</p>

<p>bbb:40:4.4</p>

<p>bbb:40:4.4</p>

<p>ccc:20:3.3</p>

<p>ddd:30:3.3</p>

<p>eee:40:5.5</p>

<p>fff:30:2.2</p>

<p>[linux@linux ~]$ *<strong><em>sort -nk 2 -t : sort.txt</em></strong>* ## 以:作为分隔符，取第二个字段按照数值进行排序</p>

<p>aaa:10:1.1</p>

<p>ccc:20:3.3</p>

<p>fff:30:2.2</p>

<p>ddd:30:3.3</p>

<p>bbb:40:4.4</p>

<p>bbb:40:4.4</p>

<p>eee:40:5.5</p>

<p>[linux@linux ~]$ *<strong><em>sort -nk 2 -u -t : sort.txt</em></strong>* ## 和上一个不一样的是-u为了去重</p>

<p>aaa:10:1.1</p>

<p>ccc:20:3.3</p>

<p>ddd:30:3.3</p>

<p>bbb:40:4.4</p>

<p>多列排序：以:分隔，按第二列数值排倒序，第三列正序</p>

<p>[linux@linux ~]$ *<strong><em>sort -n -t: -k2</em></strong>* ** <strong>,2r</strong>** ** <strong>-k3 sort.txt</strong>**</p>

<p>bbb:40:4.4</p>

<p>bbb:40:4.4</p>

<p>eee:40:5.5</p>

<p>fff:30:2.2</p>

<p>ddd:30:3.3</p>

<p>ccc:20:3.3</p>

<p>aaa:10:1.1</p>

<hr />

<hr />

<h2 id="3-uniq">***<strong><em>3、uniq</em></strong>***</h2>

<p>功能：去除重复行，只会统计相邻的</p>

<p>常用选项：</p>

<p>-c：打印出现的次数</p>

<p>-d：只打印重复行</p>

<p>-u：只打印不重复行</p>

<p>-D：只打印重复行，并且把所有重复行打印出来</p>

<p>-f N：比较时跳过前N列</p>

<p>-i：忽略大小写</p>

<p>-s N：比较时跳过前N个字符</p>

<p>-w N：对每行第N个字符以后内容不做比较</p>

<p>演示:</p>

<p>这里我们也准备一个文件uniq.txt,里面的内容如下:</p>

<pre><code>abc
xyz
cde
cde
xyz
abd
</code></pre>

<p>具体操作:</p>

<p>例子1:</p>

<p>[linux@linux ~]$ uniq uniq.txt  ## 直接去重，只能在相邻行去重</p>

<p>abc</p>

<p>xyz</p>

<p>cde</p>

<p>xyz</p>

<p>abd</p>

<p>[linux@linux ~]$ *<strong><em>sort uniq.txt | uniq</em></strong>* ## 先给文件排序，然后去重</p>

<p>abc</p>

<p>abd</p>

<p>cde</p>

<p>xyz</p>

<p>[linux@linux ~]$ *<strong><em>sort uniq.txt | uniq</em></strong>* ** <strong>-</strong>** ** <strong>c</strong>** ##
打印每行重复次数</p>

<p>1 abc</p>

<p>1 abd</p>

<p>2 cde</p>

<p>2 xyz</p>

<p>[linux@linux ~]$ *<strong><em>sort uniq.txt | uniq -u</em></strong>* ** <strong>-</strong>** ** <strong>c</strong>** ##
打印不重复行，并给出次数</p>

<p>1 abc</p>

<p>1 abd</p>

<p>[linux@linux ~]$ *<strong><em>sort uniq.txt | uniq -d</em></strong>* ** <strong>-</strong>** ** <strong>c</strong>** ##
打印重复行，并给出次数</p>

<p>2 cde</p>

<p>2 xyz</p>

<p>[linux@linux ~]$ *<strong><em>sort uniq.txt | uniq -w 2</em></strong>* ## 以开头前两个字符为判断标准去重</p>

<p>abc</p>

<p>cde</p>

<p>xyz</p>

<hr />

<p>例子2:</p>

<p>这里我们准备两个文件:a.txt ,b.txt ,内容如下</p>

<p><a href="https://img.it610.com/image/info8/11abc93845e3449895bb3e04c9032b6b.jpg"><img src="https://img.it610.com/image/info8/11abc93845e3449895bb3e04c9032b6b.jpg" alt="Linux入门小抄-
part5.3-Shell编程进阶\(上\)_第4张图片" /></a></p>

<p>需求：</p>

<p>求两个文件的交集：</p>

<p>[hadoop@hadoop04 data]$ *<strong><em>cat a.txt b.txt | sort | uniq -d</em></strong>*</p>

<p><a href="https://img.it610.com/image/info8/0137a59e33d642c09ff9a26bcf3540f6.jpg"><img src="https://img.it610.com/image/info8/0137a59e33d642c09ff9a26bcf3540f6.jpg" alt="" /></a></p>

<p>求两个文件的并集：</p>

<p>[hadoop@hadoop04 data]$ *<strong><em>cat a.txt b.txt | sort | uniq</em></strong>*</p>

<p><a href="https://img.it610.com/image/info8/3196b0c1d0a74e7baa3171d447cc7dae.jpg"><img src="https://img.it610.com/image/info8/3196b0c1d0a74e7baa3171d447cc7dae.jpg" alt="Linux入门小抄-
part5.3-Shell编程进阶\(上\)_第5张图片" /></a></p>

<p>求a.txt和b.txt的差集</p>

<p>[hadoop@hadoop04 data]$ *<strong><em>cat a.txt b.txt b.txt | sort | uniq -u</em></strong>*</p>

<p><a href="https://img.it610.com/image/info8/d6c0f21bcd474036ada58029f6e2013c.jpg"><img src="https://img.it610.com/image/info8/d6c0f21bcd474036ada58029f6e2013c.jpg" alt="" /></a></p>

<p>求b.txt和a.txt的差集</p>

<p>[hadoop@hadoop04 data]$ *<strong><em>cat</em></strong>* ** <strong>b</strong>** ** <strong>.txt</strong>** ** <strong>a</strong>** **
<strong>.txt</strong>** ** <strong>a</strong>** ** <strong>.txt | sort | uniq -u</strong>**</p>

<p><a href="https://img.it610.com/image/info8/59c0df800c7e4473ac5584ef75a7ee62.jpg"><img src="https://img.it610.com/image/info8/59c0df800c7e4473ac5584ef75a7ee62.jpg" alt="" /></a></p>

<hr />

<hr />

<h2 id="4-cut">4、cut</h2>

<p>cut命令可以从一个文本文件或者文本流中提取文本列</p>

<p>cut语法</p>

<p>cut -d&rsquo;分隔字符&rsquo; -f fields ## 用于有特定分隔字符</p>

<p>cut -c 字符区间  ## 用于排列整齐的信息</p>

<p>选项与参数：</p>

<p>-d：后面接分隔字符。与 -f 一起使用</p>

<p>-f：依据 -d的分隔字符将一段信息分割成为数段，用 -f 取出第几段的意思</p>

<p>-c：按照字符截取</p>

<p>-b：按照字节截取</p>

<p>例子:</p>

<p>首先看PATH变量：</p>

<p>[root@localhost ~]# *<strong><em>echo $PATH</em></strong>*</p>

<p>/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin</p>

<p>将PATH变量取出，找出第五个路径</p>

<p>[root@localhost ~]# ** <strong>echo $PATH | cut -d &lsquo;:&rsquo; -f 5</strong>**</p>

<p>/usr/sbin</p>

<p>将PATH变量取出，找出第三和第五个路径，以下三种方式都OK</p>

<p>[root@localhost ~]# *<strong><em>echo $PATH | cut -d &lsquo;:&rsquo; -f 3,5</em></strong>*</p>

<p>[root@localhost ~]# *<strong><em>echo $PATH | cut -d : -f 3,5</em></strong>*</p>

<p>[root@localhost ~]# *<strong><em>echo $PATH | cut -d: -f3,5</em></strong>*</p>

<p>/sbin:/usr/sbin</p>

<p>将PATH变量取出，找出第三到最后一个路径</p>

<p>[root@localhost ~]# *<strong><em>echo $PATH | cut -d &lsquo;:&rsquo; -f 3-</em></strong>*</p>

<p>/sbin:/bin:/usr/sbin:/usr/bin:/root/bin</p>

<p>将PATH变量取出，找出第一到第三，还有第五个路径</p>

<p>[root@localhost ~]# *<strong><em>echo $PATH | cut -d &lsquo;:&rsquo; -f 1-3,5</em></strong>*</p>

<p>/usr/local/sbin:/usr/local/bin:/sbin:/usr/sbin</p>

<hr />

<p>先准备已空格分开的这么段数据：</p>

<p>黄渤 huangbo 18 jiangxi</p>

<p>徐峥 xuzheng 22 hunan</p>

<p>王宝强 wangbaoqiang 44 liujiayao</p>

<p>获取中间的年龄：</p>

<p>[root@localhost ~]# *<strong><em>cut -f</em></strong>* ** <strong>3</strong>** ** <strong>-d &lsquo; &lsquo;</strong>** ** <strong>cut</strong>** **
<strong>.txt</strong>**</p>

<p>18</p>

<p>22</p>

<p>44</p>

<p>获取第二个字符到第五个字符之间的字符：</p>

<p>[root@localhost ~]# *<strong><em>cut -c 2-</em></strong>* ** <strong>5</strong>** *****<strong><em>cut</em></strong>* ** <strong>.txt</strong>**</p>

<p>渤 hu</p>

<p>峥 xu</p>

<p>宝强 w</p>

<p>获取第四个字节到第六个字节中的字符：</p>

<p>[root@hadoop ~]# *<strong><em>cut -b</em></strong>* ** <strong>4-6</strong>** *****<strong><em>cut</em></strong>* ** <strong>.txt</strong>**</p>

<p>渤</p>

<p>峥</p>

<p>宝</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>