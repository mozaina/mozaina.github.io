<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Shell大全可以应用于工作及面试 | 开发者问答集锦</title>
    <meta property="og:title" content="Shell大全可以应用于工作及面试 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="Shell大全可以应用于工作及面试">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/shell%E5%A4%A7%E5%85%A8%E5%8F%AF%E4%BB%A5%E5%BA%94%E7%94%A8%E4%BA%8E%E5%B7%A5%E4%BD%9C%E5%8F%8A%E9%9D%A2%E8%AF%95/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Shell大全可以应用于工作及面试</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p><strong>问题导读</strong></p>

<p>1.Shell该如何学习？<br />
2.Shell和传统编程语言有哪些相同？<br />
3.Shell和传统编程语言有哪些不同?<br />
4.你认为Shell还有哪些便捷的地方？</p>

<p><img src="https://img.it610.com/image/info8/a50f3771659240d0ac938153e4def246.png" alt="" /></p>

<p><img src="https://img.it610.com/image/info8/19368fc7f0f247beb95b83aa906ea340.png" alt="" /></p>

<p>由于行业的发展，对程序员的要求越来越高，原先我们只会一门语言就可以找到工作，现在我们需要会的东西越来越多，会一门语言只是入门开发而已，目前你会大数据更好，会算法、机器学习那已经成为佼佼者。所以我们这个行业需要不断的学习、成长和进步。</p>

<p>这里我们所说的Shell，其实无论是大数据、云技术、还是其它等，其实很多都可以用到。但是作为传统开发程序员来讲，对它可能还是停留在简单的使用阶段。比如根据文档可以安装部署大数据组件，比如Hadoop、Spark等。但是这距离我们使用Shell编程，还是有一定距离的。</p>

<p><img src="https://img.it610.com/image/info8/19368fc7f0f247beb95b83aa906ea340.png" alt="" /></p>

<p>本文主要针对零基础、面试Shell不知道该如何补充这方面的知识，以及工作中想学习Shell的老铁。</p>

<p><strong>零基础Shell</strong></p>

<p>对于零基础的老铁，其实只要经常使用Linux即可熟悉基本的Linux操作。例如复制文件cp、移除文件mv、创建文件夹mkdir、编辑文件vi、查看文件cat、授权chmod、chown等，当然比如网络配置、开机、关机等这些也是在我们安装部署集群所必备的。对于这些常用的命令或则shell，我们只要多安装集群，会变的比较熟悉。</p>

<p>更多可参考</p>

<p><img src="https://img.it610.com/image/info8/666615b3bc544d6596f8f46cceb6e857.jpg" alt="" /></p>

<p>解决遇到Linux网络配置，从熟悉网络配置文件入手</p>

<p><a href="https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6399">https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6399</a></p>

<p>linux入门大全：包括零基础入门，Linux详细介绍</p>

<p><a href="https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6274">https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6274</a></p>

<p>Linux重启方式init 0 init1 init 3 init 5 init 6 这几个启动级别都代表什么意思？</p>

<p><a href="https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6336">https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6336</a></p>

<p>Ubuntu常用命令总结及修改DNS的多种方法总结</p>

<p><a href="https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6576">https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6576</a></p>

<p>Linux关机各种关机命令总结</p>

<p><a href="https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6577">https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6577</a></p>

<p>Linux基础必懂：eth0,eth1,eth2,lo是什么意思？</p>

<p><a href="https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6372">https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6372</a></p>

<p>linux中pwd命令详解</p>

<p><a href="https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6361">https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6361</a></p>

<p>linux之vi编辑器</p>

<p><a href="https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6450">https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6450</a></p>

<p>linux yum命令详解</p>

<p><a href="https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6574">https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6574</a></p>

<p>Linux下chkconfig命令详解</p>

<p><a href="https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6575">https://www.aboutyun.com//forum.php/?mod=viewthread&amp;tid=6575</a></p>

<p><strong>Shell编程</strong></p>

<p>Shell编程，这里对很多人来说就有点难度了，如果我们掌握了Shell编程，会让我们在职场中更有优势，面试亦是亮点。一些企业包括很多的名企，招聘中都提到了Shell。</p>

<p><a href="https://img.it610.com/image/info8/e6b84226620f4b44b59ef52b2969f6df.jpg"><img src="https://img.it610.com/image/info8/e6b84226620f4b44b59ef52b2969f6df.jpg" alt="Shell大全：可以应用于工作及面试_第1张图片" /></a><br />
<a href="https://img.it610.com/image/info8/5a134b9ed7e3461fa0bdd758a6bb79b9.jpg"><img src="https://img.it610.com/image/info8/5a134b9ed7e3461fa0bdd758a6bb79b9.jpg" alt="Shell大全：可以应用于工作及面试_第2张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/f5516480b8df43afab633b8f13824866.jpg"><img src="https://img.it610.com/image/info8/f5516480b8df43afab633b8f13824866.jpg" alt="Shell大全：可以应用于工作及面试_第3张图片" /></a></p>

<p>我们可以看到无论是Java高级工程师，还是大数据工程师，都要求会使用Shell。那么我们该如何补充这方面的知识。</p>

<p><strong>Shell与传统编程语言比较</strong></p>

<p><img src="https://img.it610.com/image/info8/92e71deb32d142788cea3842604e1090.jpg" alt="" /></p>

<p>1.相同点</p>

<p><img src="https://img.it610.com/image/info8/3b9ead27c0d349009c5864c8fc459feb.jpg" alt="" /></p>

<p>Shell已经被视为一种编程语言，既然是编程，那么它和其它编程语言有什么相同之处？<br />
我们在学习Shell的时候，大多都是觉得Shell是比较难学的，其实如果我们确实深入了解下，它和我们的其它编程语言，有太多的相似之处。</p>

<p>在编程中，流程控制，我们知道条件判断if else，case
,循环比如for,while等是基本的编程结构，那么在Shell中其实也是同样存在的，数组、函数在shell亦是存在的，当然在实现细节方面略有不同。<br />
比如shell中的if else，如下面格式</p>

<p>[Bash shell] <em>纯文本查看</em> <em>复制代码</em></p>

<p>?</p>

<p>1</p>

<p>2</p>

<p>3</p>

<p>4</p>

<p>5</p>

<p>6</p>

<p>7</p>

<p>8</p>

<p>9</p>

<p>|</p>

<p><code>if</code> <code>condition</code></p>

<p><code>then</code></p>

<p><code>command1</code></p>

<p><code>command2</code></p>

<p><code>...</code></p>

<p><code>commandN</code></p>

<p><code>else</code></p>

<p><code>command</code></p>

<p><code>fi</code></p>

<p>&mdash;|&mdash;</p>

<p>我们可以看到其实就两点区别：多了两个单词，一个then，以及以fi结尾。这样我们就掌握了shell中if else的用法，看是非常简单的。</p>

<p>对于shell编程更多内容可参考</p>

<p><img src="https://img.it610.com/image/info8/666615b3bc544d6596f8f46cceb6e857.jpg" alt="" /></p>

<p>Shell 变量</p>

<p><a href="https://www.runoob.com/linux/linux-shell-variable.html">https://www.runoob.com/linux/linux-shell-variable.html</a></p>

<p>Shell传递参数</p>

<p><a href="https://www.runoob.com/linux/linux-shell-passing-arguments.html">https://www.runoob.com/linux/linux-shell-passing-arguments.html</a></p>

<p>Shell 数组</p>

<p><a href="https://www.runoob.com/linux/linux-shell-array.html">https://www.runoob.com/linux/linux-shell-array.html</a></p>

<p>Shell 基本运算符</p>

<p><a href="https://www.runoob.com/linux/linux-shell-basic-operators.html">https://www.runoob.com/linux/linux-shell-basic-operators.html</a></p>

<p>Shell echo命令</p>

<p><a href="https://www.runoob.com/linux/linux-shell-echo.html">https://www.runoob.com/linux/linux-shell-echo.html</a></p>

<p>Shell printf 命令</p>

<p><a href="https://www.runoob.com/linux/linux-shell-printf.html">https://www.runoob.com/linux/linux-shell-printf.html</a></p>

<p>Shell 流程控制</p>

<p><a href="https://www.runoob.com/linux/linux-shell-process-control.html">https://www.runoob.com/linux/linux-shell-process-control.html</a></p>

<p>Shell 函数</p>

<p><a href="https://www.runoob.com/linux/linux-shell-func.html">https://www.runoob.com/linux/linux-shell-func.html</a></p>

<p>Shell 输入/输出重定向</p>

<p><a href="https://www.runoob.com/linux/linux-shell-io-redirections.html">https://www.runoob.com/linux/linux-shell-io-redirections.html</a></p>

<p>Shell 文件包含</p>

<p><a href="https://www.runoob.com/linux/linux-shell-include-file.html">https://www.runoob.com/linux/linux-shell-include-file.html</a></p>

<p><img src="https://img.it610.com/image/info8/92e71deb32d142788cea3842604e1090.jpg" alt="" /></p>

<p>2.不同点</p>

<p><img src="https://img.it610.com/image/info8/3b9ead27c0d349009c5864c8fc459feb.jpg" alt="" /></p>

<p>Shell既然为Shell，那么和其它编程语言也有不同的地方。比如管道符。</p>

<p>管道符<br />
管道符我们或许听说过或则没有听说过，但是我们会被它的名字所迷惑，管道符到底是什么？它的作用是什么？当然我们看到下面例子的时候，一看就会变的非常简单。</p>

<p>这里举例比如我们遇到问题，想查看Linux进程<br />
ps -aux | grep *** 查询***进程的详细信息；</p>

<p>对于上面|即为管道符。那么为什么称之为管道符？<br />
原因为：管道符是将第一个命令的结果传递给第二个命令作为输入。这是不是比较神奇，而且作用非常大。</p>

<p>比如我们上面命令查看进程，进程的结果进一步过滤，我们通过管道符+grep实现了对结果的进一步过滤。</p>

<p>在比如：<br />
把原本要输出到屏幕的用户信息列表再交给 wc 命令作进一步的加工</p>

<p>[Bash shell] <em>纯文本查看</em> <em>复制代码</em></p>

<p>?</p>

<p>1</p>

<p>|</p>

<p><code>grep</code> <code>&quot;/sbin/nologin&quot;</code> <code>/etc/passwd</code> <code>|</code><code>wc</code> <code>-l</code></p>

<p>&mdash;|&mdash;<br />
比如用翻页的形<br />
式查看/etc 目录中的文件列表及属性信息（这些内容默认会一股脑儿地显示到屏幕上，根本看不清楚）：</p>

<p>[Bash shell] <em>纯文本查看</em> <em>复制代码</em></p>

<p>?</p>

<p>01</p>

<p>02</p>

<p>03</p>

<p>04</p>

<p>05</p>

<p>06</p>

<p>07</p>

<p>08</p>

<p>09</p>

<p>10</p>

<p>11</p>

<p>12</p>

<p>13</p>

<p>14</p>

<p>15</p>

<p>16</p>

<p>|</p>

<p><code>[root@linuxprobe ~]</code><code># ls -l /etc/ | more</code></p>

<p><code>total 1400</code></p>

<p><code>drwxr-xr-x. 3 root root 97 Jul 10 17:26 abrt</code></p>

<p><code>-rw-r--r--. 1 root root 16 Jul 10 17:36 adjtime</code></p>

<p><code>-rw-r--r--. 1 root root 1518 Jun 7 2013 aliases</code></p>

<p><code>-rw-r--r--. 1 root root 12288 Jul 10 09:38 aliases.db</code></p>

<p><code>drwxr-xr-x. 2 root root 49 Jul 10 17:26 alsa</code></p>

<p><code>drwxr-xr-x. 2 root root 4096 Jul 10 17:31 alternatives</code></p>

<p><code>-rw-------. 1 root root 541 Jan 28 2017 anacrontab</code></p>

<p><code>-rw-r--r--. 1 root root 55 Jan 29 2017 asound.conf</code></p>

<p><code>-rw-r--r--. 1 root root 1 Jan 29 2017 at.deny</code></p>

<p><code>drwxr-xr-x. 2 root root 31 Jul 10 17:27 at-spi2</code></p>

<p><code>drwxr-x---. 3 root root 41 Jul 10 17:26 audisp</code></p>

<p><code>drwxr-x---. 3 root root 79 Jul 10 17:37 audit</code></p>

<p><code>drwxr-xr-x. 4 root root 94 Jul 10 17:26 avahi</code></p>

<p><code>--More--</code></p>

<p>&mdash;|&mdash;<br />
除了管道符，还有两个非常重要的工具，这两个的使用，直接影响了别人认为我们是否熟悉shell的一个标识。一个是sed，一个是awk。<br />
既然这两个这么重要，那么我们来认识下这两个工具。</p>

<p>sed使用<br />
什么情况下使用sed，比如我们想偷懒，不想打开文件然后在各种操作，那么这时候我们就可以使用sed了。<br />
sed可以完成的操作很多，比如sed截取文件</p>

<p>[Bash shell] <em>纯文本查看</em> <em>复制代码</em></p>

<p>?</p>

<p>1</p>

<p>|</p>

<p><code>sed</code> <code>-n ‘1,6p’ filename &gt;newfilename</code></p>

<p>&mdash;|&mdash;</p>

<blockquote>
<p>使用sed加“-n”参数来完成对文件某几行的截取， 上述sed命令就可以截取文件中的1到6行然后输出到新文件中。</p>
</blockquote>

<p>sed替换文件内字符</p>

<p>[Bash shell] <em>纯文本查看</em> <em>复制代码</em></p>

<p>?</p>

<p>1</p>

<p>|</p>

<p><code>sed</code> <code>-i ‘s</code><code>/old/new/</code><code>’filename</code></p>

<p>&mdash;|&mdash;</p>

<blockquote>
<p>其中-i表示在本地直接对源文件中的内容作出修改</p>
</blockquote>

<p>还有其他功能比如删除文件的某些特征行，某些变量前添加内容。关于sed使用更多可参考</p>

<p>Linux sed工具命令详解</p>

<p><img src="https://img.it610.com/image/info8/666615b3bc544d6596f8f46cceb6e857.jpg" alt="" /></p>

<p><a href="https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=28389">https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=28389</a></p>

<p>awk使用<br />
awk跟sed差不多，也可以操作文件。而且说它是一门编程语言也不为过。</p>

<p>我们来看它的简单的使用。在举例之前，需要说下，shell中有默认的变量，比如一个文件如下：</p>

<p>a b c<br />
a1 b1 c1<br />
a2 b2 c2<br />
如果我们使用语言api，该如何获取第一列数据，相信这个不同的语言实现有所不同，可是awk那太简单了，只需要一个变量即可实现，$1：表示第一列，$2表示第二列，$3表示第三列。对滴这就是Shell的便捷之处，我们可能使用大量的语言编程，在shell中可能一行代码就可以搞定了。我们接着来看。</p>

<p>比如我们查看某个目录的文件：</p>

<p>[Bash shell] <em>纯文本查看</em> <em>复制代码</em></p>

<p>?</p>

<p>1</p>

<p>|</p>

<p><code>ls</code> <code>-lh</code></p>

<p>&mdash;|&mdash;</p>

<p>[Bash shell] <em>纯文本查看</em> <em>复制代码</em></p>

<p>?</p>

<p>01</p>

<p>02</p>

<p>03</p>

<p>04</p>

<p>05</p>

<p>06</p>

<p>07</p>

<p>08</p>

<p>09</p>

<p>10</p>

<p>11</p>

<p>12</p>

<p>13</p>

<p>14</p>

<p>15</p>

<p>16</p>

<p>17</p>

<p>18</p>

<p>|</p>

<p><code>total 136K</code></p>

<p><code>-rwxr-xr-x 1 root root 766 Jul 22 2011 colorls.csh</code></p>

<p><code>-rwxr-xr-x 1 root root 727 Jul 22 2011 colorls.sh</code></p>

<p><code>-rw-r--r-- 1 root root 92 Feb 23 2012 cvs.csh</code></p>

<p><code>-rwxr-xr-x 1 root root 78 Feb 23 2012 cvs.sh</code></p>

<p><code>-rwxr-xr-x 1 root root 192 Mar 25 2009 glib2.csh</code></p>

<p><code>-rwxr-xr-x 1 root root 192 Mar 25 2009 glib2.sh</code></p>

<p><code>-rw-r--r-- 1 root root 218 Jun 6 2013 krb5-devel.csh</code></p>

<p><code>-rw-r--r-- 1 root root 229 Jun 6 2013 krb5-devel.sh</code></p>

<p><code>-rw-r--r-- 1 root root 218 Jun 6 2013 krb5-workstation.csh</code></p>

<p><code>-rw-r--r-- 1 root root 229 Jun 6 2013 krb5-workstation.sh</code></p>

<p><code>-rwxr-xr-x 1 root root 3.0K Feb 22 2012 lang.csh</code></p>

<p><code>-rwxr-xr-x 1 root root 3.4K Feb 22 2012 lang.sh</code></p>

<p><code>-rwxr-xr-x 1 root root 122 Feb 23 2012</code><code>less</code><code>.csh</code></p>

<p><code>-rwxr-xr-x 1 root root 108 Feb 23 2012</code><code>less</code><code>.sh</code></p>

<p><code>-rwxr-xr-x 1 root root 97 Mar 6 2011 vim.csh</code></p>

<p><code>-rwxr-xr-x 1 root root 293 Mar 6 2011 vim.sh</code></p>

<p><code>-rwxr-xr-x 1 root root 170 Jan 7 2007</code><code>which</code><code>-2.sh</code></p>

<p>&mdash;|&mdash;<br />
awk的使用，例如只打印第一列：<br />
[root@localhost profile.d]# ls -lh | awk &lsquo;{print NR &ldquo; &rdquo; $1}&rsquo;<br />
1 total<br />
2 -rwxr-xr-x<br />
3 -rwxr-xr-x<br />
4 -rw-r&ndash;r&ndash;<br />
5 -rwxr-xr-x<br />
6 -rwxr-xr-x<br />
7 -rwxr-xr-x<br />
8 -rw-r&ndash;r&ndash;<br />
9 -rw-r&ndash;r&ndash;<br />
10 -rw-r&ndash;r&ndash;<br />
11 -rw-r&ndash;r&ndash;<br />
12 -rwxr-xr-x<br />
13 -rwxr-xr-x<br />
14 -rwxr-xr-x<br />
15 -rwxr-xr-x<br />
16 -rwxr-xr-x<br />
17 -rwxr-xr-x<br />
18 -rwxr-xr-x</p>

<p>上面我看到awk确实使用起来非常方便，而且如果我们稍微学习下，其实也不难的</p>

<p>更多awk可参考</p>

<p><img src="https://img.it610.com/image/info8/666615b3bc544d6596f8f46cceb6e857.jpg" alt="" /></p>

<p><a href="https://www.aboutyun.com/home.php?mod=space&amp;uid=61&amp;do=blog&amp;id=4338">https://www.aboutyun.com/home.php?mod=space&amp;uid=61&amp;do=blog&amp;id=4338</a></p>

<p><img src="https://img.it610.com/image/info8/92e71deb32d142788cea3842604e1090.jpg" alt="" /></p>

<p>3.Shell便捷之处</p>

<p><img src="https://img.it610.com/image/info8/3b9ead27c0d349009c5864c8fc459feb.jpg" alt="" /></p>

<p>有了传统编程语言，为何会有shell编程。让我们来看看做同样的事情，Shell到底有多便捷。<br />
我们就以数据清洗为例：<br />
如果我们使用语言API，那么首先我们需要有开发环境，比如IDEA，Eclipse等，这个如果你不熟悉就够麻烦的了。有了环境之后，我们还需要会使用语言API，API编程，我们知道要有类，有入口函数Main以及功能实现等。</p>

<p>我们就以日志清洗，我们可以看到通过api的实现。</p>

<p>[Scala] 纯文本查看 复制代码</p>

<p>?</p>

<p>01</p>

<p>02</p>

<p>03</p>

<p>04</p>

<p>05</p>

<p>06</p>

<p>07</p>

<p>08</p>

<p>09</p>

<p>10</p>

<p>11</p>

<p>12</p>

<p>13</p>

<p>14</p>

<p>15</p>

<p>16</p>

<p>17</p>

<p>18</p>

<p>19</p>

<p>20</p>

<p>21</p>

<p>22</p>

<p>23</p>

<p>24</p>

<p>25</p>

<p>26</p>

<p>27</p>

<p>28</p>

<p>29</p>

<p>|</p>

<p><code>import</code> <code>org.apache.spark.SparkConf</code></p>

<p><code>import</code> <code>org.apache.spark.storage.StorageLevel</code></p>

<p><code>import</code> <code>org.apache.spark.streaming.{Seconds, StreamingContext}</code></p>

<p><code>import</code> <code>scala.util.matching.Regex</code></p>

<p><code>/**</code></p>

<p><code>* Created by PeersLee on 2017/2/8.</code></p>

<p><code>*/</code></p>

<p><code>object</code> <code>ExtractFromLocal {</code></p>

<p><code>def</code> <code>main(args</code><code>:</code> <code>Array[String])</code><code>:</code> <code>Unit</code><code>=</code> <code>{</code></p>

<p><code>//创建SparkConf，设置AppName和Master</code></p>

<p><code>// var：声明变量，val：声明常量</code></p>

<p><code>val</code> <code>conf</code><code>=</code> <code>new</code>
<code>SparkConf().setAppName(</code><code>&quot;ExtractFromLocal&quot;</code><code>).setMaster(</code><code>&quot;local&quot;</code><code>)</code></p>

<p><code>// 创建一个具有n个线程10秒间隔时间的本地StreamingContext</code></p>

<p><code>val</code> <code>ssc</code><code>=</code> <code>new</code> <code>StreamingContext(conf, Seconds(</code><code>10</code><code>))</code></p>

<p><code>// 上面我们已经创建一个DStream(连续的数据流)，这个ssc可以从TCP源(ip : localhost, port : 9999)
获取流数据,</code></p>

<p><code>// 开始获取数据</code></p>

<p><code>val</code> <code>hostname</code><code>=</code> <code>&quot;192.168.1.10&quot;</code></p>

<p><code>val</code> <code>port</code><code>=</code> <code>9999</code></p>

<p><code>val</code> <code>lines</code><code>=</code> <code>ssc.socketTextStream(hostname, port,
StorageLevel.MEMORY</code><code>_</code><code>AND</code><code>_</code><code>DISK</code><code>_</code><code>SER)</code></p>

<p><code>// 处理逻辑</code></p>

<p><code>。。。。。</code></p>

<p><code>words.print()</code></p>

<p><code>//开始执行，并在控制台等待</code></p>

<p><code>ssc.start()</code></p>

<p><code>ssc.awaitTermination()</code></p>

<p><code>}</code></p>

<p><code>}</code></p>

<p>&mdash;|&mdash;</p>

<p>更多可参考：</p>

<p><img src="https://img.it610.com/image/info8/666615b3bc544d6596f8f46cceb6e857.jpg" alt="" /></p>

<p>about云日志分析项目准备10-3：Spark Local模式之Log文本清洗<br />
<a href="https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=21135">https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=21135</a></p>

<p>上面我们先不管逻辑，就可以看到需要大量的代码，那么用Shell，该如何实现：<br />
下面一行代码即可实现</p>

<p>[Bash shell] <em>纯文本查看</em> <em>复制代码</em></p>

<p>?</p>

<p>1</p>

<p>|</p>

<p><code>awk</code> <code>'($7 !~ /^\/static\//){print $0}'</code> <code>access_2013_05_30.log &gt;
clean_2013_05_30.log</code></p>

<p>&mdash;|&mdash;<br />
解释：<br />
清洗去除URL中以/static/开头的URL</p>

<p>上面我们看到Shell是非常简练的。</p>

<p>Shell面试题</p>

<p>面试题，其实只要我们打好基础，面试题难不倒我们的。特别是我们所讲的sed和awk的使用。有些老铁为了面试只是背面试题，而不去往基础和知识的源头去学习，那只能是会了这个，忘了那个。所以即使我们针对面试，我们亦应该针对经常出现的面试题，去总结经常被问的知识点，如果这些知识点熟悉了，那么对于它所对应的所有问题，也就迎刃而解了。下面是关于Shell的面试题，如果上面我们知识点都熟悉了，你会发现下面的面试题不在困难。</p>

<p>一、取出/etc/passwd文件中shell出现的次数</p>

<p>问题：<br />
下面是一个/etc/passwd文件的部分内容。题目要求取出shell并统计次数，shell是指后面的/bin/bash，/sbin/nologin等，如下面/bin/bash出现12次，/sbin/nologin出现3次。<br />
hyn:x:525:500::/home/hyn:/bin/bash ljlxx:x:526:500::/home/ljlxx:/bin/bash
lzj:x:527:500::/home/lzj:/bin/bash wfly:x:528:500::/home/wfly:/bin/bash
squid:x:23:23::/var/spool/squid:/sbin/nologin
wyj:x:529:500::/home/wyj:/bin/bash qemu:x:107:107:qemu user:/:/sbin/nologin
radvd:x:75:75:radvd user:/:/sbin/nologin
dungbee:x:530:500::/home/dungbee:/bin/bash mysql:x:27:27:MySQL
Server:/var/lib/mysql:/bin/bash scidb:x:531:531::/home/scidb:/bin/bash
postgres:x:532:532::/home/postgres:/bin/bash
crane:x:533:533::/home/crane:/bin/bash test:x:534:534::/home/test:/bin/bash
hguser:x:535:535::/home/hguser:/bin/bash</p>

<p>参考答案：<br />
cat /etc/passwd|awk -F: &lsquo;{print $7}&rsquo;|sort|uniq -c</p>

<p>解析：<br />
使用awk根据冒号分割内容，打印输出分割后的第7列，也就是shell所在列。然后调用sort命令排序并使用uniq -c统计每个shell出现的次数。</p>

<p>二、文件整理</p>

<p>问题：<br />
employee文件中记录了工号和姓名<br />
employee.txt: 100 Jason Smith 200 John Doe 300 Sanjay Gupta 400 Ashok Sharma<br />
bonus文件中记录工号和工资<br />
bonus.txt: 100 $5,000 200 $500 300 $3,000 400 $1,250<br />
要求把两个文件合并并输出如下<br />
处理结果:<br />
400 ashok sharma $1,250 100 jason smith $5,000 200 john doe $500 300 sanjay
gupta $3,000</p>

<p>参考答案：<br />
paste employee.txt bonus.txt | awk &lsquo;{print $1,$2,$3,$5}&rsquo;|tr &lsquo;[:upper:]&rsquo;
&lsquo;[:lower:]&lsquo;|sort -k 2</p>

<p>解析：<br />
这里用到好几个命令，包括paste，awk，tr以及sort。paste命令用于合并多个文件的同行数据，如上面两个文件employee和bonus调用paste后合并成<br />
100 Jason Smith 100 $5,000 200 John Doe 200 $500 300 Sanjay Gupta 300 $3,000
400 Ashok Sharma 400 $1,250</p>

<p>paste命令可以使用-d指定合并时加入的符号。比如paste -d : employee bonus则结果变成类似100 Jason Smith :100
$5,000 等。默认合并符号为tab符号</p>

<p>更多paste命令请参照</p>

<p><img src="https://img.it610.com/image/info8/666615b3bc544d6596f8f46cceb6e857.jpg" alt="" /></p>

<p><a href="http://snailwarrior.blog.51cto.com/680306/144462">http://snailwarrior.blog.51cto.com/680306/144462</a></p>

<p>awk用于提取除了tab符号的其余4列。</p>

<p>tr命令用于将字符串中所有大写字符转换为小写字符。</p>

<p>sort命令对字符排序。sort -k 2表示按文件第2个域排序，这里第二个域为姓名，所以是按姓名升序排序。如果要降序排列，则要用sort -k 2r。</p>

<p>更多sort命令参见</p>

<p><img src="https://img.it610.com/image/info8/666615b3bc544d6596f8f46cceb6e857.jpg" alt="" /></p>

<p><a href="http://www.360doc.com/content/10/0925/15/1107705_56263541.shtml">http://www.360doc.com/content/10/0925/15/1107705_56263541.shtml</a></p>

<p>三、打印本机交换分区大小</p>

<p>问题：打印本机交换分区大小，输出如下<br />
Swap:1024M</p>

<p>参考答案：<br />
top -n 1|grep Swap|sed &rsquo;s/k.*//&lsquo;|awk &lsquo;{print $1,$<sup>2</sup>&frasl;<sub>1000</sub>&rdquo;M&rdquo;}&rsquo;</p>

<p>解析：<br />
top 命令显示系统资源占用情况，-n 1表示只调用1次。<br />
grep Swap选取Swap所在行。grep命令执行后结果可能如下：<br />
Swap: 16779884k total, 0k used, 16779884k free, 3268200k cached<br />
sed命令用于字符串的一些正则匹配，这里使用了替换参数，将第1个k以及后面的字符替换成了空白。这样，sed执行后，结果为：<br />
Swap: 16779884<br />
awk命令输出内容，对第二个参数除以1000.</p>

<p>四、用户清理</p>

<p>问题：<br />
清除本机除了当前登陆用户以外的所有用户。</p>

<p>参考答案：<br />
kill $(who -u|grep -v <code>whoami</code>|awk &lsquo;{print $6}&rsquo;|sort -u)</p>

<p>解析：<br />
who -u显示所有当前用户。grep -v选取当前登录用户以外的所有用户。awk打印用户进程ID。sort -u会删除相同的行。最后用kill命令终止。</p>

<p>五、百度脚本面试题</p>

<p>问题：<br />
1）写脚本实现，可以用shell、perl等。在目录/tmp下找到100个以abc开头的文件，然后把这些文件的第一行保存到文件new中。</p>

<p>参考答案1：<br />
#!/bin/sh for filename in <code>find /tmp -type f -name &quot;abc*&quot;|head -n 100</code> do sed
-n &lsquo;1p&rsquo; $filename&gt;&gt;new done</p>

<p>解析： 第一，用到了find命令，其中-type f表示选取普通文件，-name用于设定文件名；第二，head -n
100命令用于取出前100项。第三，sed -n ’1p’用于取出文件的第一行内容。第四，&gt;&gt;new表示追加到文件new中。</p>

<p>参考答案2：<br />
find /tmp -type f -name “abc*” | head -n 100 | xargs head -q -n 1 &gt;&gt; new</p>

<p>问题：<br />
2）写脚本实现，可以用shell、perl等。把文件b中有的，但是文件a中没有的所有行，保存为文件c，并统计c的行数。</p>

<p>参考答案：<br />
grep -vxFf a b | tee c | wc -l</p>

<p>解析：grep选取-v表示不选择匹配的行，-F表示匹配的模式按行分割，-f
a表示匹配模式来自文件a，最后表示目标文件b。即grep命令从b中选取a中不存在的行。<br />
tee c命令创建文件c，wc -l命令统计行数。</p>

<p>如果你想搜集更多面试题，可参考下面内容：</p>

<p><img src="https://img.it610.com/image/info8/666615b3bc544d6596f8f46cceb6e857.jpg" alt="" /></p>

<p>shell编程-百度面试题<br />
<a href="https://www.doc88.com/p-6542593799085.html">https://www.doc88.com/p-6542593799085.html</a></p>

<p>shell编程面试题<br />
<a href="https://www.doc88.com/p-9953411882649.html">https://www.doc88.com/p-9953411882649.html</a></p>

<p>linux-shell面试题<br />
<a href="http://zhangbin.junxilinux.com/?p=724">http://zhangbin.junxilinux.com/?p=724</a></p>

<p>Shell面试题<br />
<a href="https://juejin.im/entry/5bead00151882537347579fa">https://juejin.im/entry/5bead00151882537347579fa</a></p>

<p>Shell脚本面试题Top50<br />
<a href="https://www.jianshu.com/p/7a08d193cf79">https://www.jianshu.com/p/7a08d193cf79</a></p>

<p>Shell脚本面试题Top50<br />
<a href="https://www.doc88.com/p-9952889361809.html">https://www.doc88.com/p-9952889361809.html</a></p>

<p><strong>更多学习资料</strong></p>

<p>有的同学，不喜欢看文章，这里给大家推荐套视频，是阿里的完全免费的，不过需要登录才可以看。</p>

<p>70-个经典的shell-脚本面试问题及解答</p>

<p>网盘链接: <a href="https://pan.baidu.com/s/1DbrKYi62R_6rBGqEy45AfQ">https://pan.baidu.com/s/1DbrKYi62R_6rBGqEy45AfQ</a> 提取码: 49pe</p>

<p>shell视频<br />
<a href="https://edu.aliyun.com/course/155/learn#lesson/1963">https://edu.aliyun.com/course/155/learn#lesson/1963</a></p>

<p>有的同学喜欢系统的学习，这里也给大家提供一些文档和书籍。<br />
Linux程序设计 中文第4版<br />
<a href="https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=27742">https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=27742</a></p>

<p>Linux 系统编程（第二版） 带书签目录完整版.<br />
<a href="https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=27342">https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=27342</a></p>

<p>Linux常用命令详解(配合示例说明-清晰易懂)<br />
<a href="https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=26798">https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=26798</a></p>

<p>Linux命令行与shell脚本编程大全.第3版<br />
<a href="https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=27062">https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=27062</a></p>

<p>总结</p>

<p>至此总结完毕，如果有不足的地方，欢迎大家提建议。如果你有其他需要学习的大数据、机器学习等方面的资料需要整理或则线路指导，也可以留言。条件允许，我们都会帮助大家整理。</p>

<p><a href="https://img.it610.com/image/info8/421835ea33b147cc8b6b5f75036c169c.jpg"><img src="https://img.it610.com/image/info8/421835ea33b147cc8b6b5f75036c169c.jpg" alt="" /></a></p>

<p>— — — — — — — — — — — END — — — — — — — — — — —</p>

<p>添加微信（BGnv5_Ooooh）即可领取面试题<br />
<a href="https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=27732">https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=27732</a></p>

<p><a href="https://img.it610.com/image/info8/c2ea09189694491ebfb9606fd7970aca.jpg"><img src="https://img.it610.com/image/info8/c2ea09189694491ebfb9606fd7970aca.jpg" alt="Shell大全：可以应用于工作及面试_第4张图片" /></a></p>

<p>加微信w3aboutyun，获取100本电子书籍、及项目视频<br />
<a href="https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=26480">https://www.aboutyun.com/forum.php?mod=viewthread&amp;tid=26480</a></p>

<p><a href="https://img.it610.com/image/info8/535a7fbe21e9495086da00f40ea94459.jpg"><img src="https://img.it610.com/image/info8/535a7fbe21e9495086da00f40ea94459.jpg" alt="Shell大全：可以应用于工作及面试_第5张图片" /></a></p>

<p><strong>本公众号精彩文章推荐：</strong></p>

<p>【1】程序员必备的分析解决问题能力：案例分享</p>

<p>【2】Hbase故障处理汇总及评注</p>

<p>【3】技术太多学不过来？教你如何越学越带劲</p>

<p>【4】IT大咖工作十年总结的面试真经</p>

<p>【5】小白与大神存在哪些差距</p>

<p>【6】Logstash收集多数据源数据神器</p>

<p>【7】kafka学习线路指导入门：包括理论、部署、实战知识汇总整理</p>

<p>【8】技术走向管理一些深度思考</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>