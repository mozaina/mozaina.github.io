<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>linux环境变量shell变量commandnotfound解决方法 | 开发者问答集锦</title>
    <meta property="og:title" content="linux环境变量shell变量commandnotfound解决方法 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="linux环境变量shell变量commandnotfound解决方法">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8Fshell%E5%8F%98%E9%87%8Fcommandnotfound%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">linux环境变量shell变量commandnotfound解决方法</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<p>在Ubuntu中有如下几个文件可以设置环境变量<br />
1、/etc/profile:在登录时,操作系统定制用户环境时使用的第一个文件,此文件为系统的每个用户设置环境信息,当用户第一次登录时,该文件被执行。<br />
2、/etc/environment:在登录时操作系统使用的第二个文件,系统在读取你自己的profile前,设置环境文件的环境变量。<br />
3、~/.bash_profile:在登录时用到的第三个文件是.profile文件,每个用户都可使用该文件输入专用于自己使用的shell信息,当用户登录时,该
文件仅仅执行一次!默认情况下,他设置一些环境变游戏量,执行用户的.bashrc文件。/etc/bashrc:为每一个运行bash
shell的用户执行此文件.当bash shell被打开时,该文件被读取.<br />
4、~/.bashrc:该文件包含专用于你的bash shell的bash信息,当登录时以及每次打开新的shell时,该该文件被读取。</p>

<p>几个环境变量的优先级</p>

<p>1&gt;2&gt;3</p>

<p>设置永久环境变量</p>

<p>1.环境变量配置中，要先删除.bash_profile中的三行关于.bashrc的定义，然后把环境变量配置在.bashrc中<br />
2.选择要使用的java环境：update-alternatives –config java<br />
3.要使得刚修改的环境变量生效：source .bashrc<br />
4.查看环境变量：env</p>

<p>可以放到/etc/bash/bashrc，这样就是系统级的</p>

<p>1、在用LINUX命令时为什么别人的计算机能用自己的不能用呢，其实是自己的系统环境变量没有添加，最笨的方法就是进入到相应的文件夹下在执行这个命令，这样命令就起效了</p>

<p>例如fdisk命令就需要在相应文件夹/sbin/下输入指令 ./fdisk 就出现你要看的东西了</p>

<p>再如ifconfig命令需要在文件夹/sbin/下指执行./ifconfig就出现你要看的东西了</p>

<p>./bin:</p>

<p>bin为binary的简写主要放置一些系统的必备执行档例如:cat、cp、chmod
df、dmesg、gzip、kill、ls、mkdir、more、mount、rm、su、tar等。</p>

<p>/usr/bin:<br />
主要放置一些应用软体工具的必备执行档例如c++、g++、gcc、chdrv、diff、dig、du、eject、elm、free、gnome*、
gzip、htpasswd、kfm、ktop、last、less、locale、m4、make、man、mcopy、ncftp、
newaliases、nslookup passwd、quota、smb*、wget等。</p>

<p>/sbin:<br />
主要放置一些系统管理的必备程式例如:cfdisk、dhcpcd、dump、e2fsck、fdisk、halt、ifconfig、ifup、
ifdown、init、insmod、lilo、lsmod、mke2fs、modprobe、quotacheck、reboot、rmmod、
runlevel、shutdown等。</p>

<p>/usr/sbin:<br />
放置一些网路管理的必备程式例如:dhcpd、htpd、imap、in.*d、inetd、lpd、named、netconfig、nmbd、samba、sendmail、squid、swap、tcpd、tcpdump等。</p>

<p>可以在家目录下查看.bash_profile里的PATH。如果是：PATH=$PATH:$HOME/bin则需要添加成如下：</p>

<p>PATH=$PATH:$HOME/bin:/sbin:/usr/bin:/usr/sbin</p>

<p>[注]本人又添加了一条命令才能执行，不同情况不同分析哈：<br />
export PATH=$PATH:/sbin</p>

<p>2、常在/etc/profile文件中修改环境变量，在这里修改的内容是对所有用户起作用的。</p>

<p>以下主要操作将在该文件中进行。</p>

<p>3、如何添加环境变量。</p>

<p>例如添加“NAME=liheng” 。</p>

<p>在profile文件的最后添加如下内容export NAME=liheng</p>

<p>变量值liheng可以加引号也可以不加，效果一样。</p>

<p>4、在profile文件添加或修改的内容需要注销系统才能生效。</p>

<p>5、重复定义变量怎样理解。</p>

<p>经常出现的是对PATH变量的定义。</p>

<p>例如：在peofile文件默认对PATH变量都有设置PATH=￥￥￥￥￥￥￥，在以后可能在对PATH设置，一般都加在profile文件的最后PATH=······(打个比方)。而系统之中认定的PATH=·······￥￥￥￥￥￥￥￥￥，也就是说相同名字的环境变量，后写入的先起作用。大家一定要注意。</p>

<p>6、特殊字符介绍。</p>

<p>例如在profile中有如下内容，通过以下内容说明特殊符号的用法。</p>

<p>export A=/q/jing:aaa/cc/ld</p>

<p>export B=.:/liheng/wang</p>

<p>export A=/cd/cdr:$A</p>

<p>大家注意红色的符号:</p>

<dl>
<dd>表示并列含义，例如A变量值有多个，用：符号进行分离。<br />
<br /></dd>
</dl>

<p>. 表示你操作的当前目录。例如pap命令会查找B环境变量。</p>

<p>在/home键入pap命令，系统首先在/home目录下(即当前路径)查找关于 B 的内容，如果没有在/liheng/wang目录下查找关于B的内容。</p>

<p>$ 表示该变量本次定义之前的值，例如$A代表/q/jing:aaa/cc/ld。也就是说</p>

<p>A=/cd/cdr:/q/jing:aaa/cc/ld<br />
7、使用env命令显示所有的环境变量 。在命令提示符下键入env就行了。</p>

<p>set命令显示所有本地定义的Shell变量。</p>

<p>8、常见的环境变量</p>

<p>PATH：决定了shell将到哪些目录中寻找命令或程序</p>

<p>HOME：当前用户主目录</p>

<p>MAIL：是指当前用户的邮件存放目录。</p>

<p>SHELL：是指当前用户用的是哪种Shell。</p>

<p>HISTSIZE：是指保存历史命令记录的条数</p>

<p>LOGNAME：是指当前用户的登录名。</p>

<p>HOSTNAME：是指主机的名称，许多应用程序如果要用到主机名的话，通常是从这个环境变量中来取得的。</p>

<p>LANG/LANGUGE：是和语言相关的环境变量，使用多种语言的用户可以修改此环境变量。</p>

<p>PS1：是基本提示符，对于root用户是#，对于普通用户是$。</p>

<p>PS2：是附属提示符，默认是“&gt;”。可以通过修改此环境变量来修改当前的命令符，比如下列命令会将提示符修改成字符串“Hello,My NewPrompt :)
”。</p>

<h1 id="ps1-hello-my-newprompt">PS1=&rdquo; Hello,My NewPrompt :) &ldquo;</h1>

<p>9、使用修改.bashrc文件进行环境变量的编辑，只对当前用户有用。</p>

<p>使用修改 /etc/profile 文件进行环境变量的编辑，是对所有用户有用。大家一定要注意区别。</p>

<p>10、profile文件在系统启动时将被运行。大家可以在里面加入其他命令，但是一定要加正确，不然的话系统会启动不起来的。</p>

<p>环境变量是和 Shell 紧密相关的，用户登录系统后就启动了一个 Shell 。对于 Linux 来说一般是 bash ，但也可以重新设定或切换到其它的
Shell 。根据发行版本的情况， bash 有两个基本的系统级配置文件： /etc/bashrc 和 /etc/profile
。这些配置文件包含两组不同的变量： shell 变量和环境变量。前者只是在特定的 shell 中固定（如 bash ），后者在不同 shell
中固定。很明显， shell变量是局部的，而环境变量是全局的。环境变量是通过 Shell
命令来设置的，设置好的环境变量又可以被所有当前用户所运行的程序所使用。对于 bash 这个 Shell 程序来说，可以通过变量名来访问相应的环境变量，通过
export 来设置环境变量。下面通过几个实例来说明。</p>

<p>3.1 使用命令echo 显示环境变量</p>

<p>#本例使用echo显示常见的变量HOME</p>

<p>$ echo $HOME</p>

<p>/home/lqm</p>

<p>3.2 设置一个新的环境变量</p>

<p>$ export HELLO=”Hello!”</p>

<p>$ echo $HELLO</p>

<p>Hello!</p>

<p>3.3 使用 env 命令显示所有的环境变量</p>

<p>$ env</p>

<p>SSH_AGENT_PID=1875</p>

<p>HOSTNAME=lqm</p>

<p>SHELL=/bin/bash</p>

<p>TERM=xterm</p>

<p>HISTSIZE=1000</p>

<p>……</p>

<p>3.4 使用 set 命令显示所有本地定义的 Shell 变量</p>

<p>$ set</p>

<p>BASH=/bin/bash</p>

<p>……</p>

<p>3.5 使用 unset 命令来清除环境变量</p>

<p>$ export TEST=”test” # 增加一个环境变量 TEST</p>

<p>$ env | grep TEST # 此命令有输出，证明环境变量 TEST 已经存在了</p>

<p>TEST=test</p>

<p>$ unset $TEST # 删除环境变量 TEST</p>

<p>$ env | grep TEST # 此命令无输出，证明环境变量 TEST 已经存在了</p>

<p>3.6 使用 readonly 命令设置只读变量</p>

<p>如果使用了 readonly 命令的话，变量就不可以被修改或清除了。示例如下：</p>

<p>$ export TEST=&ldquo;Test&hellip;&rdquo;  # 增加一个环境变量 TEST</p>

<p>$ readonly TEST # 将环境变量 TEST 设为只读</p>

<p>$ unset TEST  # 会发现此变量不能被删除</p>

<p>-bash: unset: TEST: cannot unset: readonly variable<br />
$ TEST=&ldquo;New&rdquo; # 会发现此变量不能被修改</p>

<p>-bash: TEST: readonly variable</p>

<p>3.7 用 C 程序来访问和设置环境变量</p>

<p>对于 C 程序的用户来说，可以使用下列三个函数来设置或访问一个环境变量。</p>

<p>getenv() 访问一个环境变量。输入参数是需要访问的变量名字，返回值是一个字符串。如果所访问的环境变量不存在，则会返回 NULL 。</p>

<p>setenv() 在程序里面设置某个环境变量的函数。</p>

<p>unsetenv() 清除某个特定的环境变量的函数。</p>

<p>另外，还有一个指针变量 environ ，它指向的是包含所有的环境变量的一个列表。下面的程序可以打印出当前运行环境里面的所有环境变量：</p>

<p>#include</p>

<p>extern char**environ;</p>

<p>int main ()</p>

<p>{</p>

<p>char**var;</p>

<p>for (var =environ;*var !=NULL;++var)</p>

<p>printf (&ldquo;%s /n &ldquo;,*var);</p>

<p>return 0;</p>

<p>}</p>

<p>3.8 通过修改环境变量定义文件来修改环境变量。</p>

<p>需要注意的是，一般情况下，这仅仅对于普通用户适用，避免修改根用户的环境定义文件，因为那样可能会造成潜在的危险。</p>

<p>$cd # 到用户根目录下</p>

<p>$ls -a # 查看所有文件，包含隐藏的文件</p>

<p>$vi .bash_profile # 修改环境变量定义文件</p>

<p>然后编辑你的 PATH 声明，其格式为：</p>

<p>PATH=$PATH: : : :&mdash;&mdash;:</p>

<p>你可以自己加上指定的路径，中间用冒号隔开。环境变量更改后，在用户下次登陆时生效，如果想立刻生效，则可执行下面的语句：$ source
.bash_profile</p>

<p>需要注意的是，最好不要把当前路径 ”./” 放到 PATH 里，这样可能会受到意想不到的攻击。完成后，可以通过 $ echo $PATH
查看当前的搜索路径。这样定制后，就可以避免频繁的启动位于 shell 搜索的路径之外的程序了。</p>

<p>4 总结</p>

<p>通过以上的设置，你可以有一个比较方便有效的环境来提高你的工作效率了。</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>