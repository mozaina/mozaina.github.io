<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>1Ruby基础知识 | 开发者问答集锦</title>
    <meta property="og:title" content="1Ruby基础知识 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="1Ruby基础知识">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/1ruby%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">1Ruby基础知识</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h1 id="1-ruby执行选项">1. Ruby执行选项</h1>

<table>
<thead>
<tr>
<th>符号</th>
<th>作用</th>
</tr>
</thead>

<tbody>
<tr>
<td>-c</td>
<td>检查代码正确性</td>
</tr>

<tr>
<td>-w</td>
<td>警告模式运行</td>
</tr>

<tr>
<td>-e</td>
<td>字面脚本</td>
</tr>

<tr>
<td>-l</td>
<td>行模式运行</td>
</tr>
</tbody>
</table>

<p>单独</p>

<pre><code>ruby -c Hello.rb
</code></pre>

<p>组合</p>

<pre><code>ruby -le 'print &quot;Hello&quot;;print &quot;Ruby&quot;'
</code></pre>

<h1 id="2-常量-变量">2. 常量，变量</h1>

<h2 id="2-1-常量">2.1 常量</h2>

<p>通常以首字母大写或全部大写为常量。</p>

<pre><code>CON1=1000
puts &quot;I got&quot;+CON1.to_s+&quot;RMByuan&quot;
CON1=100 #不报错但是给出警告
puts &quot;Now only&quot;+CON1.to_s+&quot;yuan&quot;
</code></pre>

<h2 id="2-2-变量">2.2 变量</h2>

<h3 id="2-2-1-局部变量">2.2.1 局部变量</h3>

<p>在 <strong>类，模块，方法</strong> 这些作用域里面有效。 <strong>下划线_，a-z</strong> 开头。</p>

<h3 id="2-2-2-全局变量">2.2.2 全局变量</h3>

<p>作用于全局。 <strong>以$开头</strong><br />
Ruby自带全局变量：</p>

<table>
<thead>
<tr>
<th>全局变量</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>$0</td>
<td>Ruby脚本文件名</td>
</tr>

<tr>
<td>$*</td>
<td>命令行参数</td>
</tr>

<tr>
<td>$=</td>
<td>是否区分大小写</td>
</tr>

<tr>
<td>$_</td>
<td>最近读的字串</td>
</tr>
</tbody>
</table>

<h1 id="3-数据类型">3. 数据类型</h1>

<h2 id="3-1-数值">3.1 数值</h2>

<p>两种 <strong>整形Fixnum,Bignum，一种Float型</strong> ，数据类型也是对象。用<code>.class</code> 来查看当前变量的数据类型。</p>

<pre><code>i=2**30 #基本数据类型也是一个对象
k=2**30-1
puts &quot;i=&quot;+i.to_s+&quot;类型是&quot;+i.class.to_s #.class可以得到该数值的类型
puts &quot;k=&quot;+k.to_s+&quot;类型是&quot;+k.class.to_s
f=3.1415
puts &quot;f=&quot;+f.to_s+&quot;类型是&quot;+f.class.to_s
</code></pre>

<blockquote>
<p>i=1073741824类型是Bignum<br />
 k=1073741823类型是Fixnum<br />
 f=3.1415类型是Float</p>
</blockquote>

<h2 id="3-2-范围">3.2 范围</h2>

<p>用<code>===</code> 来判断右边对象是否在左边对象里面</p>

<pre><code>#..与...的区别
a=1..5
b=1...5
print &quot;a的元素是&quot;
a.each do|i|
    print i.to_s
end
puts &quot;\n&quot;,a===5
print &quot;b的元素是&quot;
b.each do|i|
    print i.to_s
end
puts &quot;\n&quot;,b===5
</code></pre>

<blockquote>
<p>a的元素是12345<br />
 true<br />
 b的元素是1234<br />
 false</p>
</blockquote>

<p>常用方法：</p>

<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>to_a</code></td>
<td>转换成一个数组</td>
</tr>

<tr>
<td><code>include?()</code> 或者 <code>===</code></td>
<td>是否包含</td>
</tr>

<tr>
<td><code>min() begin() firsst()</code></td>
<td>最小值</td>
</tr>

<tr>
<td><code>max() end() last()</code></td>
<td>最大值</td>
</tr>
</tbody>
</table>

<p>常用迭代器</p>

<table>
<thead>
<tr>
<th>迭代器</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>regect</code></td>
<td>转为数组，删除满足条件元素</td>
</tr>

<tr>
<td><code>select</code></td>
<td>转为数组，选择满足条件元素</td>
</tr>

<tr>
<td><code>each</code></td>
<td>输出迭代范围中每个元素</td>
</tr>
</tbody>
</table>

<p>其中each最为常用，演示如下</p>

<pre><code>a=1..10
a.each do|i|
    print i.to_s+&quot;  &quot;
end
</code></pre>

<blockquote>
<p>1 2 3 4 5 6 7 8 9 10</p>
</blockquote>

<h2 id="3-3-符号">3.3 符号</h2>

<p>符号对象是 字符串，方法，类，或者标识符的内部表示形式。<br />
用<code>:</code>或者 <code>%{}</code> 创建符号对象</p>

<pre><code>str1=&quot;good morning&quot;
sym1=:&quot;good morning&quot;
puts str1==sym1 #比较对象
puts str1.to_sym==sym1 #字符串转成符号后比较内容
puts sym1.to_s==str1 #符号转成字符串后比较内容
</code></pre>

<blockquote>
<p>false<br />
 true<br />
 true</p>
</blockquote>

<h1 id="4-运算符">4. 运算符</h1>

<ol>
<li>基本：求余 <code>%</code> ， 乘方 <code>**</code> 其他：<code>+,-,*,/</code></li>
<li>赋值运算：<code>=,+=,-=,#=,/=,%=,**=</code></li>
<li>位运算符：</li>
</ol>

<table>
<thead>
<tr>
<th>位运算符</th>
<th>说明</th>
<th>位运算符</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>&amp;</td>
<td>按位 与</td>
<td>&lt;&lt;</td>
<td>向左移位</td>
</tr>

<tr>
<td>&gt;&gt;</td>
<td>按位 或</td>
<td>&gt;&gt;</td>
<td>向右移位</td>
</tr>

<tr>
<td>~</td>
<td>按位非</td>
<td>^</td>
<td>异或</td>
</tr>
</tbody>
</table>

<p>4. 比较运算</p>

<table>
<thead>
<tr>
<th>运算符</th>
<th>说明</th>
<th>运算符</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>!=</td>
<td>不等于</td>
<td>=~</td>
<td>正则表达式匹配</td>
</tr>

<tr>
<td>&lt;=&gt;</td>
<td>比较两对象结果<code>1,0,-1</code></td>
<td>!~</td>
<td>正则表达式不匹配</td>
</tr>
</tbody>
</table>

<p>5. 逻辑运算</p>

<table>
<thead>
<tr>
<th>逻辑运算符</th>
<th>含义</th>
</tr>
</thead>

<tbody>
<tr>
<td>&amp;&amp;</td>
<td>逻辑“且”</td>
</tr>

<tr>
<td></td>
<td></td>
</tr>

<tr>
<td>！</td>
<td>逻辑“非”</td>
</tr>
</tbody>
</table>

<p>6. 三目运算符<br />
<code>score&lt;600? &quot;仍需努力&quot;:&quot;考上复旦没问题&quot;</code></p>

<h1 id="5-语句">5. 语句</h1>

<h2 id="5-1-if">5.1 if</h2>

<pre><code>if(条件) then
    代码块
elsif(条件)
    代码块
else
    代码块
end
</code></pre>

<blockquote>
<p><code>if</code> 对应的是 <code>elsif</code> 而不是elseif.<br />
 可以省略<code>then</code>关键字</p>
</blockquote>

<p>unless与if相反，unless后面的语句结果是true时执行 第二个代码块，否则执行第一个代码块</p>

<pre><code>unless(条件) then
    代码块1
else
    代码块2
end
</code></pre>

<h2 id="5-2-case语句">5.2 case语句</h2>

<pre><code>case 表达式
    when 常量1，常量2...常量3 then
        代码块1
    when 常量n.. then
        代码块2
    else 代码块3
</code></pre>

<p>when 后面可以是Range对象。<br />
将 <strong>表达式的值</strong> 与 <strong>常量</strong> 进行比较需要用<code>===</code> 而不是<code>==</code></p>

<h2 id="5-3-循环">5.3 循环</h2>

<p>while循环：</p>

<pre><code>while (条件) do
代码块
end
</code></pre>

<p>until循环：</p>

<pre><code>until (条件) do#条件表达式为false代码块被执行
代码块
end
</code></pre>

<p>for…in语句主要用于 <strong>数组</strong> 和 <strong>Hash对象</strong></p>

<pre><code>for 自定义名称 in Array|Hash do
    代码块1
end
</code></pre>

<p>迭代器</p>

<pre><code>Array.each do|定义的变量名|
    代码块
end
</code></pre>

<h2 id="5-4-跳转">5.4 跳转</h2>

<p><code>break</code> <code>next</code> <code>return</code></p>

<h1 id="6-数据处理">6. 数据处理</h1>

<h2 id="6-1-字符串">6.1 字符串</h2>

<p><strong>双引号</strong> 的字符串，与 <strong>单引号</strong> 的字符串</p>

<pre><code>strd=&quot;good\nmorning&quot;
strs='good\n morning'
puts strd
puts strs
</code></pre>

<p>运行结果：</p>

<blockquote>
<p>good<br />
 morning<br />
 good\n morning</p>
</blockquote>

<p>转义字符与特殊字符</p>

<table>
<thead>
<tr>
<th>字符串</th>
<th>含义</th>
</tr>
</thead>

<tbody>
<tr>
<td>\a</td>
<td>Bell对应符号</td>
</tr>

<tr>
<td>\nnn</td>
<td><code>nnn</code> 是八进制数，替换成字符</td>
</tr>

<tr>
<td>\b</td>
<td>退格</td>
</tr>

<tr>
<td>\xnn</td>
<td><code>xnn</code> 是十六进制数，替换成字符</td>
</tr>

<tr>
<td>\e</td>
<td><code>esc</code> 键的字符</td>
</tr>

<tr>
<td>\cx</td>
<td><code>ctrl+X</code> 对应字符，x可以是任意对应字符</td>
</tr>

<tr>
<td>\C-x</td>
<td>同上</td>
</tr>

<tr>
<td>\n</td>
<td>换行</td>
</tr>

<tr>
<td>\M-x</td>
<td><code>Alt+x</code> 对应字符，x可以是任意对应字符</td>
</tr>

<tr>
<td>\r</td>
<td>回车</td>
</tr>

<tr>
<td>\M-\C-x</td>
<td><code>ctrl+alt+x</code>，x任意键</td>
</tr>

<tr>
<td>\s</td>
<td>空白符</td>
</tr>

<tr>
<td>\t</td>
<td><code>Tab</code>键对应字符</td>
</tr>

<tr>
<td>\v</td>
<td><code>垂直Tab</code>键对应字符</td>
</tr>

<tr>
<td>#{}</td>
<td>替换成变量或者表达式所对应的 <strong>值</strong></td>
</tr>
</tbody>
</table>

<h2 id="6-2-字符串操作">6.2 字符串操作</h2>

<h3 id="合并">合并</h3>

<p>用<code>+</code> 符号合并</p>

<pre><code>a=&quot;我的名字是&quot;
b=&quot;Philippian&quot;
c=a+b
puts c
</code></pre>

<blockquote>
<p>我的名字是Philippian</p>
</blockquote>

<p>用<code>&lt;&lt;</code> 合并</p>

<pre><code>a=&quot;我的名字是&quot;
b=&quot;Philippian&quot;
a&lt; ****
</code></pre>

<blockquote>
<p>我的名字是Philippian</p>
</blockquote>

<h3 id="替换-复制-改变">替换 复制 改变</h3>

<p>替换<code>replace</code> 方法</p>

<pre><code>str=&quot;hehe&quot;
puts &quot;替换前是&quot;+str
str.replace(&quot;呵呵哒&quot;)
puts &quot;替换后是&quot;+str
</code></pre>

<blockquote>
<p>替换前是hehe<br />
 替换后是呵呵哒</p>
</blockquote>

<p>复制 <code>dup</code> <code>clone</code> 方法<br />
<code>dup</code>只复制内容，<code>clone</code> 复制其特殊方法，taint，freeze等信息</p>

<pre><code>str=&quot;Philippian&quot;
puts str.dup
puts str.clone
</code></pre>

<blockquote>
<p>Philippian<br />
 Philippian</p>
</blockquote>

<p>改变 有多种方法，如下：</p>

<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
<th>方法</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>capitalize</td>
<td>首字母大写</td>
<td>Rstrip</td>
<td>去掉右边空格</td>
</tr>

<tr>
<td>reverse</td>
<td>字符反转</td>
<td>Lstrip</td>
<td>去掉左边空格</td>
</tr>

<tr>
<td>chomp</td>
<td>去掉最后换行符</td>
<td>upcase</td>
<td>大写</td>
</tr>

<tr>
<td>Chop</td>
<td>山区最后字符</td>
<td>downcase</td>
<td>小写</td>
</tr>

<tr>
<td>swapcase</td>
<td>大小写转换</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<h3 id="获取">获取</h3>

<pre><code>str=&quot;Philippian&quot;
puts &quot;第二个字符为&quot;+str[1]
puts &quot;二到六字符为&quot;+str[1..5]
puts &quot;第二个字符的ASCII值是&quot;+str[1].ord.to_s
puts &quot;从第5个字符开始往后的三个字符&quot;+str[4,3]
</code></pre>

<blockquote>
<p>第二个字符为h<br />
 二到六字符为hilip<br />
 第二个字符的ASCII值是104<br />
 从第5个字符开始往后的三个字符ipp</p>
</blockquote>

<h3 id="比较">比较</h3>

<pre><code>a=String.new
a=&quot;good&quot;
b=a #a b指向同一内存
c=&quot;good&quot;  #c与ab不同
puts a==b #ab内容相同
puts a.eql?b #ab内容相同
puts a==c #ac内容相同
puts a.eql?c #ac内容相同
puts a.equal?c #ac不是同一对象
puts a.equal?b #ab是同一对象
</code></pre>

<blockquote>
<p>true<br />
 true<br />
 true<br />
 true<br />
 false<br />
 true</p>
</blockquote>

<p>比较大小<br />
使用<code>&lt;=&gt;</code> 符号比较字符串大小，表达式的结果和含义如下：</p>

<table>
<thead>
<tr>
<th>结果</th>
<th>含义</th>
</tr>
</thead>

<tbody>
<tr>
<td>-1</td>
<td>右边字符串大</td>
</tr>

<tr>
<td>0</td>
<td>相同</td>
</tr>

<tr>
<td>1</td>
<td>左边字符串大</td>
</tr>
</tbody>
</table>

<h2 id="6-3-hash">6.3 Hash</h2>

<p>创建Hash对象。形式为 <code>key=&gt;value</code></p>

<pre><code>student={
    &quot;num&quot;=&gt;&quot;11001101110&quot;
    &quot;name&quot;=&gt;&quot;Philippian&quot;
    &quot;sex&quot;=&gt;&quot;m&quot;
    &quot;major&quot;=&gt;&quot;computer science&quot;
}
</code></pre>

<p>或者：</p>

<pre><code>student=Hash.new
student[&quot;num&quot;]=&quot;11001101110&quot;
student[&quot;name&quot;]=&quot;Philippian&quot;
</code></pre>

<p>常用方法：</p>

<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>size() length()</td>
<td>Hash对象长度</td>
</tr>

<tr>
<td>include?(key) has_key?(key)</td>
<td>是否包含某个key</td>
</tr>

<tr>
<td>delete(key)</td>
<td>删除指定元素</td>
</tr>

<tr>
<td>keys()</td>
<td>得到全部key组成的数组</td>
</tr>

<tr>
<td>values()</td>
<td>得到全部value组成的数组</td>
</tr>
</tbody>
</table>

<p>迭代器</p>

<table>
<thead>
<tr>
<th>迭代方法</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>each</td>
<td>输出全部元素 key和value</td>
</tr>

<tr>
<td>each_key</td>
<td>输出所有key</td>
</tr>

<tr>
<td>each_value</td>
<td>输出所有value</td>
</tr>

<tr>
<td>each_pair</td>
<td>输出所有key-value对</td>
</tr>
</tbody>
</table>

<h2 id="6-4-数组">6.4 数组</h2>

<p>两种方式创建数组：<br />
1</p>

<pre><code>stu_name=[&quot;小明&quot;,&quot;小强&quot;,&quot;小刚&quot;,&quot;小红&quot;,&quot;小芳&quot;]
</code></pre>

<p>2</p>

<pre><code>stu_name=Array.new
stu_name[0]=&quot;小明&quot;
stu_name[1]=&quot;小强&quot;
</code></pre>

<p>取元素：</p>

<pre><code>stu_name=[&quot;小明&quot;,&quot;小强&quot;,&quot;小刚&quot;,&quot;小红&quot;,&quot;小芳&quot;]
puts stu_name[-2] #倒数第二个
puts stu_name[2] #正数第三个
</code></pre>

<blockquote>
<p>小红<br />
 小刚</p>
</blockquote>

<p>增删元素</p>

<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>unshift()</td>
<td>头部添加数组元素</td>
</tr>

<tr>
<td>push()</td>
<td>尾部添加数组元素</td>
</tr>

<tr>
<td>&lt;&lt;</td>
<td>尾部添加 <strong>一个</strong> 数组元素</td>
</tr>

<tr>
<td>shift()</td>
<td>头部删除</td>
</tr>

<tr>
<td>pop()</td>
<td>尾部删除</td>
</tr>
</tbody>
</table>

<p>组合与截取</p>

<pre><code>stu_name1=[&quot;小明&quot;,&quot;小强&quot;,&quot;小刚&quot;]
stu_name2=[&quot;小红&quot;,&quot;小芳&quot;]
stu_name1.concat(stu_name2) #将第二个数组加到第一个里面
puts stu_name1
puts &quot;------&quot;
puts stu_name1[2..4] #截取第三个到第五个
</code></pre>

<blockquote>
<p>小明<br />
 小强<br />
 小刚<br />
 小红<br />
 小芳<br />
 ——<br />
 小刚<br />
 小红<br />
 小芳</p>
</blockquote>

<h1 id="7-类-对象-方法">7. 类,对象,方法</h1>

<h2 id="7-1-类">7.1 类</h2>

<p>注意：<br />
1. 类的定义<br />
2. 表达式的执行<br />
3. 方法定义<br />
4. <code>self</code> 关键字<br />
5. 创建对象<br />
6. 对象调用方法</p>

<pre><code>class Man #类的名字首字母大写
    puts &quot;I am a man&quot; #表达式直接执行
    puts self.class #self关键字指自己，此时self为类
    def sayName name #定义方法，方法名后面是参数
        puts &quot;my name is &quot;+name.to_s
        puts self.class 
        #self关键字指自己，此时为Man创建的对象
    end
end
stu1=Man.new #创建对象
stu1.sayName(&quot;Philippian&quot;) #调用方法
</code></pre>

<blockquote>
<p>I am a man<br />
 Class<br />
 my name is Philippian<br />
 Man</p>
</blockquote>

<h3 id="7-1-1-追加类">7.1.1 追加类</h3>

<p>名字相同的类自动合并</p>

<pre><code>class Student
    def sayName name
        puts &quot;my name is &quot;+name
    end
end
class Student
    def sayAge age
        puts &quot;my age is &quot;+age.to_s
    end
end
Phi=Student.new
Phi.sayAge 18
Phi.sayName &quot;Philippian&quot;
</code></pre>

<blockquote>
<p>my age is 18<br />
 my name is Philippian</p>
</blockquote>

<h3 id="7-1-2-嵌套类">7.1.2 嵌套类</h3>

<p>也叫内部类，使用内部类用<code>::</code></p>

<pre><code>class Student
    def sayName name
        puts &quot;My name is &quot;+name
    end
    class Homework
        def doHomework
            puts &quot;I did my Homework&quot;
        end
    end
end
he=Student.new
he.sayName &quot;Philippian&quot;
math=Student::Homework.new
math.doHomework
</code></pre>

<blockquote>
<p>My name is Philippian<br />
 I did my Homework</p>
</blockquote>

<h3 id="7-1-3-特殊类">7.1.3 特殊类</h3>

<p>专门为某个对象添加的类</p>

<pre><code>class Student
    def sayName name
        puts &quot;My name is &quot;+name
    end
end
he=Student.new
he.sayName &quot;Philippian&quot;
class &lt;&lt;  he #特殊类
    def singSong song_name
        puts &quot;I sang a song, its name is &quot;+song_name
    end
end
he.singSong &quot;我有一只小毛驴&quot;
</code></pre>

<blockquote>
<p>My name is Philippian<br />
 I sang a song, its name is 我有一只小毛驴</p>
</blockquote>

<h2 id="7-2-方法">7.2 方法</h2>

<h3 id="7-2-1-默认参数">7.2.1 默认参数</h3>

<pre><code>class Student
    def saySomething sentences=&quot;I am a Student&quot; #设置默认参数的值
        puts sentences
    end
end
he=Student.new
he.saySomething #没有参数时候
he.saySomething &quot;I want to have a holiday!&quot; #有的参数值时候
</code></pre>

<blockquote>
<p>I am a Student<br />
 I want to have a holiday!</p>
</blockquote>

<h3 id="7-2-2-返回值">7.2.2 返回值</h3>

<pre><code>class Xiaoming
    def sayName
        &quot;Xiaoming&quot;
    end
    def sayAge
        return 19
    end
end
xiaoming=Xiaoming.new
puts xiaoming.sayName
puts xiaoming.sayAge.to_s
</code></pre>

<blockquote>
<p>Xiaoming<br />
 19</p>
</blockquote>

<h3 id="7-2-3-特殊方法">7.2.3 特殊方法</h3>

<pre><code>class Student
    def sayName name
        puts &quot;My name is &quot;+name
    end
end
he=Student.new
he.sayName &quot;Philippian&quot;
def he.sayAge age #特殊方法
    puts &quot;My age is &quot;+age.to_s
end
he.sayAge 18
</code></pre>

<blockquote>
<p>Xiaoming<br />
 19</p>
</blockquote>

<h3 id="7-2-4-类方法">7.2.4 类方法</h3>

<pre><code>class Student
    def Student.sayClass
        puts self.class
    end
end
Student.sayClass
</code></pre>

<blockquote>
<p>Class</p>
</blockquote>

<h3 id="7-2-5-构造方法">7.2.5 构造方法</h3>

<p>构造方法名字为<code>initialize</code> ，当调用new方法创建对象的时候，自动调用<code>initialize</code> 初始化</p>

<pre><code>class Student
    def initialize name,age
        @name=name
        @age=age
    end
    def show
        puts &quot;My name is #{@name}, My age is #{@age}&quot;
    end
end
he=Student.new &quot;Philippian&quot;,19
he.show
</code></pre>

<blockquote>
<p>My name is Philippian, My age is 19</p>
</blockquote>

<h2 id="7-3-变量与属性">7.3 变量与属性</h2>

<h3 id="7-3-1-实例变量">7.3.1 实例变量</h3>

<p>实例变量 <strong>用于在类内部共享数据</strong> 。 变量名以<code>@</code> 开头。<br />
可以在以下几个地方声明实例变量：</p>

<ul>
<li>顶层和顶层方法，</li>
<li>类和类方法，</li>
<li>模块和模块方法</li>
</ul>

<table>
<thead>
<tr>
<th>定义位置</th>
<th>作用域</th>
</tr>
</thead>

<tbody>
<tr>
<td>顶层</td>
<td>顶层表达式和顶层函数</td>
</tr>

<tr>
<td>类、模块</td>
<td>当前类，当前模块</td>
</tr>

<tr>
<td>类方法</td>
<td>当前类下所有方法</td>
</tr>
</tbody>
</table>

<h3 id="7-3-2-类变量">7.3.2 类变量</h3>

<p>类变量用于在 <strong>各个类之间</strong> 共享数据。允许定义位置与实例变量相同<br />
类变量以<code>@@</code> 开头</p>

<h3 id="7-3-3-属性">7.3.3 属性</h3>

<p>属性设置器和读取器</p>

<pre><code>class Student
    @university
    def setUniversity=(val)
        @university=val
    end
    def university
        @university
    end
end
he=Student.new
he.setUniversity=&quot;SYSU&quot;
puts he.university
</code></pre>

<blockquote>
<p>SYSU</p>
</blockquote>

<p>声明属性的标识符</p>

<table>
<thead>
<tr>
<th>标识符</th>
<th>示例</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>attr</td>
<td><code>attr:attr1,key</code></td>
<td>key值false时为 <strong>只读</strong></td>
</tr>

<tr>
<td>attr_reader</td>
<td><code>attr_reader: attr1,attr2</code></td>
<td>一个或多个 <strong>只读</strong> 属性</td>
</tr>

<tr>
<td>attr_writer</td>
<td><code>attr_writer: attr1,attr2</code></td>
<td>一个或多个 <strong>只写</strong> 属性</td>
</tr>

<tr>
<td>attr_accessor</td>
<td><code>attr_accessor: attr1,attr2</code></td>
<td>一个或多个 <strong>可读写</strong> 属性</td>
</tr>
</tbody>
</table>

<h2 id="7-4-类的继承">7.4 类的继承</h2>

<pre><code>class Animal
    def eat
        puts &quot;I can eat&quot;
    end
    def breathe
        puts &quot;I can breathe&quot;
    end
end
class Dog&lt;Animal #继承
    def run #Dog类自己的方法
        puts &quot;I am a dog, I can run&quot;
    end
    def eat #重写父类的方法
        puts &quot;I am a dog, I like eating bone&quot;
    end
end
wangwang=Dog.new
wangwang.eat
wangwang.breathe
wangwang.run
</code></pre>

<blockquote>
<p>I am a dog, I like eating bone<br />
 I can breathe<br />
 I am a dog, I can run</p>
</blockquote>

<p>访问父类构造方法</p>

<pre><code>class Student
    def initialize (name, age)
        @name=name
        @age=age
    end
    def saySomething
        puts &quot;I can say something&quot;
    end
end
class UniversityStudent&lt;Student
    def initialize stu_num
        @stu_num=stu_num
        super(&quot;Philippian&quot;, 18) #super关键字访问父类构造方法
    end
    def show
        puts &quot;My name is #{@name}, my age is#{@age}, \nmy student numbe is #{@stu_num}&quot;
    end
end
he=UniversityStudent.new 1111111111
he.saySomething
he.show
</code></pre>

<blockquote>
<p>I can say something<br />
 My name is Philippian, my age is18,<br />
 my student numbe is 1111111111</p>
</blockquote>

<h2 id="7-5-作用域">7.5 作用域</h2>

<table>
<thead>
<tr>
<th>访问保护</th>
<th>名称</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>private</td>
<td>私有方法</td>
<td>方法指定成员只能被类内部访问，对类外部不可见</td>
</tr>

<tr>
<td>protected</td>
<td>保护方法</td>
<td>可以被隶属的子类访问</td>
</tr>

<tr>
<td>public</td>
<td>共有方法</td>
<td>没有访问限制</td>
</tr>
</tbody>
</table>

<p>两种方法定义访问级别<br />
1. 使用无参数的方法</p>

<pre><code>class Animal
    def eat #默认public
        puts &quot;I can eat&quot;
    end

    public #定义为公有方法
    def drink
        puts &quot;I can drink&quot;
    end

    private #定义为私有方法
    def breathe 
        puts &quot;I can breathe&quot;
    end

    protected #定义为保护方法
    def run
        puts &quot;I can run&quot;
    end
end
</code></pre>

<p>‘2. 使用参数指定成员</p>

<pre><code>class Animal
    def eat
        puts &quot;I can eat&quot;
    end

    def run
        puts &quot;I can run&quot;
    end

    def breathe
        puts &quot;I can breathe&quot;
    end

    private(:eat) #定义为私有方法
    protected(:breathe,:run)#定义为保护方法
end
</code></pre>

<h2 id="7-6-代码块">7.6 代码块</h2>

<p>用<code>{ }</code> 或者 <code>do...end</code> 创建代码块，用<code>yield</code> 传入代码块</p>

<pre><code>def saySomething
    puts &quot;This is the 1st in method&quot;
    yield
    puts &quot;This is the 2nd in method&quot;
end
saySomething do
    puts &quot;This is in a block&quot;
end

saySomething{
    puts &quot;This is in a block too&quot;
}
</code></pre>

<blockquote>
<p>This is the 1st in method<br />
 This is in a block<br />
 This is the 2nd in method<br />
 This is the 1st in method<br />
 This is in a block too<br />
 This is the 2nd in method</p>
</blockquote>

<p>此外，代码块还可以有参数、返回值等。</p>

<p>转载于:<a href="https://www.cnblogs.com/heenhui2016/p/6013070.html">https://www.cnblogs.com/heenhui2016/p/6013070.html</a></p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a></li>
        
        <li><a href="/posts/051rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%981hellorails/">051RubyonRails學習筆記1Hellorails</a></li>
        
        <li><a href="/posts/053rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%986%E9%87%8D%E6%A7%8B%E5%88%AA%E9%99%A4%E7%95%99%E8%A8%80%E5%AE%89%E5%85%A8/">053RubyonRails學習筆記6重構刪除留言安全</a></li>
        
        <li><a href="/posts/055rubyonrails%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%987carrierwaveimplementation/">055RubyonRails學習筆記7CarrierwaveImplementation</a></li>
        
        <li><a href="/posts/065rubyonrails%E7%AD%86%E8%A8%9810showtargetinfoongooglemaps/">065Rubyonrails筆記10showtargetinfoongooglemaps</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/ruby'>ruby</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>