<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>CentOS基础知识Shell基础bash的变量1212 | 开发者问答集锦</title>
    <meta property="og:title" content="CentOS基础知识Shell基础bash的变量1212 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="CentOS基础知识Shell基础bash的变量1212">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/centos%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86shell%E5%9F%BA%E7%A1%80bash%E7%9A%84%E5%8F%98%E9%87%8F1212/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">CentOS基础知识Shell基础bash的变量1212</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h2 id="笔记">笔记</h2>

<p><strong>一、用户自定义变量</strong><br />
1.什么是变量：<br />
变量是计算机内存的单元，其中存放的值可以改变。当Shell脚本需要保存一些信息时，如一个文件名或是一个数字，就把它存放在一个变量中。每个变量有一个名字，所以很容易引用它。使用变量可以保存有用信息，使系统获知用户相关设置，变量也可以用于保存暂时信息。<br />
2.变量设置规则：<br />
变量名称可以由字母、数字和下划线组成，但是不能以数字开头。如果变量名是<br />
“2name”则是错误的。<br />
在Bash中，变量的默认类型都是字符串型，如果要进行数值运算，则必修指定变量类型为数值型。<br />
变量用等号连接值，等号左右两侧不能有空格。<br />
变量的值如果有空格，需要使用单引号或双引号包括。<br />
在变量的值中，可以使用“\”转义符。<br />
如果需要增加变量的值，那么可以进行变量值的叠加。不过变量需要用双引号包含“ 变 量 名 ” 或 用 变量名”或用 变量名”或用{变量名}包含。<br />
如果是把命令的结果作为变量值赋予变量，则需要使用反引号或$()包含命令。<br />
环境变量名建议大写，便于区分。<br />
3.变量分类：<br />
用户自定义变量（本地变量）<br />
环境变量：这种变量中主要保存的是和系统操作环境相关的数据。<br />
位置参数变量：这种变量主要是用来向脚本当中传递参数或数据的，变量名不能自定义，变量作用是固定的。<br />
预定义变量：是Bash中已经定义好的变量，变量名不能自定义，变量作用也是固定的。</p>

<pre><code>变量定义：
[root@localhost ~]# name=&quot;hello world&quot;
变量叠加：
[root@localhost ~]# number=123
[root@localhost ~]# echo $number
123
[root@localhost ~]# number=&quot;$number&quot;456
[root@localhost ~]# echo $number
123456
[root@localhost ~]# number=${number}789
[root@localhost ~]# echo $number
123456789
变量调用：
[root@localhost ~]# echo $name
hello world
变量查看：
[root@localhost ~]# set
变量删除：
[root@localhost ~]# unset name
</code></pre>

<p><strong>二、环境变量</strong><br />
1、环境变量是什么<br />
用户自定义变量只在当前的Shell中生效，而环境变量会在当前Shell和这个Shell的所有子Shell当中生效。如果把环境变量写入相应的配置文件，那么这个环境变量就会在所有的Shell中生效。<br />
2、设置环境变量<br />
export 变量名=变量值<br />
#申明变量<br />
env<br />
#查询变量<br />
unset 变量名<br />
#删除变量<br />
3.系统常见的环境变量</p>

<pre><code>[root@localhost ~]# echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin

PATH=&quot;$PATH&quot;:/root/sh
#PATH变量叠加



PS1：定义系统提示符的变量
\d：显示日期，格式为“星期 月 日”
\h：显示简写主机名。如默认主机名“localhost” \t：显示24小时制时间，格式为“HH:MM:SS” \T：显示12小时制时间，格式为“HH:MM:SS” \A：显示24小时制时间，格式为“HH:MM” \u：显示当前用户名
\w：显示当前所在目录的完整名称
\W：显示当前所在目录的最后一个目录
\#：执行的第几个命令
\$：提示符。如果是root用户会显示提示符为“#”，如果是普通用户会显示提示符为“$

本机shell登录修改/etc/issue

[root@localhost ~]# echo $PS1
[root@04:20 下午 localhost 97~]$PS1='[\u@\t \w]\$ '
[root@16:31:07 ~]# PS1='[\u@\@ \h \# \W]\$'
[root@04:31 下午 localhost 99 ~]#PS1='[\u@\h \W]\$ '
[root@localhost ~]# echo $PS1
</code></pre>

<p><strong>三、位置参数变量</strong></p>

<pre><code>$n   n为数字，$0代表命令本身，$1-$9代表第一到第九个参数，十以上的参数需要用大括号包含，如${10}.
$*   这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体
$@   这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待
$#   这个变量代表命令行中所有参数的个数



vim test.sh
#!/bin/bash
num1=$1
num2=$2
sum=$(( $1 + $2))
echo $sum

echo &quot;A total of $# parameters&quot;
#使用$#代表所有参数的个数
echo &quot;The parameters is: $*&quot;
#使用$*代表所有的参数
echo &quot;The parameters is: $@&quot;
#使用$@也代表所有参数
[root@localhost sh]# ./test.sh 123 456
579
A total of 2 parameters
The parameters is: 123 456
The parameters is: 123 456

#!/bin/bash
for i in &quot;$*&quot;
#$*中的所有参数看成是一个整体，所以这个for循环只会循环一次
 do
 echo &quot;The parameters is: $i&quot;
 done
x=1
for y in &quot;$@&quot;
#$@中的每个参数都看成是独立的，所以“$@”中有几个参数，就会循环几次
 do
 echo &quot;The parameter$x is: $y&quot;
 x=$(( $x +1 ))
 done
[root@localhost sh]# ./test.sh 1 2 3 
The parameters is: 1 2 3
The parameter1 is: 1
The parameter2 is: 2
The parameter3 is: 3
</code></pre>

<p><strong>四、预定义变量</strong></p>

<pre><code>$?   最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。
$$   当前进程的进程号（PID）
$!   后台运行的最后一个进程的进程号（PID）



[root@localhost ~]# read [选项] [变量名]
选项：
-p “提示信息”：在等待read输入时，输出提示信息
-t 秒数： read命令会一直等待用户输入，使用此选项可以指定等待时间
-n 字符数： read命令只接受指定的字符数，就会执行
-s： 隐藏输入的数据，适用于机密信息的输入
#!/bin/bash
read -t 30 -p &quot;Please input your name: &quot; name
#提示“请输入姓名”并等待30秒，把用户的输入保存入变量name中
echo &quot;Name is $name &quot;
read -s -t 30 -p &quot;Please enter your age: &quot; age
#年龄是隐私，所以我们用“-s”选项隐藏输入
echo -e &quot;\n&quot;
echo &quot;Age is $age &quot;
read -n 1 -t 30 -p &quot;Please select your gender[M/F]: &quot; gender
#使用“-n 1”选项只接收一个输入字符就会执行（都不用输入回车）
echo -e &quot;\n&quot;
echo &quot;Sex is $gender&quot;
[root@localhost sh]# ./ydy.sh 
Please input your name: wx
Name is xx 
Please enter your age: 
Age is 18 
Please select your gender[M/F]: m
Sex is m
</code></pre>

<p><strong>五、数值运算与运算符</strong></p>

<pre><code>声明变量类型（不常用）
[root@localhost ~]# declare [+/-][选项] 变量名
选项：
-： 给变量设定类型属性
+： 取消变量的类型属性
-i： 将变量声明为整数型（integer） 
-x： 将变量声明为环境变量
-p： 显示指定变量的被声明的类型

数值运算1
[root@localhost sh]# a=1
[root@localhost sh]# b=2
[root@localhost sh]# declare -i c=$a+$b
[root@localhost sh]# echo $c
3
数值运算2
[root@localhost sh]# d=$(expr $a + $b)
[root@localhost sh]# echo $d
3
数值运算3
[root@localhost sh]# e=$(($a+$b))
[root@localhost sh]# echo $e
3
[root@localhost sh]# g=$[$a+$b]
[root@localhost sh]# echo $g
3
</code></pre>

<p>运算符：<br />
<a href="https://img.it610.com/image/info8/5515820b323549f4a0132910cc720fc6.jpg"><img src="https://img.it610.com/image/info8/5515820b323549f4a0132910cc720fc6.jpg" alt="CentOS 基础知识
Shell基础、bash的变量1-21-2_第1张图片" /></a></p>

<pre><code>[root@localhost sh]# a=$(((3+2)*3/2))
[root@localhost sh]# echo $a
7
[root@localhost sh]# b=$((14%3))
[root@localhost sh]# echo $b
2
[root@localhost sh]# c=$((1 &amp;&amp; 0))
[root@localhost sh]# echo $c
0
</code></pre>

<p><strong>六、变量测试与内容替换</strong><br />
<a href="https://img.it610.com/image/info8/59f5362648cd4ea8ae18760c73858dc1.jpg"><img src="https://img.it610.com/image/info8/59f5362648cd4ea8ae18760c73858dc1.jpg" alt="CentOS 基础知识
Shell基础、bash的变量1-21-2_第2张图片" /></a></p>

<pre><code>x=${y-新值}
[root@localhost sh]# unset y
[root@localhost sh]# x=${y-zhi}
[root@localhost sh]# echo $x
zhi

[root@localhost sh]# y=&quot; &quot;
[root@localhost sh]# x=${y-zhi1}
[root@localhost sh]# echo $x
空

[root@localhost sh]# y=zhi2
[root@localhost sh]# x=${y-zhi1}
[root@localhost sh]# echo $x
zhi2
</code></pre>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>