<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Impalashell命令参数 | 开发者问答集锦</title>
    <meta property="og:title" content="Impalashell命令参数 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="Impalashell命令参数">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/impalashell%E5%91%BD%E4%BB%A4%E5%8F%82%E6%95%B0/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Impalashell命令参数</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h3 id="impala-shell外部命令">impala-shell外部命令：</h3>

<p>所谓的外部命令指的是不需要进入到impala-shell交互命令行当中即可执行的命令参数。impala-shell后面执行的时候可以带很多参数。你可以在启动
impala-shell 时设置，用于修改命令执行环境。</p>

<p><code>impala-shell –h</code>可以帮助我们查看帮助手册。也可以参考课程附件资料。</p>

<p>比如几个常见的：</p>

<p><code>impala-shell –r</code>刷新impala元数据，与建立连接后执行 REFRESH 语句效果相同</p>

<p><code>impala-shell –f</code><code>文件路径</code>执行指的的sql查询文件。</p>

<p><code>impala-shell –i</code>指定连接运行 impalad 守护进程的主机。默认端口是 21000。你可以连接到集群中运行 impalad 的任意主机。</p>

<p><code>impala-shell –o</code>保存执行结果到文件当中去。</p>

<p><a href="https://img.it610.com/image/info8/822056c1c90b40d48d4492d2abaa640f.jpg"><img src="https://img.it610.com/image/info8/822056c1c90b40d48d4492d2abaa640f.jpg" alt="Impala-
shell命令参数_第1张图片" /></a></p>

<h3 id="impala-shell-内部命令">impala-shell 内部命令：</h3>

<p>所谓内部命令是指，进入impala-shell命令行之后可以执行的语法。</p>

<p><a href="https://img.it610.com/image/info8/a8ac8465d9d54f21833020f0e0a64448.jpg"><img src="https://img.it610.com/image/info8/a8ac8465d9d54f21833020f0e0a64448.jpg" alt="Impala-
shell命令参数_第2张图片" /></a></p>

<p><code>connect hostname</code>连接到指定的机器impalad上去执行。</p>

<p><a href="https://img.it610.com/image/info8/81d7a57e5268441b90e656a3bd302cca.jpg"><img src="https://img.it610.com/image/info8/81d7a57e5268441b90e656a3bd302cca.jpg" alt="Impala-
shell命令参数_第3张图片" /></a></p>

<p><code>refresh dbname.tablename</code>增量刷新，刷新某一张表的元数据，主要用于刷新hive当中数据表里面的数据改变的情况</p>

<p><a href="https://img.it610.com/image/info8/a12707bab03740c1a89264aa7159552f.jpg"><img src="https://img.it610.com/image/info8/a12707bab03740c1a89264aa7159552f.jpg" alt="" /></a></p>

<p><code>invalidate metadata</code>全量刷新，性能消耗较大，主要用于hive当中新建数据库或者数据库表的时候来进行刷新。</p>

<p><code>quit/exit</code><code>命令</code> 从Impala shell中弹出</p>

<p><code>explain</code><code>命令</code>用于查看sql语句的执行计划</p>

<p><a href="https://img.it610.com/image/info8/5176fffa892e46029c644ddac46a3c70.jpg"><img src="https://img.it610.com/image/info8/5176fffa892e46029c644ddac46a3c70.jpg" alt="Impala-
shell命令参数_第4张图片" /></a></p>

<p>explain的值可以设置成0,1,2,3等几个值，其中3级别是最高的，可以打印出最全的信息</p>

<p><code>set explain_level=3;</code></p>

<p><code>profile</code><code>命令</code>执行sql语句之后执行，可以</p>

<p>打印出更加详细的执行步骤，主要用于查询结果的查看，集群的调优等。</p>

<p><a href="https://img.it610.com/image/info8/b347fc87dfc44325a9b1849f2dcafd9d.jpg"><img src="https://img.it610.com/image/info8/b347fc87dfc44325a9b1849f2dcafd9d.jpg" alt="Impala-
shell命令参数_第5张图片" /></a></p>

<p><strong>注意</strong> :如果在hive窗口中插入数据或者新建的数据库或者数据库表，那么在impala当中是不可直接查询，需要执行invalidate
metadata以通知元数据的更新；</p>

<p>在impala-
shell当中插入的数据，在impala当中是可以直接查询到的，不需要刷新数据库，其中使用的就是catalog这个服务的功能实现的，catalog是impala1.2版本之后增加的模块功能，主要作用就是同步impala之间的元数据。</p>

<p>更新操作通知Catalog，Catalog通过广播的方式通知其它的Impalad进程。默认情况下Catalog是异步加载元数据的，因此查询可能需要等待元数据加载完成之后才能进行（第一次加载）。</p>

<h3 id="impala-sql-语法">Impala sql 语法：</h3>

<p><strong>数据库特定语句：</strong></p>

<p><strong>创建数据库：</strong></p>

<hr />

<p>CREATE DATABASE语句用于在Impala中创建新数据库。</p>

<p><code>CREATE DATABASE IF NOT EXISTS database_name;</code></p>

<p>这里，IF NOT EXISTS是一个可选的子句。如果我们使用此子句，则只有在没有具有相同名称的现有数据库时，才会创建具有给定名称的数据库。</p>

<p><a href="https://img.it610.com/image/info8/2e1a06740d5240be82497d94a6f30a6f.jpg"><img src="https://img.it610.com/image/info8/2e1a06740d5240be82497d94a6f30a6f.jpg" alt="" /></a></p>

<p>impala默认使用impala用户执行操作，会报权限不足问题，解决办法：</p>

<p>一：给HDFS指定文件夹授予权限</p>

<p><code>hadoop fs -chmod -R 777 hdfs://node-1:9000/user/hive</code></p>

<p>二：haoop 配置文件中hdfs-site.xml 中设置权限为false</p>

<p><a href="https://img.it610.com/image/info8/10ee274bc1844178b3c369cf198c95cf.jpg"><img src="https://img.it610.com/image/info8/10ee274bc1844178b3c369cf198c95cf.jpg" alt="" /></a></p>

<p>上述两种方式都可以。</p>

<p><a href="https://img.it610.com/image/info8/6870b601148a4d5f88b6073d4a17aa11.jpg"><img src="https://img.it610.com/image/info8/6870b601148a4d5f88b6073d4a17aa11.jpg" alt="Impala-
shell命令参数_第6张图片" /></a></p>

<p>默认就会在hive的数仓路径下创建新的数据库名文件夹</p>

<p><code>/user/hive/warehouse/ittest.db</code></p>

<p>也可以在创建数据库的时候指定hdfs路径。需要注意该路径的权限。</p>

<p><code>hadoop fs -mkdir -p /input/impala</code></p>

<p><code>hadoop fs -chmod -R 777 /input/impala</code></p>

<blockquote>
<p><code>create external table t3(id int ,name string ,age int ) row format
delimited fields terminated by '\t' location '/input/impala/external';</code></p>
</blockquote>

<p><a href="https://img.it610.com/image/info8/b9117c5eaa3b4241b0862acb80110712.jpg"><img src="https://img.it610.com/image/info8/b9117c5eaa3b4241b0862acb80110712.jpg" alt="" /></a></p>

<p><strong>删除数据库：</strong></p>

<p>Impala的DROP DATABASE语句用于从Impala中删除数据库。 在删除数据库之前，建议从中删除所有表。</p>

<p>如果使用级联删除，Impala会在删除指定数据库中的表之前删除它。</p>

<p>DROP database sample cascade;</p>

<p><a href="https://img.it610.com/image/info8/07b0985d021847fc8be662ed9aab885d.jpg"><img src="https://img.it610.com/image/info8/07b0985d021847fc8be662ed9aab885d.jpg" alt="" /></a></p>

<p><a href="https://img.it610.com/image/info8/b3b0666aa96d4554b2c34bcd7630d5af.jpg"><img src="https://img.it610.com/image/info8/b3b0666aa96d4554b2c34bcd7630d5af.jpg" alt="" /></a></p>

<p><strong>表特定语句：</strong></p>

<p>CREATE TABLE语句用于在Impala中的所需数据库中创建新表。 需要指定表名字并定义其列和每列的数据类型。</p>

<p>impala支持的数据类型和hive类似，除了sql类型外，还支持java类型。</p>

<blockquote>
<p>create table IF NOT EXISTS database_name.table_name (</p>

<p>column1 data_type,</p>

<p>column2 data_type,</p>

<p>column3 data_type,</p>

<p>………</p>

<p>columnN data_type</p>

<p>);</p>
</blockquote>

<p><code>CREATE TABLE IF NOT EXISTS my_db.student(name STRING, age INT, contact INT
);</code></p>

<p><a href="https://img.it610.com/image/info8/2fbdd538f94a4d6193f4f20f73853108.jpg"><img src="https://img.it610.com/image/info8/2fbdd538f94a4d6193f4f20f73853108.jpg" alt="" /></a></p>

<p>默认建表的数据存储路径跟hive一致。也可以在建表的时候通过location指定具体路径，需要注意hdfs权限问题。</p>

<p><a href="https://img.it610.com/image/info8/64e341c10a4e4d71ba482b86e861c7c2.jpg"><img src="https://img.it610.com/image/info8/64e341c10a4e4d71ba482b86e861c7c2.jpg" alt="Impala-
shell命令参数_第7张图片" /></a></p>

<p><strong>insert语句：</strong></p>

<p>Impala的INSERT语句有两个子句: into和overwrite。into用于插入新记录数据，overwrite用于覆盖已有的记录。</p>

<blockquote>
<p>insert into table_name (column1, column2, column3,&hellip;columnN)</p>

<p>values (value1, value2, value3,&hellip;valueN);</p>

<p>Insert into table_name values (value1, value2, value2);</p>
</blockquote>

<p>这里，column1，column2，&hellip;
columnN是要插入数据的表中的列的名称。还可以添加值而不指定列名，但是，需要确保值的顺序与表中的列的顺序相同。</p>

<p>举个例子：</p>

<p>create table employee (Id INT, name STRING, age INT,address STRING, salary
BIGINT);</p>

<p>insert into employee VALUES (1, &lsquo;Ramesh&rsquo;, 32, &lsquo;Ahmedabad&rsquo;, 20000 );</p>

<p>insert into employee values (2, &lsquo;Khilan&rsquo;, 25, &lsquo;Delhi&rsquo;, 15000 );</p>

<p>Insert into employee values (3, &lsquo;kaushik&rsquo;, 23, &lsquo;Kota&rsquo;, 30000 );</p>

<p>Insert into employee values (4, &lsquo;Chaitali&rsquo;, 25, &lsquo;Mumbai&rsquo;, 35000 );</p>

<p>Insert into employee values (5, &lsquo;Hardik&rsquo;, 27, &lsquo;Bhopal&rsquo;, 40000 );</p>

<p>Insert into employee values (6, &lsquo;Komal&rsquo;, 22, &lsquo;MP&rsquo;, 32000 );</p>

<p><a href="https://img.it610.com/image/info8/1a157e6d34cd4b8f8a43541303faed9e.jpg"><img src="https://img.it610.com/image/info8/1a157e6d34cd4b8f8a43541303faed9e.jpg" alt="Impala-
shell命令参数_第8张图片" /></a></p>

<p>overwrite覆盖子句覆盖表当中 <strong>全部记录</strong> 。 覆盖的记录将从表中永久删除。</p>

<p>Insert overwrite employee values (1, &lsquo;Ram&rsquo;, 26, &lsquo;Vishakhapatnam&rsquo;, 37000 );</p>

<p><a href="https://img.it610.com/image/info8/ae65cfcb434c4ee98c6a7de08a0d7e16.jpg"><img src="https://img.it610.com/image/info8/ae65cfcb434c4ee98c6a7de08a0d7e16.jpg" alt="" /></a></p>

<p><strong>select语句：</strong></p>

<p>Impala SELECT语句用于从数据库中的一个或多个表中提取数据。 此查询以表的形式返回数据。</p>

<p><a href="https://img.it610.com/image/info8/d616e62efef1464bb2b724d0bc44ae65.jpg"><img src="https://img.it610.com/image/info8/d616e62efef1464bb2b724d0bc44ae65.jpg" alt="Impala-
shell命令参数_第9张图片" /></a></p>

<p><strong>describe 语句：</strong></p>

<p>Impala中的describe语句用于提供表的描述。 此语句的结果包含有关表的信息，例如列名称及其数据类型。</p>

<p>Describe table_name;</p>

<p><a href="https://img.it610.com/image/info8/af60a1ae0fe044d58b01209d16516a6c.jpg"><img src="https://img.it610.com/image/info8/af60a1ae0fe044d58b01209d16516a6c.jpg" alt="Impala-
shell命令参数_第10张图片" /></a></p>

<p>此外，还可以使用hive的查询表元数据信息语句。</p>

<p>desc formatted table_name;</p>

<p><a href="https://img.it610.com/image/info8/7209ecd998544cf29aee0b20eda221c8.jpg"><img src="https://img.it610.com/image/info8/7209ecd998544cf29aee0b20eda221c8.jpg" alt="Impala-
shell命令参数_第11张图片" /></a></p>

<p><strong>alter table：</strong></p>

<p>Impala中的Alter table语句用于对给定表执行更改。使用此语句，我们可以添加，删除或修改现有表中的列，也可以重命名它们。</p>

<p>表重命名：</p>

<p>ALTER TABLE [old_db_name.]old_table_name RENAME TO</p>

<p>[new_db_name.]new_table_name</p>

<p>向表中添加列 <strong>：</strong></p>

<p>ALTER TABLE name ADD COLUMNS (col_spec[, col_spec &hellip;])</p>

<p>从表中删除列：</p>

<p>ALTER TABLE name DROP [COLUMN] column_name</p>

<p>更改列的名称和类型：</p>

<p>ALTER TABLE name CHANGE column_name new_name new_type</p>

<p><a href="https://img.it610.com/image/info8/fd5114f758324790995139b060cd9dca.jpg"><img src="https://img.it610.com/image/info8/fd5114f758324790995139b060cd9dca.jpg" alt="Impala-
shell命令参数_第12张图片" /></a></p>

<p><strong>delete .truncate table:</strong></p>

<p>Impala drop table语句用于删除Impala中的现有表。此语句还会删除内部表的底层HDFS文件。</p>

<p>注意：使用此命令时必须小心，因为删除表后，表中可用的所有信息也将永远丢失。</p>

<p>DROP table database_name.table_name;</p>

<p><a href="https://img.it610.com/image/info8/783c0fb80f1c4d528bb82d47aa3212f7.jpg"><img src="https://img.it610.com/image/info8/783c0fb80f1c4d528bb82d47aa3212f7.jpg" alt="" /></a></p>

<p>Impala的Truncate Table语句用于从现有表中删除所有记录。保留表结构。</p>

<p>您也可以使用DROP TABLE命令删除一个完整的表，但它会从数据库中删除完整的表结构，如果您希望存储一些数据，您将需要重新创建此表。</p>

<p>truncate table_name;</p>

<p><a href="https://img.it610.com/image/info8/84aa3bfa22a44f6babecfab5c1107d5b.jpg"><img src="https://img.it610.com/image/info8/84aa3bfa22a44f6babecfab5c1107d5b.jpg" alt="Impala-
shell命令参数_第13张图片" /></a></p>

<p><strong>view视图：</strong></p>

<p>视图仅仅是存储在数据库中具有关联名称的Impala查询语言的语句。 它是以预定义的SQL查询形式的表的组合。</p>

<p>视图可以包含表的所有行或选定的行。</p>

<p>Create View IF NOT EXISTS view_name as Select statement</p>

<p><a href="https://img.it610.com/image/info8/b8fc17442f914a2294884b5c66508aff.jpg"><img src="https://img.it610.com/image/info8/b8fc17442f914a2294884b5c66508aff.jpg" alt="Impala-
shell命令参数_第14张图片" /></a></p>

<p>创建视图view、查询视图view</p>

<p>CREATE VIEW IF NOT EXISTS employee_view AS select name, age from employee;</p>

<p><a href="https://img.it610.com/image/info8/4449d0f25d2d4ef1af8dc19557106bcb.jpg"><img src="https://img.it610.com/image/info8/4449d0f25d2d4ef1af8dc19557106bcb.jpg" alt="Impala-
shell命令参数_第15张图片" /></a></p>

<p>修改视图</p>

<p>ALTER VIEW database_name.view_name为Select语句</p>

<p>删除视图</p>

<p>DROP VIEW database_name.view_name;</p>

<p><a href="https://img.it610.com/image/info8/2122fc27d1fa4a69874deda4ff021d00.jpg"><img src="https://img.it610.com/image/info8/2122fc27d1fa4a69874deda4ff021d00.jpg" alt="" /></a></p>

<p><strong>order by 子句：</strong></p>

<p>Impala ORDER BY子句用于根据一个或多个列以升序或降序对数据进行排序。 默认情况下，一些数据库按升序对查询结果进行排序。</p>

<p>select * from table_name ORDER BY col_name</p>

<p>[ASC|DESC] [NULLS FIRST|NULLS LAST]</p>

<p>可以使用关键字ASC或DESC分别按升序或降序排列表中的数据。</p>

<p>如果我们使用NULLS FIRST，表中的所有空值都排列在顶行; 如果我们使用NULLS LAST，包含空值的行将最后排列。</p>

<p><a href="https://img.it610.com/image/info8/136c6de62a1d40b597d6f0ed5a91a1cc.jpg"><img src="https://img.it610.com/image/info8/136c6de62a1d40b597d6f0ed5a91a1cc.jpg" alt="Impala-
shell命令参数_第16张图片" /></a></p>

<p><strong>group by 子句：</strong></p>

<p>Impala GROUP BY子句与SELECT语句协作使用，以将相同的数据排列到组中。</p>

<p>select data from table_name Group BY col_name;</p>

<p><strong>having 子句：</strong></p>

<p>Impala中的Having子句允许您指定过滤哪些组结果显示在最终结果中的条件。</p>

<p>一般来说，Having子句与group by子句一起使用; 它将条件放置在由GROUP BY子句创建的组上。</p>

<p><strong>limit offset：</strong></p>

<p>Impala中的Having子句允许您指定过滤哪些组结果显示在最终结果中的条件。</p>

<p>一般来说，Having子句与group by子句一起使用; 它将条件放置在由GROUP BY子句创建的组上。</p>

<p><a href="https://img.it610.com/image/info8/19f24c3348e645bdaf241da27ed45144.jpg"><img src="https://img.it610.com/image/info8/19f24c3348e645bdaf241da27ed45144.jpg" alt="Impala-
shell命令参数_第17张图片" /></a></p>

<p><strong>with子句：</strong></p>

<p>如果查询太复杂，我们可以为复杂部分定义别名，并使用Impala的with子句将它们包含在查询中。</p>

<p>with x as (select 1), y as (select 2) (select * from x union y);</p>

<p>例如：使用with子句显示年龄大于25的员工和客户的记录。</p>

<p>with t1 as (select * from customers where age&gt;25),</p>

<p>t2 as (select * from employee where age&gt;25)</p>

<p>(select * from t1 union select * from t2);</p>

<p><strong>distinct:</strong></p>

<p>Impala中的distinct运算符用于通过删除重复值来获取唯一值。</p>

<p>select distinct columns… from table_name;</p>

<p><strong>Impala 数据导入方式：</strong></p>

<p>1. <strong>loaddata：</strong></p>

<p>首先创建一个表：</p>

<p>create table user(id int ,name string,age int ) row format delimited fields
terminated by &ldquo;\t&rdquo;;</p>

<p><a href="https://img.it610.com/image/info8/2d3b8a425ed74bc58f97b63b3b169015.jpg"><img src="https://img.it610.com/image/info8/2d3b8a425ed74bc58f97b63b3b169015.jpg" alt="" /></a></p>

<p>准备数据user.txt并上传到hdfs的 /user/impala路径下去</p>

<p><a href="https://img.it610.com/image/info8/3f6c324eb8934ad7b502e96912c35e4b.jpg"><img src="https://img.it610.com/image/info8/3f6c324eb8934ad7b502e96912c35e4b.jpg" alt="" /></a></p>

<p><a href="https://img.it610.com/image/info8/ff163cfc04fc424fb5823597c8d7ba0f.jpg"><img src="https://img.it610.com/image/info8/ff163cfc04fc424fb5823597c8d7ba0f.jpg" alt="" /></a></p>

<p>加载数据</p>

<p>load data inpath &lsquo;/user/impala/&rsquo; into table user;</p>

<p>查询加载的数据</p>

<p>select * from user;</p>

<p><a href="https://img.it610.com/image/info8/ce7b2730733f46ac87e342f08b709651.jpg"><img src="https://img.it610.com/image/info8/ce7b2730733f46ac87e342f08b709651.jpg" alt="Impala-
shell命令参数_第18张图片" /></a></p>

<p>如果查询不不到数据，那么需要刷新一遍数据表。</p>

<p>refresh user;</p>

<p><strong>2. insert into values：</strong></p>

<p>这种方式非常类似于RDBMS的数据插入方式。</p>

<p>create table t_test2(id int,name string);</p>

<p>insert into table t_test2 values(1,”zhangsan”);</p>

<p><a href="https://img.it610.com/image/info8/df4cc7c7f91445fa934b379924fd9e9a.jpg"><img src="https://img.it610.com/image/info8/df4cc7c7f91445fa934b379924fd9e9a.jpg" alt="Impala-
shell命令参数_第19张图片" /></a></p>

<p><strong>3.insert into select:</strong></p>

<p>**** 插入一张表的数据来自于后面的select查询语句返回的结果。</p>

<p><a href="https://img.it610.com/image/info8/fd96c5f9d1c147d6be3620230ff666fa.jpg"><img src="https://img.it610.com/image/info8/fd96c5f9d1c147d6be3620230ff666fa.jpg" alt="Impala-
shell命令参数_第20张图片" /></a></p>

<p><strong>4. create as select:</strong></p>

<p>建表的字段个数、类型、数据来自于后续的select查询语句。</p>

<p><a href="https://img.it610.com/image/info8/074ca16abce840a2b15505540a425d94.jpg"><img src="https://img.it610.com/image/info8/074ca16abce840a2b15505540a425d94.jpg" alt="Impala-
shell命令参数_第21张图片" /></a></p>

<h3 id="impala-的java开发">Impala 的java开发：</h3>

<p>在实际工作当中，因为impala的查询比较快，所以可能有会使用到impala来做数据库查询的情况，可以通过java代码来进行操作impala的查询。</p>

<ol>
<li>1. 下载impala jdbc依赖</li>
</ol>

<p>下载路径：</p>

<p><a href="https://www.cloudera.com/downloads/connectors/impala/jdbc/2-5-28.html">https://www.cloudera.com/downloads/connectors/impala/jdbc/2-5-28.html</a></p>

<p>因为cloudera属于商业公司性质，其提供的jar并不会出现在开源的maven仓库中，如果在企业中需要使用，请添加到企业maven私服。</p>

<ol>
<li>1. 创建java工程</li>
</ol>

<p>创建普通java工程，把依赖添加工程</p>

<blockquote>
<p>public static void test(){</p>

<p>Connection con = null;</p>

<p>ResultSet rs = null;</p>

<p>PreparedStatement ps = null;</p>

<p>String JDBC_DRIVER = &ldquo;com.cloudera.impala.jdbc41.Driver&rdquo;;</p>

<p>String CONNECTION_URL = &ldquo;jdbc:impala://node-3:21050&rdquo;;</p>

<p>try</p>

<p>{</p>

<p>Class.forName(JDBC_DRIVER);</p>

<p>con = (Connection) DriverManager.getConnection(CONNECTION_URL);</p>

<p>ps = con.prepareStatement(&ldquo;select * from my_db.employee;&ldquo;);</p>

<p>rs = ps.executeQuery();</p>

<p>while (rs.next())</p>

<p>{</p>

<p>System.out.println(rs.getString(1));</p>

<p>System.out.println(rs.getString(2));</p>

<p>System.out.println(rs.getString(3));</p>

<p>}</p>

<p>} catch (Exception e)</p>

<p>{</p>

<p>e.printStackTrace();</p>

<p>} finally</p>

<p>{</p>

<p>try {</p>

<p>rs.close();</p>

<p>ps.close();</p>

<p>con.close();</p>

<p>} catch (SQLException e) {</p>

<p>e.printStackTrace();</p>

<p>}</p>

<p>}</p>

<p>}</p>

<p>public static void main(String[] args) {</p>

<p>test();</p>

<p>}</p>

<hr />
</blockquote>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>