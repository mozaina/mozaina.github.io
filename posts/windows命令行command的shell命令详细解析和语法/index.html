<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Windows命令行command的Shell命令详细解析和语法 | 开发者问答集锦</title>
    <meta property="og:title" content="Windows命令行command的Shell命令详细解析和语法 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="Windows命令行command的Shell命令详细解析和语法">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/windows%E5%91%BD%E4%BB%A4%E8%A1%8Ccommand%E7%9A%84shell%E5%91%BD%E4%BB%A4%E8%AF%A6%E7%BB%86%E8%A7%A3%E6%9E%90%E5%92%8C%E8%AF%AD%E6%B3%95/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Windows命令行command的Shell命令详细解析和语法</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p><strong>CMD命令大全及详细解释和语法</strong></p>

<p>CMD命令大全及详细解释和语法<br />
Microsoft Windows XP [版本 5.1.2600]</p>

<p>有关某个命令的详细信息，请键入 HELP 命令名</p>

<p>ASSOC 显示或修改文件扩展名关联。<br />
AT 计划在计算机上运行的命令和程序。<br />
ATTRIB 显示或更改文件属性。<br />
BREAK 设置或清除扩展式 CTRL+C 检查。<br />
CACLS 显示或修改文件的访问控制列表(ACLs)。<br />
CALL 从另一个批处理程序调用这一个。<br />
CD 显示当前目录的名称或将其更改。<br />
CHCP 显示或设置活动代码页数。<br />
CHDIR 显示当前目录的名称或将其更改。<br />
CHKDSK 检查磁盘并显示状态报告。<br />
CHKNTFS 显示或修改启动时间磁盘检查。<br />
CLS 清除屏幕。<br />
CMD 打开另一个 Windows 命令解释程序窗口。<br />
COLOR 设置默认控制台前景和背景颜色。<br />
COMP 比较两个或两套文件的内容。<br />
COMPACT 显示或更改 NTFS 分区上文件的压缩。<br />
CONVERT 将 FAT 卷转换成 NTFS。您不能转换当前驱动器。<br />
COPY 将至少一个文件复制到另一个位置。<br />
DATE 显示或设置日期。<br />
DEL 删除至少一个文件。<br />
DIR 显示一个目录中的文件和子目录。<br />
DISKCOMP 比较两个软盘的内容。<br />
DISKCOPY 将一个软盘的内容复制到另一个软盘。<br />
DOSKEY 编辑命令行、调用 Windows 命令并创建宏。<br />
ECHO 显示消息，或将命令回显打开或关上。<br />
ENDLOCAL 结束批文件中环境更改的本地化。<br />
ERASE 删除至少一个文件。<br />
EXIT 退出 CMD.EXE 程序(命令解释程序)。<br />
FC 比较两个或两套文件，并显示不同处。<br />
FIND 在文件中搜索文字字符串。<br />
FINDSTR 在文件中搜索字符串。<br />
FOR 为一套文件中的每个文件运行一个指定的命令。<br />
FORMAT 格式化磁盘，以便跟 Windows 使用。<br />
FTYPE 显示或修改用于文件扩展名关联的文件类型。<br />
GOTO 将 Windows 命令解释程序指向批处理程序中某个标明的行。<br />
GRAFTABL 启用 Windows 来以图像模式显示扩展字符集。<br />
HELP 提供 Windows 命令的帮助信息。<br />
IF 执行批处理程序中的条件性处理。<br />
LABEL 创建、更改或删除磁盘的卷标。<br />
MD 创建目录。<br />
MKDIR 创建目录。<br />
MODE 配置系统设备。<br />
MORE 一次显示一个结果屏幕。<br />
MOVE 将文件从一个目录移到另一个目录。<br />
PATH 显示或设置可执行文件的搜索路径。<br />
PAUSE 暂停批文件的处理并显示消息。<br />
POPD 还原 PUSHD 保存的当前目录的上一个值。<br />
PRINT 打印文本文件。<br />
PROMPT 更改 Windows 命令提示符。<br />
PUSHD 保存当前目录，然后对其进行更改。<br />
RD 删除目录。<br />
RECOVER 从有问题的磁盘恢复可读信息。<br />
REM 记录批文件或 CONFIG.SYS 中的注释。<br />
REN 重命名文件。<br />
RENAME 重命名文件。<br />
REPLACE 替换文件。<br />
RMDIR 删除目录。<br />
SET 显示、设置或删除 Windows 环境变量。<br />
SETLOCAL 开始批文件中环境更改的本地化。<br />
SHIFT 更换批文件中可替换参数的位置。<br />
SORT 对输入进行分类。<br />
START 启动另一个窗口来运行指定的程序或命令。<br />
SUBST 将路径跟一个驱动器号关联。<br />
TIME 显示或设置系统时间。<br />
TITLE 设置 CMD.EXE 会话的窗口标题。<br />
TREE 以图形模式显示驱动器或路径的目录结构。<br />
TYPE 显示文本文件的内容。<br />
VER 显示 Windows 版本。<br />
VERIFY 告诉 Windows 是否验证文件是否已正确写入磁盘。<br />
VOL 显示磁盘卷标和序列号。<br />
XCOPY 复制文件和目录树。</p>

<hr />

<p><strong>以下是每个命令的详细解释及用法</strong></p>

<hr />

<p>显示或修改文件扩展名关联</p>

<p>ASSOC [.ext[=[fileType]]]</p>

<p>.ext 指定跟文件类型关联的文件扩展名<br />
fileType 指定跟文件扩展名关联的文件类型</p>

<p>键入 ASSOC 而不带参数，显示当前文件关联。如果只用文件扩展名调用
ASSOC，则显示那个文件扩展名的当前文件关联。如果不为文件类型指定任何参数，命令会删除文件扩展名的关联。</p>

<hr />

<p>AT 命令安排在特定日期和时间运行命令和程序。<br />
要使用 AT 命令，计划服务必须已在运行中。</p>

<p>AT [\\computername] [ [id] [/DELETE] | /DELETE [/YES]]<br />
AT [\\computername] time [/INTERACTIVE] [ /EVERY:date[,&hellip;] |
/NEXT:date[,&hellip;]] &ldquo;command&rdquo;</p>

<p>\\computername 指定远程计算机。 如果省略这个参数，会计划在本地计算机上运行命令。<br />
id 指定给已计划命令的识别号。<br />
/delete 删除某个已计划的命令。如果省略 id，计算机上所有已计划的命令都会被删除。<br />
/yes 不需要进一步确认时，跟删除所有作业的命令一起使用。<br />
time 指定运行命令的时间。<br />
/interactive 允许作业在运行时，与当时登录的用户桌面进行交互。<br />
/every:date[,&hellip;] 每个月或每个星期在指定的日期运行命令。如果省略日期，则默认为在每月的本日运行。<br />
/next:date[,&hellip;] 指定在下一个指定日期(如，下周四)运行命令。如果省略日期，则默认为在每月的本日运行。<br />
&ldquo;command&rdquo; 准备运行的 Windows NT 命令或批处理程序。</p>

<hr />

<p>显示或更改文件属性。</p>

<p>ATTRIB [+R | -R] [+A | -A ] [+S | -S] [+H | -H] [[drive:] [path] filename] [/S
[/D]]</p>

<p>+ 设置属性。<br />
- 清除属性。<br />
R 只读文件属性。<br />
A 存档文件属性。<br />
S 系统文件属性。<br />
H 隐藏文件属性。<br />
[drive:][path][filename]<br />
指定要处理的文件属性。<br />
/S 处理当前文件夹及其子文件夹中的匹配文件。<br />
/D 也处理文件夹。</p>

<hr />

<p>设置或清除 DOS 系统的扩展 CTRL+C 检测</p>

<p>这个命令是为了与 DOS 系统的兼容而保留的，在 Windows XP 里不起作用。</p>

<p>如果命令扩展名被启用，并且操作平台是 Windows XP，BREAK 命令会在被调试程序调试时输入一个硬代码中断点。</p>

<hr />

<p>显示或者修改文件的访问控制表(ACL)CACLS filename [/T] [/E] [/C] [/G user:perm] [/R user
[&hellip;]] [/P user:perm [&hellip;]] [/D user [&hellip;]] filename 显示 ACL。 /T
更改当前目录及其所有子目录中指定文件的 ACL。 /E 编辑 ACL 而不替换。 /C 在出现拒绝访问错误时继续。 /G user:perm
赋予指定用户访问权限。 Perm 可以是: R 读取 W 写入 C 更改(写入) F 完全控制 /R user 撤销指定用户的访问权限(仅在与 /E
一起使用时合法)。 /P user:perm 替换指定用户的访问权限。 Perm 可以是: N 无 R 读取 W 写入 C 更改(写入) F 完全控制 /D
user 拒绝指定用户的访问。在命令中可以使用通配符指定多个文件。也可以在命令中指定多个用户。缩写: CI - 容器继承。 ACE 会由目录继承。 OI -
对象继承。 ACE 会由文件继承。 IO - 只继承。 ACE 不适用于当前文件/目录。</p>

<hr />

<p>从批处理程序调用另一个批处理程序。</p>

<p>CALL [drive:][path]filename [batch-parameters]</p>

<p>batch-parameters 指定批处理程序所需的命令行信息。</p>

<p>如果命令扩展名被启用，CALL 会如下改变:</p>

<p>CALL 命令现在将卷标当作 CALL 的目标接受。语法是:</p>

<p>CALL:label arguments</p>

<p>一个新的批文件上下文由指定的参数所创建，控制在卷标被指定后传递到语句。您必须通过达到批脚本文件末两次来 &ldquo;exit&rdquo; 两次。第一次读到文件末时，控制会回到
CALL 语句的紧后面。第二次会退出批脚本。键入 GOTO /?，参看 GOTO : EOF 扩展名的描述，此描述允许您从一个批脚本返回。</p>

<p>另外，批脚本文本参数参照(%0、%1、等等)已如下改变:</p>

<p>批脚本里的 %* 指出所有的参数(如 %1 %2 %3 %4 %5 &hellip;)</p>

<p>批参数(%n)的替代已被增强。您可以使用以下语法:</p>

<p>%~1 - 删除引号(&ldquo;)，扩充 %1<br />
%~f1 - 将 %1 扩充到一个完全合格的路径名<br />
%~d1 - 仅将 %1 扩充到一个驱动器号<br />
%~p1 - 仅将 %1 扩充到一个路径<br />
%~n1 - 仅将 %1 扩充到一个文件名<br />
%~x1 - 仅将 %1 扩充到一个文件扩展名<br />
%~s1 - 扩充的路径指含有短名<br />
%~a1 - 将 %1 扩充到文件属性<br />
%~t1 - 将 %1 扩充到文件的日期/时间<br />
%~z1 - 将 %1 扩充到文件的大小<br />
%~$PATH : 1 - 查找列在 PATH 环境变量的目录，并将 %1
扩充到找到的第一个完全合格的名称。如果环境变量名未被定义，或者没有找到文件，此组合键会扩充到空字符串</p>

<p>可以组合修定符来取得多重结果:</p>

<p>%~dp1 - 只将 %1 扩展到驱动器号和路径<br />
%~nx1 - 只将 %1 扩展到文件名和扩展名<br />
%~dp$PATH:1 - 在列在 PATH 环境变量中的目录里查找 %1，并扩展到找到的第一个文件的驱动器号和路径。<br />
%~ftza1 - 将 %1 扩展到类似 DIR 的输出行。</p>

<p>在上面的例子中，%1 和 PATH 可以被其他有效数值替换。 %~ 语法被一个有效参数号码终止。%~ 修定符不能跟 %* 使用</p>

<hr />

<p>显示当前目录名或改变当前目录。</p>

<p>CHDIR [/D] [drive:][path]<br />
CHDIR [..]<br />
CD [/D] [drive:][path]<br />
CD [..]</p>

<p>.. 指定要改成父目录。</p>

<p>键入 CD 驱动器: 显示指定驱动器中的当前目录。<br />
不带参数只键入 CD，则显示当前驱动器和目录。</p>

<p>使用 /D 命令行开关，除了改变驱动器的当前目录之外，还可改变当前驱动器。</p>

<p>如果扩展命令名被启用，CHDIR 会如下改变:</p>

<p>当前的目录字符串会被转换成使用磁盘名上的大小写。所以，如果磁盘上的大小写如此，CD C : \TEMP 会将当前目录设为 C:\Temp。</p>

<p>CHDIR 命令不把空格当作分隔符，因此有可能将目录名改为一个带有空格但不带有引号的子目录名。例如:</p>

<p>cd \winnt\profiles\username\programs\start menu</p>

<p>与下列相同:</p>

<p>cd &ldquo;\winnt\profiles\username\programs\start menu&rdquo;</p>

<p>在扩展功能停用的情况下，您必须键入以上命令。</p>

<hr />

<p>显示或设置活动代码页编号。</p>

<p>CHCP [nnn]</p>

<p>nnn 指定代码页编号。</p>

<p>不加参数键入 CHCP 显示活动代码页编号。</p>

<hr />

<p>显示当前目录名或改变当前目录。</p>

<p>CHDIR [/D] [drive:][path]<br />
CHDIR [..]<br />
CD [/D] [drive:][path]<br />
CD [..]</p>

<p>.. 指定要改成父目录。</p>

<p>键入 CD 驱动器: 显示指定驱动器中的当前目录。<br />
不带参数只键入 CD，则显示当前驱动器和目录。</p>

<p>使用 /D 命令行开关，除了改变驱动器的当前目录之外，还可改变当前驱动器。</p>

<p>如果扩展命令名被启用，CHDIR 会如下改变:</p>

<p>当前的目录字符串会被转换成使用磁盘名上的大小写。所以，如果磁盘上的大小写如此，CD C : \TEMP 会将当前目录设为 C:\Temp。</p>

<p>CHDIR 命令不把空格当作分隔符，因此有可能将目录名改为一个带有空格但不带有引号的子目录名。例如:</p>

<p>cd \winnt\profiles\username\programs\start menu</p>

<p>与下列相同:</p>

<p>cd &ldquo;\winnt\profiles\username\programs\start menu&rdquo;</p>

<p>在扩展功能停用的情况下，您必须键入以上命令。</p>

<hr />

<p>检查磁盘并显示状态报告。</p>

<p>CHKDSK [volume[[path]filename]]] [/F] [/V] [/R] [/X] [/I] [/C] [/L[:size]]</p>

<p>volume 指定驱动器(后面跟一个冒号)、装入点或卷名。<br />
filename 仅用于 FAT/FAT32: 指定要检查是否有碎片的文件。<br />
/F 修复磁盘上的错误。<br />
/V 在 FAT/FAT32 上: 显示磁盘上每个文件的完整路径和名称。在 NTFS 上: 如果有清除消息，将其显示。<br />
/R 查找不正确的扇区并恢复可读信息(隐含 /F)。<br />
/L:size 仅用于 NTFS: 将日志文件大小改成指定的 KB 数。如果没有指定大小，则显示当前的大小。<br />
/X 如果必要，强制卷先卸下。卷的所有打开的句柄就会无效(隐含 /F)。<br />
/I 仅用于 NTFS: 对索引项进行强度较小的检查。<br />
/C 仅用于 NTFS: 跳过文件夹结构的循环检查。</p>

<p>/I 和 /C 命令行开关跳过卷的某些检查，减少运行 Chkdsk 所需的时间。</p>

<hr />

<p>在启动时显示或修改磁盘检查。</p>

<p>CHKNTFS volume [&hellip;]<br />
CHKNTFS /D<br />
CHKNTFS /T[:time]\r\nCHKNTFS /X volume [&hellip;]<br />
CHKNTFS /C volume [&hellip;]</p>

<p>volume: 指定驱动器(后面跟一个冒号)、装入点或卷名。<br />
/D 将计算机恢复成默认状态， 启动时检查所有驱动器，并对有问题的驱动器执行 chkdsk 命令。<br />
/T:time 将 AUTOCHK 初始递减计数时间改成指定的时间量，单位为秒数。如果没有指定时间，则显示当前设置。<br />
/X 排除启动时不作检查的驱动器。上次执行此命令排除的驱动器此时无效。<br />
/C 安排启动时检查驱动器，如果驱动器有问题，运行 chkdsk。</p>

<p>如果没有指定命令行开关，CHKNTFS 会显示每一驱动器有问题的位的状态。</p>

<hr />

<p>清除屏幕。</p>

<p>CLS</p>

<hr />

<p>启动 Windows XP 命令解释程序一个新的实例</p>

<p>CMD [/A | /U] [/Q] [/D] [/E:ON | /E:OFF] [/F:ON | /F:OFF] [/V:ON | /V:OFF]<br />
[[/S] [/C | /K] string]</p>

<p>/C 执行字符串指定的命令然后终断<br />
/K 执行字符串指定的命令但保留<br />
/S 在 /C 或 /K 后修改字符串处理(见下)<br />
/Q 关闭回应<br />
/D 从注册表中停用执行 AutoRun 命令(见下)<br />
/A 使向内部管道或文件命令的输出成为 ANSI<br />
/U 使向内部管道或文件命令的输出成为 Unicode<br />
/T:fg 设置前景/背景颜色(详细信息，请见 COLOR /?)<br />
/E:ON 启用命令扩展(见下)<br />
/E:OFF 停用命令扩展(见下)<br />
/F:ON 启用文件和目录名称完成字符 (见下)<br />
/F:OFF 停用文件和目录名称完成字符(见下)<br />
/V:ON 将 ! 作为定界符启动延缓环境变量扩展。如: /V:ON 会允许 !var! 在执行时允许 !var! 扩展变量 var。var
语法在输入时扩展变量，这与在一个 FOR 循环内不同。<br />
/V:OFF 停用延缓的环境扩展。</p>

<p>请注意，如果字符串有引号，可以接受用命令分隔符 &lsquo;&amp;&amp;&rsquo; 隔开的多个命令。并且，由于兼容原因，/X 与 /E:ON 相同，/Y 与 /E:OFF 相同，并且
/R 与 /C 相同。忽略任何其他命令行开关。</p>

<p>如果指定了 /C 或 /K，命令行开关后的命令行其余部分将作为命令行处理；在这种情况下，会使用下列逻辑处理引号字符(&ldquo;):</p>

<p>1. 如果符合下列所有条件，那么在命令行上的引号字符将被保留:</p>

<p>- 不带 /S 命令行开关<br />
- 整整两个引号字符<br />
- 在两个引号字符之间没有特殊字符，特殊字符为下列中的一个: &lt;&gt;()@^|<br />
- 在两个引号字符之间有至少一个空白字符<br />
- 在两个引号字符之间有至少一个可执行文件的名称。</p>

<p>2. 否则，老办法是，看第一个字符是否是一个引号字符，如果是，舍去开头的字符并删除命令行上 的最后一个引号字符，保留最后一个引号字符之后的文字。</p>

<p>如果 /D 未在命令行上被指定，当 CMD.EXE 开始时，它会寻找以下 REG_SZ/REG_EXPAND_SZ
注册表变量。如果其中一个或两个都存在，这两个变量会先被执行。</p>

<p>HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\AutoRun</p>

<p>和/或</p>

<p>HKEY_CURRENT_USER\Software\Microsoft\Command Processor\AutoRun</p>

<p>命令扩展是按默认值启用的。您也可以使用 /E:OFF，为某一特定调用而停用扩展。您可以在机器上和/或用户登录会话上启用或停用 CMD.EXE
所有调用的扩展，这要通过设置使用 REGEDT32.EXE 的注册表中的一个或两个 REG_DWORD 值:</p>

<p>HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\EnableExtensions</p>

<p>和/或</p>

<p>HKEY_CURRENT_USER\Software\Microsoft\Command Processor\EnableExtensions</p>

<p>到 0x1 或 0x0。用户特定设置比机器设置有优先权。命令行开关比注册表设置有优先权。</p>

<p>命令行扩展包括对下列命令所做的更改和/或添加:</p>

<p>DEL 或 ERASE<br />
COLOR<br />
CD 或 CHDIR<br />
MD 或 MKDIR<br />
PROMPT<br />
PUSHD<br />
POPD<br />
SET<br />
SETLOCAL<br />
ENDLOCAL<br />
IF<br />
FOR<br />
CALL<br />
SHIFT<br />
GOTO<br />
START (同时包括对外部命令调用所做的更改)<br />
ASSOC<br />
FTYPE</p>

<p>有关详细信息，请键入 HELP 命令名。</p>

<p>延迟变量环境扩展不按默认值启用。您可以用/V:ON 或 /V:OFF 命令行开关，为 CMD.EXE 的某个调用而启用或停用延迟环境变量扩充。<br />
您可以在机器上和/或用户登录会话上启用或停用 CMD.EXE 所有调用的完成，这要通过设置使用 REGEDT32.EXE 的注册表中的一个或两个
REG_DWORD 值:</p>

<p>HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\DelayedExpansion</p>

<p>和/或</p>

<p>HKEY_CURRENT_USER\Software\Microsoft\Command Processor\DelayedExpansion</p>

<p>到 0x1 或 0x0。用户特定设置比机器设置有优先权。命令行开关比注册表设置有优先权。</p>

<p>如果延迟环境变量扩充被启用，惊叹号字符可在执行时间，被用来代替一个环境变量的数值。</p>

<p>文件和目录名完成不按默认值启用。您可以用 /F:ON 或 /F:OFF 命令行开关，为 CMD.EXE 的某个调用而启用或停用文件名完成。
您可以在机器上和/或用户登录会话上启用或停用 CMD.EXE 所有调用的完成，这要通过设置使用 REGEDT32.EXE 的注册表中的一个或两个
REG_DWORD 值:</p>

<p>HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\CompletionChar<br />
HKEY_LOCAL_MACHINE\Software\Microsoft\Command Processor\PathCompletionChar</p>

<p>和/或</p>

<p>HKEY_CURRENT_USER\Software\Microsoft\Command Processor\CompletionChar<br />
HKEY_CURRENT_USER\Software\Microsoft\Command Processor\PathCompletionChar</p>

<p>由一个控制字符的十六进制值作为一个特定参数(例如，0x4 是 Ctrl-D，0x6 是 Ctrl-F)。
用户特定设置优先于机器设置。命令行开关优先于注册表设置。</p>

<p>如果完成是用 /F:ON 命令行开关启用的，两个要使用的控制符是: 目录名字完成用 Ctrl-D， 文件名完成用 Ctrl-F。
要停用注册表中的某个字符，请用空格(0x20)的数值，因为此字符不是控制字符。</p>

<p>如果键入两个控制字符中的一个，完成会被调用。完成功能将路径字符串带到光标的左边，如果没有通配符，将通配符附加到左边，并建立相符的路径列表。然后，显示第一个相符的路径。如果没有相符的路径，则发出嘟嘟声，不影响显示。之后，重复按同一个控制字符会循环显示相符路径的列表。将
Shift
键跟控制字符同时按下，会倒着显示列表。如果对该行进行了任何编辑，并再次按下控制字符，保存的相符路径的列表会被丢弃，新的会被生成。如果在文件和目录名完成之间切换，会发生同样现象。两个控制字符之间的唯一区别是文件完成字符符合文件和目录名，而目录完成字符只符合目录名。如果文件完成被用于内置式目录命令(CD、MD
或 RD)，就会使用目录完成。</p>

<p>将引号将相符路径括起来，完成代码可以正确处理含有空格或其他特殊字符的文件名。同时，如果备份，然后从行内调用文件完成，完成被调用是位于光标右方的文字会被丢弃。</p>

<p>需要引号的特殊字符是:</p>

<p>&amp;()[]{}^=;!&lsquo;+,`~</p>

<hr />

<p>设置默认的控制台前景和背景颜色。</p>

<p>COLOR [attr]</p>

<p>attr 指定控制台输出的颜色属性</p>

<p>颜色属性由两个十六进制数字指定 -- 第一个为背景，第二个则为前景。每个数字可以为以下任何值之一:</p>

<p>0 = 黑色 8 = 灰色<br />
1 = 蓝色 9 = 淡蓝色<br />
2 = 绿色 A = 淡绿色<br />
3 = 湖蓝色 B = 淡浅绿色<br />
4 = 红色 C = 淡红色<br />
5 = 紫色 D = 淡紫色<br />
6 = 黄色 E = 淡黄色<br />
7 = 白色 F = 亮白色</p>

<p>如果没有给定任何参数，该命令会将颜色还原到 CMD.EXE 启动时的颜色。这个值来自当前控制台窗口、/T 开关或 DefaultColor 注册表值。</p>

<p>如果用相同的前景和背景颜色来执行 COLOR 命令，COLOR 命令会将 ERRORLEVEL 设置为 1。</p>

<p>例如: &ldquo;COLOR fc&rdquo; 在亮白色上产生亮红色比较两个文件或两个文件集的内容。</p>

<hr />

<p>比较两个或两套文件的内容。</p>

<p>COMP [data1] [data2] [/D] [/A] [/L] [/N=number] [/C] [/OFF[LINE]]</p>

<p>data1 指定要比较的第一个文件的位置和名称。<br />
data2 指定要比较的第二个文件的位置和名称。<br />
/D 用十进制格式显示不同处。<br />
/A 用 ASCII 字符显示不同处。<br />
/L 显示不同的行数。<br />
/N=number 只比较每个文件中第一个指定的行数。<br />
/C 比较文件时不分 ASCII 字母的大小写。<br />
/OFF[LINE] 不要跳过带有脱机属性集的文件。</p>

<p>要比较文件集，在 data1 和 data2 参数中使用通配符。</p>

<hr />

<p>显示或改变 NTFS 分区上文件的压缩.</p>

<p>COMPACT [/C | /U] [/S[:dir]] [/A] [/I] [/F] [/Q] [filename [&hellip;]]</p>

<p>/C 压缩指定的文件。会给目录作标记，这样以后添加的文件会得到压缩。<br />
/U 解压缩指定的文件。会给目录作标记，这样以后添加的文件不会得到压缩。<br />
/S 在指定的目录和所有子目录中的文件上执行指定操作。默认 &ldquo;dir&rdquo;是当前目录。<br />
/A 显示具有隐藏或系统属性的文件。在默认情况下，这些文件都是被忽略的。<br />
/I 即使在错误发生后，依然继续执行指定的操作。在默认情况下，COMPACT 在遇到错误时会停止。<br />
/F 在所有指定文件上强制压缩操作，包括已被压缩的文件。在默认情况下，已经压缩的文件被忽略。<br />
/Q 只报告最重要的信息。<br />
filename 指定类型、文件和目录。</p>

<p>不跟参数一起使用时，COMPACT 显示当前目录及其所含文件的压缩状态。您可以使用多个文件名和通配符。在多个参数之间必须加空格。</p>

<hr />

<p>将 FAT 卷转换成 NTFS。</p>

<p>CONVERT volume /FS:NTFS [/V] [/CvtArea:filename] [/NoSecurity] [/X]</p>

<p>volume 指定驱动器号(后面跟一个冒号)、装载点或卷名。<br />
/FS:NTFS 指定要被转换成 NTFS 的卷。<br />
/V 指定 Convert 应该用详述模式运行。<br />
/CvtArea:filename<br />
将根目录中的一个接续文件指定为 NTFS 系统文件的占位符。<br />
/NoSecurity 指定每个人都可以访问转换的文件和目录的安全设置。<br />
/X 如果必要，先强行卸载卷。该卷的所有打开的句柄则无效。</p>

<hr />

<p>将一份或多份文件复制到另一个位置。</p>

<p>COPY [/D] [/V] [/N] [/Y | /-Y] [/Z] [/A | /B ] source [/A | /B] [+ source [/A
| /B] [+ &hellip;]] [destination [/A | /B]]</p>

<p>source 指定要复制的文件。<br />
/A 表示一个 ASCII 文本文件。<br />
/B 表示一个二进位文件。<br />
/D 允许解密要创建的目标文件<br />
destination 为新文件指定目录和/或文件名。<br />
/V 验证新文件写入是否正确。<br />
/N 复制带有非 8dot3 名称的文件时，尽可能使用短文件名。<br />
/Y 不使用确认是否要改写现有目标文件的提示。<br />
/-Y 使用确认是否要改写现有目标文件的提示。<br />
/Z 用可重新启动模式复制已联网的文件。</p>

<p>命令行开关 /Y 可以在 COPYCMD 环境变量中预先设定。<br />
这可能会被命令行上的 /-Y 替代。除非 COPY 命令是在一个批文件脚本中执行的，默认值应为在改写时进行提示。</p>

<p>要附加文件，请为目标指定一个文件，为源指定数个文件(用通配符或 file1+file2+file3 格式)。</p>

<hr />

<p>显示或设置日期。</p>

<p>DATE [/T | date]</p>

<p>显示当前日期设置和输入新日期的提示，请键入不带参数的 DATE。要保留现有日期，请按 ENTER。</p>

<p>如果命令扩展名被启用，DATE 命令会支持 /T 开关；该开关指示命令只输出当前日期，但不提示输出新日期。</p>

<hr />

<p>删除一个或数个文件。</p>

<p>DEL [/P] [/F] [/S] [/Q] [/A[[:]attributes]] names<br />
ERASE [/P] [/F] [/S] [/Q] [/A[[:]attributes]] names</p>

<p>names 指定一个或数个文件或目录列表。通配符可被用来删除多个文件。如果指定了一个目录，目录中的所有文件都会被删除。</p>

<p>/P 删除每一个文件之前提示确认。<br />
/F 强制删除只读文件。<br />
/S 从所有子目录删除指定文件。<br />
/Q 安静模式。删除全局通配符时，不要求确认。<br />
/A 根据属性选择要删除的文件。<br />
attributes R 只读文件 S 系统文件<br />
H 隐藏文件 A 存档文件<br />
- 表示“否”的前缀</p>

<p>如果命令扩展名被启用，DEL 和 ERASE 会如下改变:</p>

<p>/S 开关的显示句法会颠倒，即只显示已经删除的文件，而不显示找不到的文件。</p>

<hr />

<p>显示目录中的文件和子目录列表。</p>

<p>DIR [drive:][path][filename] [/A[[:]attributes]] [/B] [/C] [/D] [/L] [/N]
[/O[[:]sortorder]] [/P] [/Q] [/S] [/T[[:]timefield]] [/W] [/X] [/4]</p>

<p>[drive:][path][filename]<br />
指定要列出的驱动器、目录和/或文件。</p>

<p>/A 显示具有指定属性的文件。<br />
attributes D 目录 R 只读文件<br />
H 隐藏文件 A 准备存档的文件<br />
S 系统文件 - 表示“否”的前缀<br />
/B 使用空格式(没有标题信息或摘要)。<br />
/C 在文件大小中显示千位数分隔符。这是默认值。用 /-C 来停用分隔符显示。<br />
/D 跟宽式相同，但文件是按栏分类列出的。<br />
/L 用小写。<br />
/N 新的长列表格式，其中文件名在最右边。<br />
/O 用分类顺序列出文件。<br />
sortorder N 按名称(字母顺序) S 按大小(从小到大)<br />
E 按扩展名(字母顺序) D 按日期/时间(从先到后)<br />
G 组目录优先 - 颠倒顺序的前缀<br />
/P 在每个信息屏幕后暂停。<br />
/Q 显示文件所有者。<br />
/S 显示指定目录和所有子目录中的文件。<br />
/T 控制显示或用来分类的时间字符域。<br />
timefield C 创建时间<br />
A 上次访问时间<br />
W 上次写入的时间<br />
/W 用宽列表格式。<br />
/X 显示为非 8dot3 文件名产生的短名称。格式是 /N 的格式，短名称插在长名称前面。如果没有短名称，在其位置则显示空白。<br />
/4 用四位数字显示年</p>

<p>可以在 DIRCMD 环境变量中预先设定开关。通过添加前缀 - (破折号)来替代预先设定的开关。例如，/-W。</p>

<hr />

<p>比较两张软盘的内容。</p>

<p>DISKCOMP [drive1: [drive2:]]</p>

<p>把一张软盘的内容复制到另一张。</p>

<p>DISKCOPY [drive1: [drive2:]] [/V]</p>

<p>/V 校验信息复制得是否正确。</p>

<p>两张软盘的类型必须相同。<br />
您可以为 drive1 和 drive2 指定同样的驱动器。</p>

<hr />

<p>编辑命令行，重调用 Windows XP 命令，并创建宏。</p>

<p>DOSKEY [/REINSTALL] [/LISTSIZE=size] [/MACROS[:ALL | :exename]] [/HISTORY]
[/INSERT | /OVERSTRIKE] [/EXENAME=exename] [/MACROFILE=filename]
[macroname=[text]]</p>

<p>/REINSTALL 安装一组新的 Doskey。<br />
/LISTSIZE=size 设置命令历史记录的缓冲区大小。<br />
/MACROS 显示所有 Doskey 宏。<br />
/MACROS:ALL 为具有 Doskey 宏的执行文件，显示所有的 Doskey 宏。<br />
/MACROS:exename 显示指定执行文件的所有 Doskey 宏。<br />
/HISTORY 显示保存在内存中的所有命令。<br />
/INSERT 指定用键入的新文字插入旧文字中。<br />
/OVERSTRIKE 指定新文字改写旧文字。<br />
/EXENAME=exename 指定执行文件。<br />
/MACROFILE=filename 指定安装的宏文件。<br />
macroname 指定所创建宏的名称。<br />
text 指定要登记的命令。</p>

<p>使用上下箭头键选择命令；ESC 清除命令行；F7 显示命令历史记录；ALT+F7 清除命令历史记录；F8 搜索命令历史记录；F9
按编号选择命令；ALT+F10 清除宏定义。</p>

<p>以下是 Doskey 宏定义的特殊码:<br />
$T 命令分隔符号。允许一个宏可以含多个命令。<br />
$1-$9 批处理参数。与批处理程序中的 %1-%9 相同。<br />
$* 以命令行中命令名称后面的任何内容替换的符号。</p>

<hr />

<p>显示信息，或将命令回显打开或关上。</p>

<p>ECHO [ON | OFF]<br />
ECHO [message]</p>

<p>要显示当前回显设置，键入不带参数的 ECHO。</p>

<hr />

<p>结束批处理文件中环境改动的本地化操作。</p>

<p>在执行ENDLOCAL 之后所做的环境改动不再仅限于批处理文件。批处理文件结束后，原先的设置无法还原。</p>

<p>ENDLOCAL</p>

<p>如果命令扩展名被启用，ENDLOCAL 会如下改变:</p>

<p>如果相应的 SETLOCAL 用新的 ENABLEEXTENSIONS 或DISABLEEXTENSIONS 选项启用或停用了命令扩展名，那么，在
ENDLOCAL 之后，命令扩展名的启用/停用状态会还原到执行相应的 SETLOCAL 命令前的状态。</p>

<hr />

<p>删除一个或数个文件。</p>

<p>DEL [/P] [/F] [/S] [/Q] [/A[[:]attributes]] names<br />
ERASE [/P] [/F] [/S] [/Q] [/A[[:]attributes]] names</p>

<p>names 指定一个或数个文件或目录列表。通配符可被用来删除多个文件。如果指定了一个目录，目录中的所有文件都会被删除。</p>

<p>/P 删除每一个文件之前提示确认。<br />
/F 强制删除只读文件。<br />
/S 从所有子目录删除指定文件。<br />
/Q 安静模式。删除全局通配符时，不要求确认。<br />
/A 根据属性选择要删除的文件。<br />
attributes R 只读文件 S 系统文件<br />
H 隐藏文件 A 存档文件<br />
- 表示“否”的前缀</p>

<p>如果命令扩展名被启用，DEL 和 ERASE 会如下改变:</p>

<p>/S 开关的显示句法会颠倒，即只显示已经删除的文件，而不显示找不到的文件。</p>

<hr />

<p>退出 CMD.EXE 程序(命令翻译程序)或当前批处理脚本。</p>

<p>EXIT [/B] [exitCode]</p>

<p>/B 指定要退出当前批处理脚本而不是 CMD.EXE。如果从一个批处理脚本外执行，则会退出 CMD.EXE</p>

<p>exitCode 指定一个数字号码。如果指定了 /B，将 ERRORLEVEL设成那个数字。如果退出 CMD.EXE，则用那个数字设置过程退出代码。</p>

<hr />

<p>比较两个文件或两个文件集并显示它们之间的不同</p>

<p>FC [/A] [/C] [/L] [/LBn] [/N] [/OFF[LINE]] [/T] [/U] [/W] [/nnnn]
[drive1:][path1]filename1 [drive2:][path2]filename2<br />
FC /B [drive1:][path1]filename1 [drive2:][path2]filename2</p>

<p>/A 只显示每个不同处的第一行和最后一行。<br />
/B 执行二进制比较。<br />
/C 不分大小写。<br />
/L 将文件作为 ASCII 文字比较。<br />
/LBn 将连续不匹配的最大值设为指定的行数。<br />
/N 在 ASCII 比较上显示行数。<br />
/OFF[LINE] 不要跳过带有脱机属性集的文件。<br />
/T 不要将 tab 扩充到空格。<br />
/U 将文件作为 UNICODE 文字文件比较。<br />
/W 为了比较而压缩空白(tab 和空格)。<br />
/nnnn 指定不匹配处后必须连续匹配的行数。<br />
[drive1:][path1]filename1<br />
指定要比较的第一个文件或第一个文件集。<br />
[drive2:][path2]filename2<br />
指定要比较的第二个文件或第二个文件集。</p>

<hr />

<p>在文件中搜索字符串。</p>

<p>FIND [/V] [/C] [/N] [/I] [/OFF[LINE]] &ldquo;string&rdquo; [[drive:][path]filename[ &hellip;]]</p>

<p>/V 显示所有未包含指定字符串的行。<br />
/C 仅显示包含字符串的行数。<br />
/N 显示行号。<br />
/I 搜索字符串时忽略大小写。<br />
/OFF[LINE] 不要跳过具有脱机属性集的文件。<br />
&ldquo;string&rdquo; 指定要搜索的文字串，<br />
[drive:][path]filename<br />
指定要搜索的文件。</p>

<p>如果没有指定路径，FIND 将搜索键入的或者由另一命令产生的文字。</p>

<hr />

<p>在文件中寻找字符串。</p>

<p>FINDSTR [/B] [/E] [/L] [/R] [/S] [/I] [/X] [/V] [/N] [/M] [/O] [/F:file]<br />
[/C:string] [/G:file] [/D:dir list] [/A:color attributes] [/OFF[LINE]]<br />
strings [[drive:][path]filename[ &hellip;]]</p>

<p>/B 在一行的开始配对模式。<br />
/E 在一行的结尾配对模式。<br />
/L 按字使用搜索字符串。<br />
/R 将搜索字符串作为一般表达式使用。<br />
/S 在当前目录和所有子目录中搜索匹配文件。<br />
/I 指定搜索不分大小写。<br />
/X 打印完全匹配的行。<br />
/V 只打印不包含匹配的行。<br />
/N 在匹配的每行前打印行数。<br />
/M 如果文件含有匹配项，只打印其文件名。<br />
/O 在每个匹配行前打印字符偏移量。<br />
/P 忽略有不可打印字符的文件。<br />
/OFF[LINE] 不跳过带有脱机属性集的文件。<br />
/A:attr 指定有十六进位数字的颜色属性。请见 &ldquo;color /?&rdquo;<br />
/F:file 从指定文件读文件列表 (/ 代表控制台)。<br />
/C:string 使用指定字符串作为文字搜索字符串。<br />
/G:file 从指定的文件获得搜索字符串。 (/ 代表控制台)。<br />
/D:dir 查找以分号为分隔符的目录列表<br />
strings 要查找的文字。<br />
[drive:][path]filename<br />
指定要查找的文件。</p>

<p>除非参数有 /C 前缀，请使用空格隔开搜索字符串。<br />
例如: &lsquo;FINDSTR &ldquo;hello there&rdquo; x.y&rsquo; 在文件 x.y 中寻找 &ldquo;hello&rdquo; 或 &ldquo;there&rdquo; 。 &lsquo;FINDSTR
/C:&ldquo;hello there&rdquo; x.y&rsquo; 文件 x.y 寻找 &ldquo;hello there&rdquo;。</p>

<p>一般表达式的快速参考:<br />
. 通配符: 任何字符<br />
* 重复: 以前字符或类别出现零或零以上次数<br />
^ 行位置: 行的开始<br />
$ 行位置: 行的终点<br />
[class] 字符类别: 任何在字符集中的字符<br />
[^class] 补字符类别: 任何不在字符集中的字符<br />
[x-y] 范围: 在指定范围内的任何字符<br />
\x Escape: 元字符 x 的文字用法<br />
\ xyz&gt; 字位置: 字的结束</p>

<p>有关 FINDSTR 常见表达法的详细情况，请见联机命令参考。</p>

<hr />

<p>对一组文件中的每一个文件执行某个特定命令。</p>

<p>FOR %variable IN (set) DO command [command-parameters]</p>

<p>%variable 指定一个单一字母可替换的参数。<br />
(set) 指定一个或一组文件。可以使用通配符。<br />
command 指定对每个文件执行的命令。<br />
command-parameters<br />
为特定命令指定参数或命令行开关。</p>

<p>在批处理文件中使用 FOR 命令时，指定变量请使用 %%variable 而不要用 %variable。变量名称是区分大小写的，所以 %i 不同于 %I.</p>

<p>如果命令扩展名被启用，下列额外的 FOR 命令格式会受到支持:</p>

<p>FOR /D %variable IN (set) DO command [command-parameters]</p>

<p>如果集中包含通配符，则指定与目录名匹配，而不与文件名匹配。</p>

<p>FOR /R [[drive:]path] %variable IN (set) DO command [command-parameters]</p>

<p>检查以 [drive:]path 为根的目录树，指向每个目录中的 FOR 语句。如果在 /R
后没有指定目录，则使用当前目录。如果集仅为一个单点(.)字符，则枚举该目录树。</p>

<p>FOR /L %variable IN (start,step,end) DO command [command-parameters]</p>

<p>该集表示以增量形式从开始到结束的一个数字序列。因此，(1,1,5) 将产生序列 1 2 3 4 5，(5,-1,1) 将产生序列 (5 4 3 2 1)。</p>

<p>FOR /F [&ldquo;options&rdquo;] %variable IN (file-set) DO command [command-parameters]<br />
FOR /F [&ldquo;options&rdquo;] %variable IN (&ldquo;string&rdquo;) DO command [command-parameters]<br />
FOR /F [&ldquo;options&rdquo;] %variable IN (&lsquo;command&rsquo;) DO command [command-parameters]</p>

<p>或者，如果有 usebackq 选项:</p>

<p>FOR /F [&ldquo;options&rdquo;] %variable IN (file-set) DO command [command-parameters]<br />
FOR /F [&ldquo;options&rdquo;] %variable IN (&ldquo;string&rdquo;) DO command [command-parameters]<br />
FOR /F [&ldquo;options&rdquo;] %variable IN (&lsquo;command&rsquo;) DO command [command-parameters]</p>

<p>filenameset 为一个或多个文件名。继续到 filenameset
中的下一个文件之前，每份文件都已被打开、读取并经过处理。处理包括读取文件，将其分成一行行的文字，然后将每行解析成零或更多的符号。然后用已找到的符号字符串变量值调用
For 循环。以默认方式，/F 通过每个文件的每一行中分开的第一个空白符号。跳过空白行。您可通过指定可选 &ldquo;options&rdquo;
参数替代默认解析操作。这个带引号的字符串包括一个或多个指定不同解析选项的关键字。这些关键字为:</p>

<p>eol=c - 指一个行注释字符的结尾(就一个)<br />
skip=n - 指在文件开始时忽略的行数。<br />
delims=xxx - 指分隔符集。这个替换了空格和跳格键的默认分隔符集。<br />
tokens=x,y,m-n - 指每行的哪一个符号被传递到每个迭代的 for 本身。这会导致额外变量名称的分配。m-n 格式为一个范围。通过 nth
符号指定 mth。如果符号字符串中的最后一个字符星号，那么额外的变量将在最后一个符号解析之后分配并接受行的保留文本。<br />
usebackq - 指定新语法已在下类情况中使用: 在作为命令执行一个后引号的字符串并且一个单引号字符为文字字符串命令并允许在 filenameset
中使用双引号扩起文件名称。</p>

<p>某些范例可能有助:</p>

<p>FOR /F &ldquo;eol=; tokens=2,3* delims=, &ldquo; %i in (myfile.txt) do @echo %i %j %k</p>

<p>会分析 myfile.txt 中的每一行，忽略以分号打头的那些行，将每行中的第二个和第三个符号传递给 for 程序体；用逗号和/或空格定界符号。请注意，这个
for 程序体的语句引用 %i 来取得第二个符号，引用 %j 来取得第三个符号，引用 %k
来取得第三个符号后的所有剩余符号。对于带有空格的文件名，您需要用双引号将文件名括起来。为了用这种方式来使用双引号，您还需要使用 usebackq
选项，否则，双引号会 被理解成是用作定义某个要分析的字符串的。</p>

<p>%i 专门在 for 语句中得到说明，%j 和 %k 是通过 tokens= 选项专门得到说明的。您可以通过 tokens= 一行指定最多 26
个符号，只要不试图说明一个高于字母 &lsquo;z&rsquo; 或 &lsquo;Z&rsquo; 的变量。请记住，FOR 变量是单一字母、分大小写和全局的；而且，同时不能有 52 个以上都在使用中。</p>

<p>您还可以在相邻字符串上使用 FOR /F 分析逻辑；方法是，用单引号将括号之间的 filenameset
括起来。这样，该字符串会被当作一个文件中的一个单一输入行。</p>

<p>最后，您可以用 FOR /F 命令来分析命令的输出。方法是，将括号之间的 filenameset 变成一个反括字符串。该字符串会被当作命令行，传递到一个子
CMD.EXE，其输出会被抓进内存，并被当作文件分析。因此，以下例子:</p>

<p>FOR /F &ldquo;usebackq delims==&rdquo; %i IN (<code>set</code>) DO @echo %i</p>

<p>会枚举当前环境中的环境变量名称。</p>

<p>另外，FOR 变量参照的替换已被增强。您现在可以使用下列选项语法:</p>

<p>~I - 删除任何引号(&ldquo;)，扩充 %I<br />
%~fI - 将 %I 扩充到一个完全合格的路径名<br />
%~dI - 仅将 %I 扩充到一个驱动器号<br />
%~pI - 仅将 %I 扩充到一个路径<br />
%~nI - 仅将 %I 扩充到一个文件名<br />
%~xI - 仅将 %I 扩充到一个文件扩展名<br />
%~sI - 扩充的路径只含有短名<br />
%~aI - 将 %I 扩充到文件的文件属性<br />
%~tI - 将 %I 扩充到文件的日期/时间<br />
%~zI - 将 %I 扩充到文件的大小<br />
%~$PATH:I - 查找列在路径环境变量的目录，并将 %I
扩充到找到的第一个完全合格的名称。如果环境变量名未被定义，或者没有找到文件，此组合键会扩充到空字符串</p>

<p>可以组合修饰符来得到多重结果:</p>

<p>%~dpI - 仅将 %I 扩充到一个驱动器号和路径<br />
%~nxI - 仅将 %I 扩充到一个文件名和扩展名<br />
%~fsI - 仅将 %I 扩充到一个带有短名的完整路径名<br />
%~dp$PATH:i - 查找列在路径环境变量的目录，并将 %I 扩充到找到的第一个驱动器号和路径。<br />
%~ftzaI - 将 %I 扩充到类似输出线路的 DIR</p>

<p>在以上例子中，%I 和 PATH 可用其他有效数值代替。%~ 语法用一个有效的 FOR 变量名终止。选取类似 %I
的大写变量名比较易读，而且避免与不分大小写的组合键混淆。</p>

<hr />

<p>格式化磁盘以供 Windows XP 使用。</p>

<p>FORMAT volume [/FS:file-system] [/V:label] [/Q] [/A:size] [/C] [/X]<br />
FORMAT volume [/V:label] [/Q] [/F:size]<br />
FORMAT volume [/V:label] [/Q] [/T:tracks /N:sectors]<br />
FORMAT volume [/V:label] [/Q]<br />
FORMAT volume [/Q]</p>

<p>volume 指定驱动器(后面跟一个冒号)、装入点或卷名。<br />
/FS:filesystem 指定文件系统类型(FAT、FAT32 或 NTFS)。<br />
/V:label 指定卷标。<br />
/Q 执行快速格式化。<br />
/C 仅适于 NTFS: 默认情况下，将压缩在该新建卷上创建的文件。<br />
/X 如果必要，先强制卸下卷。那时，该卷所有已打开的句柄不再有效。<br />
/A:size 替代默认配置单位大小。极力建议您在一般状况下使用默认设置。<br />
NTFS 支持 512、1024、2048、4096、8192、16K、32K、64K。<br />
FAT 支持 512、1024、2048、4096、8192、16K、32K、64k，(128k、256k 用于大于 512 字节的扇区) 。<br />
FAT32 支持 512、1024、2048、4096、8192、16k、32k、64k，(128k 、256k 用于大于 512 字节的扇区)。</p>

<p>注意 FAT 及 FAT32 文件系统对卷上的群集数量有以下限制:</p>

<p>FAT: 群集数量 &lt;= 65526<br />
FAT32: 65526 &lt; 群集数量 &lt; 4177918</p>

<p>如果判定使用指定的群集大小无法满足以上需求，格式化将立即停止。</p>

<p>NTFS 压缩不支持大于 4096 的分配单元。</p>

<p>/F:size 指定要格式化的软盘大小(1.44)<br />
/T:tracks 为磁盘指定每面磁道数。<br />
/N:sectors 指定每条磁道的扇区数。</p>

<hr />

<p>显示或修改用在文件扩展名关联中的文件类型</p>

<p>FTYPE [fileType[=[openCommandString]]]</p>

<p>fileType 指定要检查或改变的文件类型<br />
openCommandString 指定调用这类文件时要使用的开放式命令。</p>

<p>键入 FTYPE 而不带参数来显示当前有定义的开放式命令字符串的文件类型。 FTYPE
仅用一个文件类型启用时，它显示那个文件类型目前的开放式命令字符串。如果不为开放式命令字符串指定，FTYPE
命令将删除那个文件类型的开放式命令字符串。在一个开放式命令字符串之内，命令字符串 %0 或 %1 被通过关联调用的文件名所代替。%* 得到所有的参数，%2
得到第一个参数，%3 得到第二个，等等。%~n 得到其余所有以 nth 参数打头的参数；n 可以是从 2 到 9 的数字。例如:</p>

<p>ASSOC .pl=PerlScript<br />
FTYPE PerlScript=perl.exe %1 %*</p>

<p>允许您启用以下 Perl 脚本:</p>

<p>script.pl 1 2 3</p>

<p>如果不想键入扩展名，则键入以下字符串:</p>

<p>set PATHEXT=.pl;%PATHEXT%</p>

<p>被启动的脚本如下:</p>

<p>script 1 2 3</p>

<hr />

<p>将 cmd.exe 导向到批处理程序中带标签的行。</p>

<p>GOTO label</p>

<p>label 指定批处理程序中用作标签的文字字符串。</p>

<p>标签必须单独一行，并且以冒号打头。</p>

<p>如果命令扩展名被启用，GOTO 会如下改变:</p>

<p>GOTO 命令现在接受目标标签 :EOF，这个标签将控制转移到当前批脚本文件的结尾。不定义就退出批脚本文件，这是一个容易的办法。有关能使该功能有用的
CALL 命令的扩展名描述，请键入CALL /?。</p>

<hr />

<p>请在图形模式下启用 Windows 显示扩展字符集。</p>

<p>GRAFTABL [xxx]<br />
GRAFTABL /STATUS</p>

<p>xxx 指定代码页。<br />
/STATUS 显示选定的同 GRAFTABL 一起使用的当前代码页。</p>

<hr />

<p>提供 Windows XP 命令的帮助信息。</p>

<p>HELP [command]</p>

<p>command - 显示该命令的帮助信息。</p>

<hr />

<p>执行批处理程序中的条件处理。</p>

<p>IF [NOT] ERRORLEVEL number command<br />
IF [NOT] string1==string2 command<br />
IF [NOT] EXIST filename command</p>

<p>NOT 指定只有条件为 false 的情况下， Windows XP 才应该执行该命令。</p>

<p>ERRORLEVEL number 如果最后运行的程序返回一个等于或大于指定数字的退出编码，指定条件为 true。</p>

<p>string1==string2 如果指定的文字字符串匹配，指定条件为 true。</p>

<p>EXIST filename 如果指定的文件名存在，指定条件为 true。</p>

<p>command 如果符合条件，指定要执行的命令。如果指定的条件为 FALSE，命令后可跟一个执行 ELSE 关键字后的命令的 ELSE 命令。</p>

<p>ELSE 子句必须在 IF 之后出现在同一行上。例如:</p>

<p>IF EXIST filename. (<br />
del filename.<br />
) ELSE (<br />
echo filename. missing.<br />
)</p>

<p>因为 del 命令需要用一个新行终止，以下子句不会有效:</p>

<p>IF EXIST filename. del filename. ELSE echo filename. missing</p>

<p>由于 ELSE 命令必须与 IF 命令的尾端在同一行上，以下子句也不会有效:</p>

<p>IF EXIST filename. del filename.<br />
ELSE echo filename. missing</p>

<p>如果都放在同一行上，以下子句有效:</p>

<p>IF EXIST filename. (del filename.) ELSE echo filename. missing</p>

<p>如果命令扩展名被启用，IF 会如下改变:</p>

<p>IF [/I] string1 compare-op string2 command<br />
IF CMDEXTVERSION number command<br />
IF DEFINED variable command</p>

<p>其中，比较运算符可以是:</p>

<p>EQU - 等于<br />
NEQ - 不等于<br />
LSS - 小于<br />
LEQ - 小于或等于<br />
GTR - 大于<br />
GEQ - 大于或等于</p>

<p>及 /I 开关；如果该开关被指定，则说明要进行的字符串比较不分大小写。/I 开关可以用于 IF 的 string1==string2
的形式上。这些比较都是通用的；原因是，如果 string1 和 string2 都是由数字组成的，字符串会被转换成数字，进行数字比较。</p>

<p>CMDEXTVERSION 条件的作用跟 ERRORLEVEL 的一样，除了它是在跟与命令扩展名有关联的内部版本号比较。第一个版本是
1。每次对命令扩展名有相当大的增强时，版本号会增加一个。<br />
命令扩展名被停用时，CMDEXTVERSION 条件不是真的。</p>

<p>如果已定义环境变量，DEFINED 条件的作用跟 EXISTS 的一样，除了它取得一个环境变量，返回的结果是 true。</p>

<p>如果没有名为 ERRORLEVEL 的环境变量，%ERRORLEVEL% 会扩充为 ERROLEVEL
当前数值的字符串表达式；否则，您会得到其数值。运行程序后，以下语句说明 ERRORLEVEL 的用法:</p>

<p>goto answer%ERRORLEVEL%<br />
:answer0<br />
echo Program had return code 0<br />
:answer1<br />
echo Program had return code 1</p>

<p>您也可以使用以上的数字比较:</p>

<p>IF %ERRORLEVEL% LEQ 1 goto okay</p>

<p>如果没有名为 CMDCMDLINE 的环境变量，%CMDCMDLINE% 将在 CMD.EXE 进行任何处理前扩充为传递给 CMD.EXE
的原始命令行；否则，您会得到其数值。</p>

<p>如果没有名为 CMDEXTVERSION 的环境变量，%CMDEXTVERSION% 会扩充为 CMDEXTVERSION
当前数值的字串符表达式；否则，您会得到其数值。</p>

<hr />

<p>创建、更改或删除磁盘的卷标。</p>

<p>LABEL [drive:][label]<br />
LABEL [/MP] [volume] [label]</p>

<p>drive: 指定驱动器名。<br />
label 指定卷标签。<br />
/MP 指定卷应该被当作安装点或卷名。<br />
volume 指定驱动器(后面跟一个冒号)、装入点或卷名。如果指定了卷名，/MP 标志则不必要。</p>

<hr />

<p>创建目录。</p>

<p>MKDIR [drive:]path<br />
MD [drive:]path</p>

<p>如果命令扩展名被启用，MKDIR 会如下改变:</p>

<p>如果需要，MKDIR 会在路径中创建中级目录。例如: 假设 \a 不存在，那么:</p>

<p>mkdir \a\b\c\d</p>

<p>与:</p>

<p>mkdir \a<br />
chdir \a<br />
mkdir b<br />
chdir b<br />
mkdir c<br />
chdir c<br />
mkdir d</p>

<p>相同。如果扩展名被停用，则需要键入 mkdir \a\b\c\d。</p>

<hr />

<p>配置系统设备。</p>

<p>串行口: MODE COMm[:] [BAUD=b] [PARITY=p] [DATA=d] [STOP=s] [to=on|off]
[xon=on|off] [odsr=on|off] [octs=on|off] [dtr=on|off|hs] [rts=on|off|hs|tg]
[idsr=on|off]</p>

<p>设备状态: MODE [device] [/STATUS]</p>

<p>打印重定向: MODE LPTn[:]=COMm[:]</p>

<p>选定代码页: MODE CON[:] CP SELECT=yyy</p>

<p>代码页状态: MODE CON[:] CP [/STATUS]</p>

<p>显示模式: MODE CON[:] [COLS=c] [LINES=n]</p>

<p>击键率: MODE CON[:] [RATE=r DELAY=d]</p>

<hr />

<p>逐屏显示输出。</p>

<p>MORE [/E [/C] [/P] [/S] [/Tn] [+n]] &lt; [drive:][path]filename<br />
command-name | MORE [/E [/C] [/P] [/S] [/Tn] [+n]]<br />
MORE /E [/C] [/P] [/S] [/Tn] [+n] [files]</p>

<p>[drive:][path]filename 指定要逐屏显示的文件。</p>

<p>command-name 指定要显示其输出的命令 。</p>

<p>/E 启用扩展功能<br />
/C 显示页面前先清除屏幕<br />
/P 扩展 FormFeed 字符<br />
/S 将多个空白行缩成一行<br />
/Tn 将跳格键扩展成 n 个空格(默认值为命令行开关可以出现在 MORE 环境变量中。</p>

<p>+n 从第 n 行开始显示第一个文件</p>

<p>files 要显示的文件列表。 用空格分开列表中的文件。</p>

<p>如果扩展的功能已经启用，在 &ndash; More &ndash; 提示处会接受下列命令:</p>

<p>P n 显示下 n 行<br />
S n 略过下 n 行<br />
F 显示下个文件<br />
Q 退出<br />
= 显示行号<br />
? 显示帮助行<br />
显示下一页<br />
显示下一行</p>

<hr />

<p>移动文件并重命名文件和目录。</p>

<p>要移动至少一个文件:<br />
MOVE [/Y | /-Y] [drive:][path]filename1[,&hellip;] destination</p>

<p>要重命名一个目录:<br />
MOVE [/Y | /-Y] [drive:][path]dirname1 dirname2</p>

<p>[drive:][path]filename1 指定您想移动的文件位置和名称。<br />
destination 指定文件的新位置。目标可包含一个驱动器号和冒号、一个目录名或组合。如果只移动一个文件并在移动时将其重命名，您还可以包括文件名。<br />
[drive:][path]dirname1 指定要重命名的目录。<br />
dirname2 指定目录的新名称。</p>

<p>/Y 取消确认改写一个现有目标文件的提示。<br />
/-Y 对确认改写一个现有目标文件发出提示。</p>

<p>命令行开关 /Y 可以出现在 COPYCMD 环境变量中。这可以用命令行上的 /-Y 替代。默认值是，除非 MOVE
命令是从一个批脚本内执行的，改写时都发出提示。</p>

<hr />

<p>为可执行文件显示或设置一个搜索路径。</p>

<p>PATH [[drive:]path[;&hellip;][;%PATH%]<br />
PATH ;</p>

<p>键入 PATH ; 清除所有搜索路径设置并指示 cmd.exe 只在当前目录中搜索。<br />
键入 PATH 但不加参数，显示当前路径。<br />
将 %PATH% 包括在新的路径设置中会将旧路径附加到新设置。</p>

<hr />

<p>命令选项到保存在 PUSHD 命令里的目录。</p>

<p>POPD</p>

<p>如果命令扩展名被启用，从推目录堆栈 POPD 驱动器时，POPD 命令会删除 PUSHD 创建的临时驱动器号。</p>

<hr />

<p>打印文本文件。</p>

<p>PRINT [/D:device] [[drive:][path]filename[&hellip;]]</p>

<p>/D:device 指定打印机设备。</p>

<hr />

<p>更改 cmd.exe 命令提示符。</p>

<p>PROMPT [text]</p>

<p>text 指定新的命令提示符。</p>

<p>提示符可以由普通字符及下列特定代码组成:</p>

<p>$A &amp; (短 and 符号)<br />
$B | (管道)<br />
$C ( (左括弧)<br />
$D 当前日期<br />
$E Escape code (ASCII 码 27)<br />
$F ) (右括弧)<br />
$G &gt; (大于符号)<br />
$H Backspace (擦除前一个字符)<br />
$L &lt; (小于符号)<br />
$N 当前驱动器<br />
$P 当前驱动器及路径<br />
$Q = (等号)<br />
$S (空格)<br />
$T 当前时间<br />
$V Windows XP 版本号<br />
$_ 换行<br />
$$ $ (货币符号)</p>

<p>如果命令扩展名被启用，PROMPT 命令会支持下列格式化字符:</p>

<p>$+ 根据 PUSHD 目录堆栈的深度，零个或零个以上加号(+)字符；每个被推的层有一个字符。</p>

<p>$M 如果当前驱动器不是网络驱动器，显示跟当前驱动器号或空字符串有关联的远程名。</p>

<hr />

<p>保存当前目录以供 POPD 命令使用，然后改到指定的目录。</p>

<p>PUSHD [path | ..]</p>

<p>path 指定要成为当前目录的目录。</p>

<p>如果命令扩展名被启用，除了一般驱动器号和路径，PUSHD 命令还接受网络路径。如果指定了网络路径，PUSHD
将创建一个指向指定网络资源的临时驱动器号，然后再用刚定义的驱动器号改变当前的驱动器和目录。可以从 Z:
往下分配临时驱动器号，使用找到的第一个没有用过的驱动器号。</p>

<hr />

<p>删除一个目录。</p>

<p>RMDIR [/S] [/Q] [drive:]path<br />
RD [/S] [/Q] [drive:]path</p>

<p>/S 除目录本身外，还将删除指定目录下的所有子目录和文件。用于删除目录树。</p>

<p>/Q 安静模式，带 /S 删除目录树时不要求确认从损坏的磁盘中恢复可读取的信息。</p>

<hr />

<p>从有问题的磁盘恢复可读信息。<br />
RECOVER [drive:][path]filename<br />
在使用 RECOVER 命令以前，先查阅 Windows XP 帮助内的联机命令参考。</p>

<hr />

<p>在批处理文件或 CONFIG.SYS 里加上注解或说明。</p>

<p>REM [comment]</p>

<hr />

<p>重命名文件。</p>

<p>RENAME [drive:][path]filename1 filename2.<br />
REN [drive:][path]filename1 filename2.</p>

<p>请注意，您不能为目标文件指定新的驱动器或路径。<br />
重命名文件。</p>

<p>RENAME [drive:][path]filename1 filename2.<br />
REN [drive:][path]filename1 filename2.</p>

<p>请注意，您不能为目标文件指定新的驱动器或路径。</p>

<hr />

<p>替换文件。</p>

<p>REPLACE [drive1:][path1]filename [drive2:][path2] [/A] [/P] [/R] [/W]<br />
REPLACE [drive1:][path1]filename [drive2:][path2] [/P] [/R] [/S] [/W] [/U]</p>

<p>[drive1:][path1]filename 指定源文件。<br />
[drive2:][path2] 指定要替换文件的目录。<br />
/A 把新文件加入目标目录。不能和 /S 或 /U 命令行开关搭配使用。<br />
/P 替换文件或加入源文件之前会先提示您进行确认。<br />
/R 替换只读文件以及未受保护的文件。<br />
/S 替换目标目录中所有子目录的文件。不能与 /A 命令选项搭配使用。<br />
/W 等您插入磁盘以后再运行。<br />
/U 只会替换或更新比源文件日期早的文件。<br />
不能与 /A 命令行开关搭配使用。</p>

<hr />

<p>删除一个目录。</p>

<p>RMDIR [/S] [/Q] [drive:]path<br />
RD [/S] [/Q] [drive:]path</p>

<p>/S 除目录本身外，还将删除指定目录下的所有子目录和文件。用于删除目录树。</p>

<p>/Q 安静模式，带 /S 删除目录树时不要求确认</p>

<hr />

<p>显示、设置或删除 cmd.exe 环境变量。</p>

<p>SET [variable=[string]]</p>

<p>variable 指定环境变量名。<br />
string 指定要指派给变量的一系列字符串。</p>

<p>要显示当前环境变量，键入不带参数的 SET。</p>

<p>如果命令扩展名被启用，SET 会如下改变:</p>

<p>可仅用一个变量激活 SET 命令，等号或值不显示所有前缀匹配 SET 命令已使用的名称的所有变量的值。例如:</p>

<p>SET P</p>

<p>会显示所有以字母 P 打头的变量</p>

<p>如果在当前环境中找不到该变量名称，SET 命令将把 ERRORLEVEL 设置成 1。</p>

<p>SET 命令不允许变量名含有等号。</p>

<p>在 SET 命令中添加了两个新命令行开关:</p>

<p>SET /A expression<br />
SET /P variable=[promptString]</p>

<p>/A 命令行开关指定等号右边的字符串为被评估的数字表达式。该表达式评估器很简单并以递减的优先权顺序支持下列操作:</p>

<p>() - 分组<br />
! ~ - - 一元运算符<br />
* / % - 算数运算符<br />
+ - - 算数运算符<br />
&lt;&lt; &gt;&gt; - 逻辑移位<br />
- 按位“与”<br />
^ - 按位“异”<br />
| - 按位“或”<br />
= *= /= %= += -= - 赋值<br />
&amp;= ^= |= &lt;&lt;= &gt;&gt;=<br />
, - 表达式分隔符</p>

<p>如果您使用任何逻辑或取余操作符，
您需要将表达式字符串用引号扩起来。在表达式中的任何非数字字符串键作为环境变量名称，这些环境变量名称的值已在使用前转换成数字。如果指定了一个环境变量名称，但未在当前环境中定义，那么值将被定为零。这使您可以使用环境变量值做计算而不用键入那些
% 符号来得到它们的值。如果 SET /A
在命令脚本外的命令行执行的，那么它显示该表达式的最后值。该分配的操作符在分配的操作符左边需要一个环境变量名称。除十六进制有 0x 前缀， 八进制有 0
前缀的，数字值为十进位数字。因此， 0x12 与 18 和 022 相同。请注意八进制公式可能很容易搞混: 08 和 09 是无效的数字，因为 8 和 9
不是有效的八进制位数。</p>

<p>/P 命令行开关允许将变量数值设成用户输入的一行输入。读取输入行之前，显示指定的 promptString。promptString 可以是空的。</p>

<p>环境变量替换已如下增强:</p>

<p>%PATH:str1=str2%</p>

<p>会扩展 PATH 环境变量，用 &ldquo;str2&rdquo; 代替扩展结果中的每个 &ldquo;str1&rdquo;。要有效地从扩展结果中删除所有的 &ldquo;str1&rdquo;，&rdquo;str2&rdquo;
可以是空的。&rdquo;str1&rdquo; 可以以星号打头；在这种情况下，&rdquo;str1&rdquo; 会从扩展结果的开始到 str1 剩余部分第一次出现的地方，都一直保持相配。</p>

<p>也可以为扩展名指定子字符串。</p>

<p>%PATH:~10,5%</p>

<p>会扩展 PATH 环境变量，然后只使用在扩展结果中从第 11 个(偏移量
10)字符开始的五个字符。如果没有指定长度，则采用默认值，即变量数值的余数。如果两个数字(偏移量和长度)都是负数，使用的数字则是环境变量数值长度加上指定的偏移量或长度。</p>

<p>%PATH:~-10%</p>

<p>会提取 PATH 变量的最后十个字符。</p>

<p>%PATH:~0,-2%</p>

<p>会提取 PATH 变量的所有字符，除了最后两个。</p>

<p>终于添加了延迟环境变量扩充的支持。该支持总是按默认值被停用，但也可以通过 CMD.EXE 的 /V 命令行开关而被启用/停用。<br />
请参阅 CMD /?</p>

<p>考虑到读取一行文本时所遇到的目前扩充的限制时，延迟环境变量扩充是很有用的，而不是执行的时候。以下例子说明直接变量扩充的问题:</p>

<p>set VAR=before<br />
if &ldquo;%VAR%&rdquo; == &ldquo;before&rdquo; (<br />
set VAR=after<br />
if &ldquo;%VAR%&rdquo; == &ldquo;after&rdquo; @echo If you see this, it worked<br />
)</p>

<p>不会显示消息，因为在读到第一个 IF 语句时，BOTH IF 语句中的 %VAR% 会被代替；原因是: 它包含 IF 的文体，IF
是一个复合语句。所以，复合语句中的 IF 实际上是在比较 &ldquo;before&rdquo; 和&rdquo;after&rdquo;，这两者永远不会相等。同样，以下这个例子也不会达到预期效果:</p>

<p>set LIST=<br />
for %i in (*) do set LIST=%LIST% %i<br />
echo %LIST%</p>

<p>原因是，它不会在目前的目录中建立一个文件列表，而只是将LIST 变量设成找到的最后一个文件。这也是因为 %LIST% 在FOR
语句被读取时，只被扩充了一次；而且，那时的 LIST 变量是空的。因此，我们真正执行的 FOR 循环是:</p>

<p>for %i in (*) do set LIST= %i</p>

<p>这个循环继续将 LIST 设成找到的最后一个文件。</p>

<p>延迟环境变量扩充允许您使用一个不同的字符(惊叹号)在执行时间扩充环境变量。如果延迟的变量扩充被启用，可以将上面例子写成以下所示，以达到预期效果:</p>

<p>set VAR=before<br />
if &ldquo;%VAR%&rdquo; == &ldquo;before&rdquo; (<br />
set VAR=after<br />
if &ldquo;!VAR!&rdquo; == &ldquo;after&rdquo; @echo If you see this, it worked<br />
)</p>

<p>set LIST=<br />
for %i in (*) do set LIST=!LIST! %i<br />
echo %LIST%</p>

<p>如果命令扩展名被启用，有几个动态环境变量可以被扩展，但不会出现在 SET
显示的变量列表中。每次变量数值被扩展时，这些变量数值都会被动态计算。如果用户用这些名称中任何一个定义变量，那个定义会替代下面描述的动态定义:</p>

<p>%CD% - 扩展到当前目录字符串。</p>

<p>%DATE% - 用跟 DATE 命令同样的格式扩展到当前日期。</p>

<p>%TIME% - 用跟 TIME 命令同样的格式扩展到当前时间。</p>

<p>%RANDOM% - 扩展到 0 和 32767 之间的任意十进制数字。</p>

<p>%ERRORLEVEL% - 扩展到当前 ERRORLEVEL 数值。</p>

<p>%CMDEXTVERSION% - 扩展到当前命令处理器扩展名版本号。</p>

<p>%CMDCMDLINE% - 扩展到调用命令处理器的原始命令行。</p>

<hr />

<p>开始批处理文件中环境改动的本地化操作。</p>

<p>在执行 SETLOCAL 之后所做的环境改动只限于批处理文件。要还原原先的设置，必须执行
ENDLOCAL。达到批处理文件结尾时，对于该批处理文件的每个尚未执行的 SETLOCAL 命令，都会有一个隐含的 ENDLOCAL 被执行。</p>

<p>SETLOCAL</p>

<p>如果命令扩展名被启用，SETLOCAL 会如下改变:</p>

<p>SETLOCAL 批命令现在可以接受可选参数:<br />
ENABLEEXTENSIONS / DISABLEEXTENSIONS 启动或停用命令处理器扩展名。详细信息，请参阅 CMD /?。<br />
ENABLEDELAYEDEXPANSION / DISABLEDELAYEDEXPANSION 启动或停用延缓环境变量扩展名。详细信息，请参阅 SET
/? 。<br />
无论在 SETLOCAL 命令之前它们的设置是什么，这些修改会一直保留到匹配的 ENDLOCAL 命令。</p>

<p>如果有一个参数，SETLOCAL 命令将设置 ERRORLEVEL
的值。如果有两个有效参数中的一个，该值则为零。用下列技巧，您可以在批脚本中使用这个来决定扩展名是否可用:</p>

<p>VERIFY OTHER 2&gt;nul<br />
SETLOCAL ENABLEEXTENSIONS<br />
IF ERRORLEVEL 1 echo Unable to enable extensions</p>

<p>这个方法之所以有效，是因为在 CMD.EXE 的旧版本上，SETLOCAL 不设置 ERRORLEVEL 值。具有不正确参数的 VERIFY 命令将
ERRORLEVEL 值初始化成非零值。</p>

<hr />

<p>更改批处理文件中可替换参数的位置。</p>

<p>SHIFT [/n]</p>

<p>如果命令扩展名被启用，SHIFT 命令支持/n 命令行开关；该命令行开关告诉命令从第 n 个参数开始移位；n 介于零和八之间。例如:</p>

<p>SHIFT /2</p>

<p>会将 %3 移位到 %2，将 %4 移位到 %3，等等；并且不影响 %0 和 %1。</p>

<hr />

<p>对输入进行分类。</p>

<p>SORT [/R] [/+n] [/M kilobytes] [/L locale] [/REC recordbytes]
[[drive1:][path1]filename1] [/T [drive2:][path2]] [/O
[drive3:][path3]filename3] /+n 指定开始每个比较的字符号码 n。/+3 说明每个比较应从每行的第三个字符开始少于 n 个</p>

<p>文章来源：千锋Python</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>