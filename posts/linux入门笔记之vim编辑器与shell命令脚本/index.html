<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Linux入门笔记之Vim编辑器与Shell命令脚本 | 开发者问答集锦</title>
    <meta property="og:title" content="Linux入门笔记之Vim编辑器与Shell命令脚本 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="Linux入门笔记之Vim编辑器与Shell命令脚本">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/linux%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0%E4%B9%8Bvim%E7%BC%96%E8%BE%91%E5%99%A8%E4%B8%8Eshell%E5%91%BD%E4%BB%A4%E8%84%9A%E6%9C%AC/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Linux入门笔记之Vim编辑器与Shell命令脚本</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p><strong>Vim文本编辑器</strong></p>

<p>Vim编辑器中设置了三种模式：</p>

<p>—命令模式、末行模式和编辑模式，各模式转换如下：</p>

<p><a href="https://img.it610.com/image/info8/8cd7cd6fcfee4c5c8fec37ef4921363a.jpg"><img src="https://img.it610.com/image/info8/8cd7cd6fcfee4c5c8fec37ef4921363a.jpg" alt="Linux入门笔记之--
Vim编辑器与Shell命令脚本_第1张图片" /></a></p>

<p>命令模式下：</p>

<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>

<tbody>
<tr>
<td>dd</td>
<td>删除（剪切）光标所在整行</td>
</tr>

<tr>
<td>5dd</td>
<td>删除（剪切）从光标处开始的5行</td>
</tr>

<tr>
<td>yy</td>
<td>复制光标所在整行</td>
</tr>

<tr>
<td>5yy</td>
<td>复制从光标处开始的5行</td>
</tr>

<tr>
<td>n</td>
<td>显示搜索命令定位到的下一个字符串</td>
</tr>

<tr>
<td>N</td>
<td>显示搜索命令定位到的上一个字符串</td>
</tr>

<tr>
<td>u</td>
<td>撤销上一步的操作</td>
</tr>

<tr>
<td>p</td>
<td>将之前删除（dd）或复制（yy）过的数据粘贴到光标后面</td>
</tr>
</tbody>
</table>

<p>末行模式下：</p>

<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>

<tbody>
<tr>
<td>:w</td>
<td>保存</td>
</tr>

<tr>
<td>:q</td>
<td>退出</td>
</tr>

<tr>
<td>:q!</td>
<td>强制退出（放弃对文档的修改内容）</td>
</tr>

<tr>
<td>:wq!</td>
<td>强制保存退出</td>
</tr>

<tr>
<td>:set nu</td>
<td>显示行号</td>
</tr>

<tr>
<td>:set nonu</td>
<td>不显示行号</td>
</tr>

<tr>
<td>:命令</td>
<td>执行该命令</td>
</tr>

<tr>
<td>:整数</td>
<td>跳转到该行</td>
</tr>

<tr>
<td>:s/one/two</td>
<td>将当前光标所在行的第一个one替换成two</td>
</tr>

<tr>
<td>:s/one/two/g</td>
<td>将当前光标所在行的所有one替换成two</td>
</tr>

<tr>
<td>:%s/one/two/g</td>
<td>将全文中的所有one替换成two</td>
</tr>

<tr>
<td>?字符串</td>
<td>在文本中从下至上搜索该字符串</td>
</tr>

<tr>
<td>/字符串</td>
<td>在文本中从上至下搜索该字符串</td>
</tr>
</tbody>
</table>

<p>编辑模式下：正常编辑。</p>

<p><strong>编写并运行简单的Shell脚本</strong></p>

<p>脚本声明（#!）用来告诉系统使用哪种Shell解释器来执行该脚本；</p>

<p>注释信息（#）是对脚本功能和某些命令的介绍信息，增强可读性；</p>

<p>可执行语句也就是我们平时执行的Linux命令了</p>

<p>例：</p>

<p>编写</p>

<pre><code>[root@root ~]# vim example.sh
#!/bin/bash 
#Example: show present work directory and list all file information.
pwd 
ls -al
</code></pre>

<p>运行</p>

<pre><code>[root@root ~]# bash example.sh
</code></pre>

<p>或者</p>

<pre><code>[root@root ~]# ./example.sh
</code></pre>

<p>shell接受用户参数:</p>

<p>$0：当前Shell脚本程序的名称</p>

<p>$#：总共有几个参数</p>

<p>$*：所有位置的参数值</p>

<p>$?：显示上一次命令的执行返回值</p>

<p>而$1、$2、$3…… $N: 第N个位置的参数值</p>

<p><strong>判断用户的参数</strong></p>

<p>测试语句格式: [ 条件表达式 ]</p>

<p>测试结果：0-true, 非0-false</p>

<p>按照测试对象来划分，条件测试语句可以分为4种：</p>

<p>文件测试语句；</p>

<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>

<tbody>
<tr>
<td>-d</td>
<td>测试文件是否为目录类型</td>
</tr>

<tr>
<td>-e</td>
<td>测试文件是否存在</td>
</tr>

<tr>
<td>-f</td>
<td>判断是否为一般文件</td>
</tr>

<tr>
<td>-r</td>
<td>测试当前用户是否有权限读取</td>
</tr>

<tr>
<td>-w</td>
<td>测试当前用户是否有权限写入</td>
</tr>

<tr>
<td>-x</td>
<td>测试当前用户是否有权限执行</td>
</tr>
</tbody>
</table>

<p>例子：判断/etc/fstab是否为一个目录类型</p>

<pre><code>[root@root ~]# [ -d /etc/fstab ]
[root@root ~]# echo $?
1
</code></pre>

<p>例子：判断/etc/fstab是否为一般文件</p>

<pre><code>[root@root ~]# [ -f /etc/fstab ]
[root@root ~]# echo $?
0
</code></pre>

<p>逻辑测试语句；</p>

<table>
<thead>
<tr>
<th>&amp;&amp;</th>
<th>当前面的命令执行成功后才会执行它后面的命令</th>
</tr>
</thead>

<tbody>
<tr>
<td></td>
<td></td>
</tr>

<tr>
<td>!</td>
<td>表示把条件测试中的判断结果取相反值</td>
</tr>
</tbody>
</table>

<p>例子：判断/dev/cdrom文件是否存在，若存在则输出Exist字样。</p>

<pre><code>[root@linuxprobe ~]# [ -e /dev/cdrom ] &amp;&amp; echo &quot;Exist&quot;
Exist
</code></pre>

<p>例子：可以用来结合系统环境变量USER来判断当前登录的用户是否为非管理员身份</p>

<pre><code>[root@root ~]# echo $USER
root
[root@root ~]# [ $USER = root ] || echo &quot;user&quot;
[root@root ~]# su - welldone 
[welldone@welldone ~]$ [ $USER = root ] || echo &quot;user&quot;
user
</code></pre>

<p>整数值比较语句；</p>

<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>

<tbody>
<tr>
<td>-eq</td>
<td>是否等于</td>
</tr>

<tr>
<td>-ne</td>
<td>是否不等于</td>
</tr>

<tr>
<td>-gt</td>
<td>是否大于</td>
</tr>

<tr>
<td>-lt</td>
<td>是否小于</td>
</tr>

<tr>
<td>-le</td>
<td>是否等于或小于</td>
</tr>

<tr>
<td>-ge</td>
<td>是否大于或等于</td>
</tr>
</tbody>
</table>

<p>例子：10是否大于10以及10是否等于10</p>

<pre><code>[root@root ~]# [ 10 -gt 10 ]
[root@root ~]# echo $?
1
[root@root~]# [ 10 -eq 10 ]
[root@root~]# echo $?
0
</code></pre>

<p>字符串比较语句；</p>

<table>
<thead>
<tr>
<th>操作符</th>
<th>作用</th>
</tr>
</thead>

<tbody>
<tr>
<td>=</td>
<td>比较字符串内容是否相同</td>
</tr>

<tr>
<td>!=</td>
<td>比较字符串内容是否不同</td>
</tr>

<tr>
<td>-z</td>
<td>判断字符串内容是否为空</td>
</tr>
</tbody>
</table>

<p>例子：接下来通过判断String变量是否为空值，进而判断是否定义了这个变量</p>

<pre><code>[root@linuxprobe ~]# [ -z $String ]
[root@linuxprobe ~]# echo $?
0
</code></pre>

<p><strong>流程控制语句</strong></p>

<pre><code>if 条件判断
    then 命令操作
fi


if 条件判断
    then 命令操作1
    else 命令操作2
fi


if 条件判断1
    then 命令操作1
elif 条件判断2
    then 命令操作2
else 
    命令操作3
fi


for 变量名 in 取值列表
do
    命令操作
done


while 条件测试操作
do
    命令操作
done


case 变量值 in
模式1)
    命令操作1
    ;;
模式2)
    命令操作2
    ;;
    ......
*)
    默认命令操作
esac
</code></pre>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>