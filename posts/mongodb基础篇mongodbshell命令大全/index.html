<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>MongoDB基础篇MongoDBShell命令大全 | 开发者问答集锦</title>
    <meta property="og:title" content="MongoDB基础篇MongoDBShell命令大全 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="MongoDB基础篇MongoDBShell命令大全">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/mongodb%E5%9F%BA%E7%A1%80%E7%AF%87mongodbshell%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">MongoDB基础篇MongoDBShell命令大全</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<blockquote>
<h5 id="分享一个朋友的人工智能教程-比较通俗易懂-风趣幽默-感兴趣的朋友可以去看看">分享一个朋友的人工智能教程。比较通俗易懂，风趣幽默，感兴趣的朋友可以去看看。</h5>

<p>要想能熟练操作MongoDB，首先先要熟练使用 MongoDB Shell， 再次要熟练使用驱动 mongodb-java-driver,
最后是spring-data-mongodb的使用</p>
</blockquote>

<p>MongoDB 简介：</p>

<p>MongoDB采用Bson格式存储，BSON格式比JSON数据类型更加丰富，<br />
支持ObjectId、日期类型、正则表达式、JS代码、二进制数据等</p>

<p>MongoDB注意：</p>

<ul>
<li>MongoDB 不支持事务</li>
<li>MongoDB 不支持多表连接查询</li>
<li>MongoDB 中的键值对是有序的，相同的键值对，不同的顺序，属于不同的文档</li>
<li>new Date(); 返回日期对象，属于日期类型，Date()函数返回日期字符串，在Shell中操作日期要使用日期类型， 日期类型是包含时区的</li>
<li>_id的值可以是任意类型，默认是ObjectId类型，可以在分片环境中生成唯一的标识符（时间戳（单位：秒）+主机的唯一标示（主机名的hash值）+进程标识符PID+自动增加的计数器）， 通过时间戳可以大概知道ObjectId大概是按时间先后排序的，主机的唯一标示可以用于保证在多台服务器器上不重复，进程ID为了保证同台服务器器上多个不同的进程之间生成不重复 值，最后一部分是一个自增的计数器， 前面三部分是为了保证同一秒在同一台机器上的同一个进程上生成一个唯一的值，最后一部分用于保证在同一秒、同一台机器、同一个进程 在同一秒内（注意是同一秒内）生成唯一值</li>

<li><p>mongodb中有一些特殊的键，它们被称为修改器、操作符等</p>

<p>以 $ 开头，如
$set（更新字段）、
$unset(删除字段)、
$inc(自增或自减)、
$and、$or、$in、$nin、$nor、$exists（用于判断文档中是否包含某字段）、
$push(向数组中尾部添加一个元素)、
$pushAll(将数组中的所有值push)、
$addToSet（向set集合中添加元素）、
$pop(删除数组中的头部或尾部元素)，
$pull(删除数组中指定的值)、
$size（根据数组的长度进行筛选）、
$slice(返回数组中部分元素，如前几个、后几个、中间连续几个元素)、
$elemMatch(用于匹配数组中的多个条件)、
$where(自定义筛选条件，效率比较低，需要将bson转为js对象，不能使用索引，可以先使用普通查询过滤掉部分不满足条件的文档，然后再使用where，尽量减少where操作文档的数量过大)</p></li>
</ul>

<p>MongoDB 与 关系型数据库的对比：</p>

<ul>
<li>MongoDB &mdash;&mdash;&mdash;-&gt; SQL</li>
<li>database数据库 &mdash;-&gt;database数据库</li>
<li>collection集合&mdash;&mdash;-&gt;table表</li>
<li>document文档&mdash;-&gt; row 行</li>
<li>filed字段&mdash;&mdash;-&gt; column列</li>
<li>index索引&mdash;&ndash;&gt; index索引</li>
<li>不支持多表连接查询—&gt; 支持多表连接查询<br />
在使用Shell中的方法时，注意很多方法都是有重载函数的</li>
</ul>

<hr />

<h2 id="一-启动服务和连接服务">一：启动服务和连接服务</h2>

<h3 id="1-mongod-用于启动mongodb服务">1、mongod 用于启动MongoDB服务</h3>

<p>MongoDB的数据时存储在磁盘上的，而不是存储在内存中的，所以在启动MongoDB服务时需要指定数据存储的位置，
如果不指定会默认存储在/data/db目录下, 注意在使用默认位置时，需要以管理员身份预先创建好目录</p>

<h4 id="方式一-使用默认的路径-mongodb安装所在的盘符-data-db">方式一： 使用默认的路径，MongoDB安装所在的盘符:/data/db</h4>

<pre><code>C:\Windows\system32&gt;D:
D:\&gt;mkdir data
D:\&gt;cd data
D:\data&gt;mkdir db
D:\data&gt;cd D:\Java\MongoDB\Server\bin
D:\Java\MongoDB\Server\bin&gt;mongod

MongoDB starting : pid=9712 port=27017 dbpath=D:\data\db\ 64-bit host=zm-PC
</code></pre>

<p><a href="https://img.it610.com/image/info8/a62697f46122431087238c6c3e125b54.jpg"><img src="https://img.it610.com/image/info8/a62697f46122431087238c6c3e125b54.jpg" alt="MongoDB基础篇：MongoDB
Shell命令大全_第1张图片" /></a></p>

<h4 id="方式二-显式指定数据库路径">方式二： 显式指定数据库路径</h4>

<p>此种方式也要预先创建好目录，这里的位置放置MongoDB里面，如D:\Java\MongoDB\DB，放在MongoDB里面不需要管理员身份创建<br />
<a href="https://img.it610.com/image/info8/e34a1f60def5469aade39bfd1181e1ed.jpg"><img src="https://img.it610.com/image/info8/e34a1f60def5469aade39bfd1181e1ed.jpg" alt="MongoDB基础篇：MongoDB
Shell命令大全_第2张图片" /></a></p>

<h4 id="方式三-安装服务">方式三： 安装服务</h4>

<pre><code>D:\Java\MongoDB\Server\bin&gt;mongod  --dbpath=D:\data\db --logappend --logpath=D:\data\log.txt --install
</code></pre>

<p><a href="https://img.it610.com/image/info8/ed875522c90b4bf99051835793aa71f4.jpg"><img src="https://img.it610.com/image/info8/ed875522c90b4bf99051835793aa71f4.jpg" alt="MongoDB基础篇：MongoDB
Shell命令大全_第3张图片" /></a></p>

<p>以后启动服务只需要net start MongoDB, 比<code>mongod --dbpath=xxx</code>稍微方便些,
以后电脑开机后就自动启动了，省的每次都要启动</p>

<p><a href="https://img.it610.com/image/info8/4ca7e45d89534890a727103096248091.jpg"><img src="https://img.it610.com/image/info8/4ca7e45d89534890a727103096248091.jpg" alt="MongoDB基础篇：MongoDB
Shell命令大全_第4张图片" /></a></p>

<hr />

<h3 id="2-mongo-用于客户端连接服务器">2、mongo 用于客户端连接服务器</h3>

<p>语法： mongo [IP:PORT][/DATABASE_NAME]</p>

<p>IP默认的是127.0.0.1<br />
Port默认的是27017<br />
database默认的是test，mongodb中默认有两个数据库admin、local</p>

<pre><code>D:\Java\MongoDB\Server\bin&gt;mongo
</code></pre>

<p><a href="https://img.it610.com/image/info8/89a501fe77b84379a23aeffc8b141bc9.png"><img src="https://img.it610.com/image/info8/89a501fe77b84379a23aeffc8b141bc9.png" alt="MongoDB基础篇：MongoDB
Shell命令大全_第5张图片" /></a></p>

<pre><code>D:\Java\MongoDB\Server\bin&gt;mongo 127.0.0.1:27017



D:\Java\MongoDB\Server\bin&gt;mongo 127.0.0.1:27017/admin



// 连接时不指定要连接数据库，需要时从连接中获取需要的数据库
D:\Java\MongoDB\Server\bin&gt;mongo --nodb
MongoDB shell version v3.4.6
&gt; db
2017-07-27T20:27:25.181+0800 E QUERY    [thread1] ReferenceError: db is not defined :
@(shell):1:1
&gt; conn = new Mongo(&quot;localhost:27017&quot;)
connection to localhost:27017
&gt; db = conn.getDB(&quot;test&quot;)
test
&gt;
</code></pre>

<h3 id="3-基本命令">3. 基本命令</h3>

<p>help命令：如果想知道某个对象下都有哪些函数可以使用help命令，直接使用help会列举出mongodb支持操作，使用db.help()会列举所有db对象所支持的所有操作，使用db.mycoll.help()可以列举所有集合对象对应的操作</p>

<pre><code>&gt; help
        db.help()                    help on db methods
        db.mycoll.help()             help on collection methods
        sh.help()                    sharding helpers
        rs.help()                    replica set helpers
        help admin                   administrative help
        help connect                 connecting to a db help
        help keys                    key shortcuts
        help misc                    misc things to know
        help mr                      mapreduce

        show dbs                     show database names
        show collections             show collections in current database
        show users                   show users in current database
        show profile                 show most recent system.profile entries with time &gt;= 1ms
        show logs                    show the accessible logger names
        show log [name]              prints out the last segment of log in memory, 'global' is default
        use                 set current database
        db.foo.find()                list objects in collection foo
        db.foo.find( { a : 1 } )     list objects in foo where a == 1
        it                           result of the last line evaluated; use to further iterate
        DBQuery.shellBatchSize = x   set default number of items to display on shell
        exit                         quit the mongo shell
// 查看所有数据级别的操作
&gt; db.help()
// 查看集合级别的操作
&gt; db.mycoll.help()
// 列举数据库命令
&gt; db.listCommands()
</code></pre>

<p>查看函数方法的实现或者查看方法的定义（比如忘记函数的参数了）可以通过输入函数名，不带小括号</p>

<pre><code>&gt; db.foo.update
function (query, obj, upsert, multi) {
    var parsed = this._parseUpdate(query, obj, upsert, multi);
    ...
}



// 打印语句
&gt; print(&quot;hello, mongodb&quot;)
hello, mongodb
&gt;

// 执行js脚本
D:\Java\MongoDB\Server\bin&gt;mongo script1.js script2.js
loading file: script1.js
I am script1.js
loading file: script2.js
I am script2.js

// 使用load（）函数加载脚本来执行
&gt; load(&quot;script1.js&quot;)
I am script1.js
true



// script3.js
print(db.getMongo().getDBs());    // show dbs
db.getSisterDB(&quot;foo&quot;);    // use foo
db.users.insert({&quot;username&quot;: &quot;mengday&quot;, &quot;age&quot;: 26})
print(db.getCollectionNames());  // show collections

&gt; load(&quot;script3.js&quot;)
[object BSON]
users
true
&gt;



// 使用脚本可以定义一些辅助的工具函数
tools.js
var connectTo = function (port, dbname) {
    if(!port) port = 27017;
    if(!dbname) dbname = &quot;test&quot;;

    db = connect(&quot;localhost:&quot; + port + &quot;/&quot; + dbname);

    return db;
}

&gt; load(&quot;tools.js&quot;)
true
&gt; typeof connectTo
function
&gt; connectTo(&quot;27017&quot;, &quot;admin&quot;)
connecting to: mongodb://localhost:27017/admin
MongoDB server version: 3.4.6
admin
&gt;



客户端启动时自动执行js脚本
在用户的主目录下（如C:\Users\mengday）下创建一个.mongorc.js文件，该脚本可以做一些操作，如重写shell命令，禁掉一部分功能，如删除数据库，表等危险操作
// .mongorc.js
print(&quot;--------------MongoDB is started--------------&quot;);

var no = function(){
    print(&quot;not permission&quot;);
}

db.dropDatabase = DB.prototype.dropDatabase = no;
DBCollection.prototype = no;
DBCollection.prototype.dropIndex = no;

// 启动shell时会自动执行
D:\Java\MongoDB\Server\bin&gt;mongo
MongoDB shell version v3.4.6
connecting to: mongodb://127.0.0.1:27017
MongoDB server version: 3.4.6
----------------MongoDB is started-----------------
&gt; db
test
&gt; db.dropDatabase()
not permission
&gt;



// mongo 启动后给EDITOR变量赋值一个文本编辑器的位置，然后就可以使用edit命令来打开编辑某个变量了，编辑后保存，然后直接关掉编辑器即可，这对于一条命令或者变量比较长编辑比较方便，注意文本编辑器的位置不能包含空格，路径要使用/,不能使用\
EDITOR=&quot;D:/SublimeText/sublime_text.exe&quot;
var user = {&quot;username&quot;: &quot;mengday&quot;, &quot;nickname&quot;: &quot;xxx&quot;};
edit user

// 方式二：可以将该配置放在.mongorc.js中，以后就不用每次设置了
EDITOR=&quot;D:/SublimeText/sublime_text.exe&quot;;
</code></pre>

<h2 id="二-数据库基本命令">二：数据库基本命令</h2>

<p><a href="https://img.it610.com/image/info8/a7dc8477ac954a05875d1085c46cde28.png"><img src="https://img.it610.com/image/info8/a7dc8477ac954a05875d1085c46cde28.png" alt="MongoDB基础篇：MongoDB
Shell命令大全_第6张图片" /></a></p>

<p>查看当前数据库 db<br />
显示所有数据库 show dbs，如果数据库里没有任何集合，是不展示出来的，如 use test2, show dbs 时是不包含test2数据库的<br />
切换或者新建数据库 use DATABASE_NAME， 切换数据库时如果数据库不存在，则会创建它<br />
删除数据库 db.dropDatabase()<br />
显示所有表（集合）show tables<br />
查看js方法的原型（源代码实现）： db.xxx.insert， 随便写一个集合名字，集合后面跟函数名，不需要函数的参数 即可查看该函数的源码实现</p>

<pre><code>// mong shell 是一种javascript shell, 可以定义变量、函数，调用函数
&gt; x = 200
200
&gt; x / 5
40
&gt; Math.sin(Math.PI / 2)
1
// new Date():是创建一个日期对象，而Date()函数是返回日期字符串，注意日期类型数据和字符串数据不是一种数据，MongoDB Shell在操作日期字段的时候是操作的日期类型而不是字符串类型
&gt; new Date()
ISODate(&quot;2017-07-27T00:18:34.370Z&quot;)
&gt; Date()
Thu Jul 27 2017 08:18:37 GMT+0800
&gt;
&gt; &quot;Hello, World!&quot;.replace(&quot;World&quot;, &quot;MongoDB&quot;)
Hello, MongoDB!
&gt; function factorial(n) {
... if(n &lt;= 1) return 1;
... return n * factorial(n - 1);
... }
&gt; factorial(5)
120
&gt;

// db 是一个全局变量，存储当前的数据名称，当切换数据库时会自动更改db的值
&gt; db
test
&gt; show dbs
admin  0.000GB
local  0.000GB
&gt; use local
switched to db local
&gt; show tables
startup_log
&gt; use test
switched to db test
&gt; db.dropDatabase()
{ &quot;ok&quot; : 1 }
&gt; db.xxx.insert

// 查看一个bson的大小，每个文档最大不超过16M
&gt; var user = {&quot;username&quot;: &quot;mengday&quot;}
&gt; Object.bsonsize(user)
27
</code></pre>

<hr />

<h2 id="集合操作">集合操作</h2>

<h3 id="创建集合">创建集合</h3>

<p>方式一：隐式创建集合<br />
当向集合中的插入文档时，如果集合不存在，系统会自动创建，所以向一个不存在的集合中插入数据也就是创建了集合</p>

<pre><code>&gt; db
test
&gt; show tables
&gt; db.users.insert({&quot;usernmae&quot;: &quot;mengdee&quot;, &quot;age&quot;: 26})
WriteResult({ &quot;nInserted&quot; : 1 })
&gt; show tables
users
&gt;
</code></pre>

<p>方式二：显示创建集合<br />
db.createCollection(“集合名字”， 可选配置)<br />
显示创建集合可以通过一些配置创建一些特殊的集合，如固定集合</p>

<pre><code>&gt; show tables
users
&gt; db.createCollection(&quot;address&quot;)
{ &quot;ok&quot; : 1 }

// 固定集合只能通过调用方法显式创建，固定集合可以指定集合存储数据的大小和最多允许存储的条数
// 当固定集合文档条数达到上限时，再插入新的文档会将最老的文档删除掉，然后插入到该位置
&gt; db.createCollection(&quot;address&quot;, {capped: true, size: 10000, max:1000})
{ &quot;ok&quot; : 1 }
&gt; show tables
address
users
&gt;
</code></pre>

<h3 id="删除集合">删除集合</h3>

<p>db.集合名字.drop()</p>

<pre><code>&gt; db.address.drop()
true
</code></pre>

<h3 id="查看集合">查看集合</h3>

<p>show tables和show collections都可以查看当前数据下的集合</p>

<pre><code>&gt; show tables
address
users
&gt;
&gt; show collections
address
users
&gt;
</code></pre>

<hr />

<h3 id="添加数据">添加数据</h3>

<pre><code>方式一： insert： _id 会自动创建唯一索引，当id重复的时候会报错
db.集合名字.insert({})        // 插入一条，返回值中不包含insertedIds
db.集合名字.insert([{}, {}])  // 批量插入，返回值中不包含insertedIds
db.集合名字.insertOne(Bson)   // 插入一条，返回值返回插入的insertedId
db.集合名字.insertMany(Bson)  // 批量插入，返回值中包含insertedIds
db.集合名字.findAndModify({查询条件}, &quot;update&quot;: {需要添加或更新的字段},  &quot;upsert&quot;: true });

写入安全：
    应答模式：插入时会返回成功或者失败
    非应答模式：插入时没有反馈，即插入有没有成功不知道
&gt; var user = {&quot;name&quot;: &quot;mengdee&quot;, &quot;age&quot;: 20, &quot;address&quot;: &quot;上海市浦东新区张江镇&quot;, &quot;create_time&quot;: new Da
te()}
&gt; db.users.insert(user)
WriteResult({ &quot;nInserted&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : ObjectId(&quot;5976ad21670af2aa52ea90df&quot;), &quot;username&quot; : &quot;mengdee&quot;, &quot;age&quot; : 26 }
{ &quot;_id&quot; : ObjectId(&quot;5976b395670af2aa52ea90e0&quot;), &quot;name&quot; : &quot;mengdee&quot;, &quot;age&quot; : 20, &quot;address&quot; : &quot;上海市
浦东新区张江镇&quot;, &quot;create_time&quot; : ISODate(&quot;2017-07-25T02:57:04.545Z&quot;) }

&gt; var userDoc = db.users.findOne()
&gt; var insertDate = userDoc[&quot;_id&quot;]
&gt; insertDate.getTimestamp()
ISODate(&quot;2017-07-25T02:29:53Z&quot;)
&gt; insertDate.str
5976ad21670af2aa52ea90df

&gt; db.users.insertOne({&quot;username&quot;: &quot;mengday3&quot;})
{
        &quot;acknowledged&quot; : true,
        &quot;insertedId&quot; : ObjectId(&quot;5976b632670af2aa52ea90e1&quot;)
}
&gt; db.users.insertMany([{&quot;username&quot;: &quot;mengday4&quot;}, {&quot;username&quot;: &quot;mengday5&quot;}])
{
        &quot;acknowledged&quot; : true,
        &quot;insertedIds&quot; : [
                ObjectId(&quot;5976b666670af2aa52ea90e2&quot;),
                ObjectId(&quot;5976b666670af2aa52ea90e3&quot;)
        ]
}
&gt; db.users.insert([{&quot;username&quot;: &quot;mengday6&quot;}, {&quot;username&quot;: &quot;mengday7&quot;}])
BulkWriteResult({
        &quot;writeErrors&quot; : [ ],
        &quot;writeConcernErrors&quot; : [ ],
        &quot;nInserted&quot; : 2,
        &quot;nUpserted&quot; : 0,
        &quot;nMatched&quot; : 0,
        &quot;nModified&quot; : 0,
        &quot;nRemoved&quot; : 0,
        &quot;upserted&quot; : [ ]
})

// 使用insertOne插入重复的_id 会报错
&gt; db.users.insertOne({&quot;_id&quot;: 1, &quot;username&quot;: &quot;mengday8&quot;})
{ &quot;acknowledged&quot; : true, &quot;insertedId&quot; : 1 }
&gt; db.users.insertOne({&quot;_id&quot;: 1, &quot;username&quot;: &quot;mengday8&quot;})
2017-07-25T11:15:47.822+0800 E QUERY    [thread1] WriteError: E11000 duplicate key error collection:
 test.users index: _id_ dup key: { : 1.0 } :
WriteError({
        &quot;index&quot; : 0,
        &quot;code&quot; : 11000,
        &quot;errmsg&quot; : &quot;E11000 duplicate key error collection: test.users index: _id_ dup key: { : 1.0 }
&quot;,
        &quot;op&quot; : {
                &quot;_id&quot; : 1,
                &quot;username&quot; : &quot;mengday8&quot;
        }
})

// findAndModify 也可以用于插入文档，但是前提是一定不存在，如果存在了就变成更新了，单纯的插入还是不要用种方式了，findAndModify一般用于更新或删除操作
&gt; db.users.findAndModify({ &quot;query&quot;: {&quot;username&quot;: &quot;mengday11&quot;}, &quot;update&quot;: {&quot;username&quot;: &quot;mengday11&quot;, &quot;age&quot;: 26},  &quot;upsert&quot;: true })
null
&gt; db.users.find()
{ &quot;_id&quot; : ObjectId(&quot;597c584448c373e228a9259e&quot;), &quot;username&quot; : &quot;xxx&quot;, &quot;age&quot; : 26 }
</code></pre>

<p>MongoDB Shell是一种JS，所以可以通过var来定义变量，可以通过find（）方法来查找集合中的所有数据，相当于select * from
users<br />
插入数据时，如果没有指定_id这个字段，系统会自动生成一个值，从该值中能够解析出插入文档的日期或者获取日期中的字符串值</p>

<p>方式二：save()<br />
db.集合名字.save(Bson) :
如果要插入的文档没有指定_id,则插入文档，如果指定_id,如果集合中不包含_id，则插入文档，如果集合中已经存在相同的id值，则更会整体替换</p>

<pre><code>&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday8&quot; }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;mengday8&quot; }
&gt; db.users.save({ &quot;_id&quot; : 3, &quot;mengday9&quot; : 20})
WriteResult({ &quot;nMatched&quot; : 0, &quot;nUpserted&quot; : 1, &quot;nModified&quot; : 0, &quot;_id&quot; : 3 })
&gt; db.users.save({ &quot;_id&quot; : 2, &quot;age&quot; : 20, &quot;gender&quot;: 1 })
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday8&quot; }
{ &quot;_id&quot; : 2, &quot;age&quot; : 20, &quot;gender&quot; : 1 }
{ &quot;_id&quot; : 3, &quot;mengday9&quot; : 20 }
&gt;
&gt; db.users.save([{ &quot;_id&quot; : 4, &quot;username&quot;: &quot;mengday9&quot;}, { &quot;_id&quot; : 5, &quot;username&quot;:&quot;mengday10&quot;}])
</code></pre>

<p>方式三： update()<br />
update({查询条件}, {更新的文档}， 是否开启addOrUpdate) :
addOrUpdate为true，当集合中不存在的时候就插入，存在就更新</p>

<pre><code>&gt; db.users.find()
{ &quot;_id&quot; : 5, &quot;username&quot; : &quot;mengday10&quot; }
&gt; db.users.update({&quot;username&quot; : &quot;mengday11&quot;}, { &quot;_id&quot; : 6, &quot;age&quot; : 20, &quot;gender&quot; : 1 }, true)
WriteResult({ &quot;nMatched&quot; : 0, &quot;nUpserted&quot; : 1, &quot;nModified&quot; : 0, &quot;_id&quot; : 6 })
&gt; db.users.find()
{ &quot;_id&quot; : 5, &quot;username&quot; : &quot;mengday10&quot; }
{ &quot;_id&quot; : 6, &quot;age&quot; : 20, &quot;gender&quot; : 1 }
&gt;
</code></pre>

<h3 id="删除-remove">删除 remove</h3>

<p>remove({删除条件})： 删除满足条件的所有数据<br />
remove({删除条件}， true)： 删除满足条件的第一条数据<br />
remove({}): 清空集合中的所有文档</p>

<pre><code>// 删除bson变量中的某个字段
&gt; var user = {&quot;username&quot;: &quot;mengday&quot;, &quot;age&quot;: 26}
&gt; delete user.age
&gt; user
{ &quot;username&quot; : &quot;mengday&quot; }


&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday&quot;, &quot;password&quot; : &quot;123456&quot; }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;mengday2&quot;, &quot;password&quot; : &quot;123456&quot; }
{ &quot;_id&quot; : 3, &quot;username&quot; : &quot;mengday3&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;age&quot; : 18 }
{ &quot;_id&quot; : 4, &quot;username&quot; : &quot;mengday4&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;age&quot; : 28 }
{ &quot;_id&quot; : 5, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;age&quot; : 38 }
&gt; db.users.remove({age: {$lt: 38}})
WriteResult({ &quot;nRemoved&quot; : 2 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday&quot;, &quot;password&quot; : &quot;123456&quot; }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;mengday2&quot;, &quot;password&quot; : &quot;123456&quot; }
{ &quot;_id&quot; : 5, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;age&quot; : 38 }
&gt; db.users.remove({&quot;password&quot;: &quot;123456&quot;}, true)
WriteResult({ &quot;nRemoved&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;mengday2&quot;, &quot;password&quot; : &quot;123456&quot; }
{ &quot;_id&quot; : 5, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;age&quot; : 38 }
&gt; db.users.remove({})
WriteResult({ &quot;nRemoved&quot; : 2 })

// findAndModify可以用来插入或更新upsert、也可以用来删除
&gt; db.users.findAndModify({
   &quot;query&quot;: {&quot;username&quot;: &quot;mengday&quot;},
   &quot;remove&quot;: true
})
{
        &quot;_id&quot; : ObjectId(&quot;597c3c1587d089dfa7ce1be3&quot;),
        &quot;username&quot; : &quot;mengday&quot;,
        &quot;addresses&quot; : [
                {
                        &quot;city&quot; : &quot;shanghai&quot;,
                        &quot;area&quot; : &quot;zhangjiang&quot;
                },
                {
                        &quot;city&quot; : &quot;beijing&quot;,
                        &quot;area&quot; : &quot;CHAOYANG&quot;
                }
        ],
        &quot;create_time&quot; : ISODate(&quot;2017-07-29T09:09:14.031Z&quot;)
}
</code></pre>

<h3 id="更新-update-findandmodify">更新 update，findAndModify</h3>

<p>更新指定字段的值<br />
替换整个文档<br />
更新满足条件的第一条文档<br />
更新满足条件的所有文档</p>

<pre><code>&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;age&quot; : 38 }
// 使用$set修改器修改指定字段, 当字段不存在时会创建并赋值
&gt; db.users.update({&quot;username&quot;: &quot;mengday5&quot;}, {$set: {&quot;age&quot;: 18}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;age&quot; : 18 }

// $unset 用于删除字段
&gt; db.users.update({&quot;username&quot;: &quot;mengday5&quot;}, {&quot;$unset&quot;: {&quot;age&quot;: 1}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot; }

&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot; }

// $push: 向数组的尾部添加一个元素，如果字段不存在则创建
&gt; db.users.update({&quot;username&quot;: &quot;mengday5&quot;}, {&quot;$push&quot;: {&quot;hobby&quot;: &quot;mm&quot;}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;hobby&quot; : [ &quot;mm&quot; ] }
&gt; db.users.update({&quot;username&quot;: &quot;mengday5&quot;}, {&quot;$push&quot;: {&quot;hobby&quot;: &quot;money&quot;}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;hobby&quot; : [ &quot;mm&quot;, &quot;money&quot; ] }
&gt;

// $push + $each : 批量push
&gt; db.users.update({&quot;username&quot;: &quot;mengday5&quot;}, {&quot;$push&quot;: {&quot;hobby&quot;: {&quot;$each&quot;: [&quot;play&quot;, &quot;eat&quot;]}}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;hobby&quot; : [ &quot;mm&quot;, &quot;money&quot;, &quot;play&quot;, &quot;eat&quot; ] }
&gt;

// $pushAll = $push + $each 批量push
&gt; db.users.update({&quot;username&quot;: &quot;mengday5&quot;}, {&quot;$pushAll&quot;: {&quot;hobby&quot;: [&quot;drink&quot;, &quot;happy&quot;]}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;hobby&quot; : [ &quot;mm&quot;, &quot;money&quot;, &quot;play&quot;, &quot;eat&quot;, &quot;drink&quot;, &quot;happy&quot; ] }


&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot; }

// $addToSet：不重复的set集合
&gt; db.users.update({}, {&quot;$addToSet&quot;: {&quot;hobby&quot;: &quot;eat&quot;}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;hobby&quot; : [ &quot;eat&quot; ] }
&gt;
&gt; db.users.update({}, {&quot;$addToSet&quot;: {&quot;hobby&quot;: {&quot;$each&quot;: [&quot;eat&quot;, &quot;drink&quot;]}}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;hobby&quot; : [ &quot;eat&quot;, &quot;drink&quot; ] }
&gt;

// $pop: 弹出数组的头部元素或尾部元素： -1：头部，1：尾部
&gt; db.users.update({}, {&quot;$pop&quot;: {&quot;hobby&quot;: 1}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday5&quot;, &quot;password&quot; : &quot;123456&quot;, &quot;hobby&quot; : [ &quot;eat&quot; ] }

// $pull: 删除数组中的值
&gt; db.lists.insert({&quot;no&quot;: [1, 1, 1, 3]})
WriteResult({ &quot;nInserted&quot; : 1 })
&gt; db.lists.update({}, {&quot;$pull&quot;: {&quot;no&quot;: 1}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.lists.find()
{ &quot;_id&quot; : ObjectId(&quot;597c0a3087d089dfa7ce1be2&quot;), &quot;no&quot; : [ 3 ] }
&gt;

// 使用小标或者定位操作符$来操作数组
&gt; db.users.find()
{ &quot;_id&quot; : ObjectId(&quot;597c3c1587d089dfa7ce1be3&quot;), &quot;username&quot; : &quot;mengday&quot;, &quot;addresses&quot; : [ { &quot;city&quot; : &quot;shanghai&quot;, &quot;area&quot; : &quot;zhangjiang&quot; }, { &quot;city&quot; : &quot;be
ijing&quot;, &quot;area&quot; : &quot;chaoyang&quot; } ] }
&gt;
// 修改内嵌文档数组中第二个元素的值
&gt; db.users.update({&quot;username&quot;: &quot;mengday&quot;}, {&quot;$set&quot;: {&quot;addresses.1.area&quot;: &quot;chaoyangqu&quot;}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.findOne()
{
        &quot;_id&quot; : ObjectId(&quot;597c3c1587d089dfa7ce1be3&quot;),
        &quot;username&quot; : &quot;mengday&quot;,
        &quot;addresses&quot; : [
                {
                        &quot;city&quot; : &quot;shanghai&quot;,
                        &quot;area&quot; : &quot;zhangjiang&quot;
                },
                {
                        &quot;city&quot; : &quot;beijing&quot;,
                        &quot;area&quot; : &quot;chaoyangqu&quot;
                }
        ]
}

// 定位操作符$: 查询条件一般是以数组中的元素为条件，使用$符号作为满足查询条件的第一条文档对应的下标值
&gt; db.users.update({&quot;addresses.city&quot;: &quot;beijing&quot;}, {&quot;$set&quot;: {&quot;addresses.$.area&quot;: &quot;CHAOYANG&quot;}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.findOne()
{
        &quot;_id&quot; : ObjectId(&quot;597c3c1587d089dfa7ce1be3&quot;),
        &quot;username&quot; : &quot;mengday&quot;,
        &quot;addresses&quot; : [
                {
                        &quot;city&quot; : &quot;shanghai&quot;,
                        &quot;area&quot; : &quot;zhangjiang&quot;
                },
                {
                        &quot;city&quot; : &quot;beijing&quot;,
                        &quot;area&quot; : &quot;CHAOYANG&quot;
                }
        ]
}


// 文档整体替换
&gt; db.users.update({&quot;username&quot;: &quot;mengday5&quot;}, {&quot;age&quot;: 17})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;age&quot; : 17 }

// 第三个参数： 插入或者更新，当_id不存在的时候插入，当_id值存在的时候更新
&gt; db.users.update({&quot;_id&quot;: 2}, {&quot;username&quot;: &quot;mengday&quot;, &quot;age&quot;: 16}, true)
WriteResult({ &quot;nMatched&quot; : 0, &quot;nUpserted&quot; : 1, &quot;nModified&quot; : 0, &quot;_id&quot; : 2 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;age&quot; : 17 }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;mengday&quot;, &quot;age&quot; : 16 }

// 更新
&gt; db.users.update({&quot;_id&quot;: 2}, {&quot;username&quot;: &quot;mengday2&quot;, &quot;birthday&quot;: new Date()}, true)
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;age&quot; : 17 }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;mengday2&quot;, &quot;birthday&quot; : ISODate(&quot;2017-07-25T06:33:10.579Z&quot;) }

&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday&quot;, &quot;age&quot; : 16 }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;mengday2&quot;, &quot;age&quot; : 16 }

// 更新满足条件的第一条文档
&gt; db.users.update({&quot;age&quot;: 16}, {$set: {&quot;age&quot;: 18}})
WriteResult({ &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday&quot;, &quot;age&quot; : 18 }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;mengday2&quot;, &quot;age&quot; : 16 }

// 第三个参数：insertOrUpdate, 第四个参数：是否批量更新，true就是更新所有满足条件的文档
&gt; db.users.update({&quot;age&quot;: {$gte: 16}}, {$set: {&quot;age&quot;: 25}}, false, true)
WriteResult({ &quot;nMatched&quot; : 2, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 2 })
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday&quot;, &quot;age&quot; : 25 }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;mengday2&quot;, &quot;age&quot; : 25 }
&gt;

// 查询然后更新，更新是整体替换， 如果想更新指定的字段使用$set修改器即可
&gt; db.users.findAndModify({
    query: { &quot;username&quot;: &quot;mengday&quot;},
    update:{
           &quot;age&quot;: 20,
            &quot;username&quot;: &quot;mengday20&quot;
    }
})
{
        &quot;_id&quot; : 1,
        &quot;username&quot; : &quot;mengday&quot;,
        &quot;age&quot; : 20,
        &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:28.286Z&quot;)
}
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;age&quot; : 20, &quot;username&quot; : &quot;mengday20&quot; }
</code></pre>

<h3 id="查询">查询</h3>

<pre><code>// 查询所有， 相当于 select * from users
&gt; db.users.find()
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday&quot;, &quot;age&quot; : 20, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:28.286Z&quot;) }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;tom&quot;, &quot;age&quot; : 18, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:52.166Z&quot;) }
{ &quot;_id&quot; : 3, &quot;username&quot; : &quot;xiaohong&quot;, &quot;age&quot; : 28, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:06:13.741Z&quot;) }

{ &quot;_id&quot; : 4, &quot;username&quot; : &quot;xiaoming&quot;, &quot;age&quot; : 27, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:06:44.812Z&quot;) }

{ &quot;_id&quot; : 5, &quot;username&quot; : &quot;sunday&quot;, &quot;age&quot; : 37, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:07:45.420Z&quot;) }
&gt;

// pretty() 用于格式化查询的结果
&gt; db.users.find().pretty()
{
        &quot;_id&quot; : 1,
        &quot;username&quot; : &quot;mengday&quot;,
        &quot;age&quot; : 20,
        &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:28.286Z&quot;)
}
...
{
        &quot;_id&quot; : 5,
        &quot;username&quot; : &quot;sunday&quot;,
        &quot;age&quot; : 37,
        &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:07:45.420Z&quot;)
}
&gt;

// 查询一条， 相当于select * from users limit 1
&gt; db.users.findOne()
{
        &quot;_id&quot; : 1,
        &quot;username&quot; : &quot;mengday&quot;,
        &quot;age&quot; : 20,
        &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:28.286Z&quot;)
}

// 查询条件， 相当于 select * from users where age &lt; 20
&gt; db.users.find({&quot;age&quot;: {$lt: 20}})
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;tom&quot;, &quot;age&quot; : 18, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:52.166Z&quot;) }

// 查询指定的字段，1:代表要查询的字段，0：代表不要查询的字段 ，相当于 select username, age from users where age &lt; 20
&gt; db.users.find({&quot;age&quot;: {$lt: 20}}, {&quot;_id&quot;:0, &quot;username&quot;: 1, &quot;age&quot;: 1})
{ &quot;username&quot; : &quot;tom&quot;, &quot;age&quot; : 18 }

// and 条件,多个调剂直接用逗号分开，不需要什么操作符： 相当于 select * from users where age &lt; 20 and id &lt; 3
&gt; db.users.find({&quot;age&quot;: {$lt: 30}, &quot;_id&quot;: {$lt: 3 }})
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday&quot;, &quot;age&quot; : 20, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:28.286Z&quot;) }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;tom&quot;, &quot;age&quot; : 18, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:52.166Z&quot;) }

// 同一个字段多个条件： 相当于 select * from users where age &gt; 25 and age &lt; 30
&gt; db.users.find({&quot;age&quot;: {$gt: 25, $lt:30 }})
{ &quot;_id&quot; : 3, &quot;username&quot; : &quot;xiaohong&quot;, &quot;age&quot; : 28, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:06:13.741Z&quot;) }

{ &quot;_id&quot; : 4, &quot;username&quot; : &quot;xiaoming&quot;, &quot;age&quot; : 27, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:06:44.812Z&quot;) }

// or： 相当于 select * from users where age &gt; 30 or username = 'tom'
&gt; db.users.find({$or: [{&quot;age&quot;: {$gt: 30}}, {&quot;username&quot;: &quot;tom&quot;}]})
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;tom&quot;, &quot;age&quot; : 18, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:52.166Z&quot;) }
{ &quot;_id&quot; : 5, &quot;username&quot; : &quot;sunday&quot;, &quot;age&quot; : 37, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:07:45.420Z&quot;) }

// and or 混合使用，相当于 select * from users where id &lt; 4 and (username = 'mengdat' or age &lt; 20)
&gt; db.users.find({ $or: [{&quot;username&quot;: &quot;mengday&quot;}, {&quot;age&quot;: {$lt: 20}}], &quot;_id&quot;: {$lt: 4} })
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday&quot;, &quot;age&quot; : 20, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:28.286Z&quot;) }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;tom&quot;, &quot;age&quot; : 18, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:52.166Z&quot;) }
&gt;

// in: 相当于 select * from users where age in (18, 28)

&gt; db.users.find({&quot;age&quot;: {$in: [18, 28]}})
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;tom&quot;, &quot;age&quot; : 18, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:52.166Z&quot;) }
{ &quot;_id&quot; : 3, &quot;username&quot; : &quot;xiaohong&quot;, &quot;age&quot; : 28, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:06:13.741Z&quot;) }
&gt;

// 正则表达式不但可以匹配字符串还可以匹配字段值是正则表达式类型的，此时是相等匹配
// 模糊查询，正则表达式： 以xiao开头，以ng结尾
// 相当于 select * from users where username like 'xiao%' and username like '%ng'
&gt; db.users.find({&quot;username&quot;: /^xiao/, &quot;username&quot;: /ng$/})
{ &quot;_id&quot; : 3, &quot;username&quot; : &quot;xiaohong&quot;, &quot;age&quot; : 28, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:06:13.741Z&quot;) }

{ &quot;_id&quot; : 4, &quot;username&quot; : &quot;xiaoming&quot;, &quot;age&quot; : 27, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:06:44.812Z&quot;) }

&gt; db.users.insert({&quot;_id&quot;: 6, &quot;username&quot;: &quot;sunday&quot;, &quot;age&quot;: 39, &quot;birthday&quot;: new Date(), &quot;hobby&quot;: [&quot;eat
&quot;, &quot;drink&quot;, &quot;play&quot;, &quot;happy&quot;, &quot;money&quot;, &quot;mm&quot;] })
WriteResult({ &quot;nInserted&quot; : 1 })

// 正则表达式忽略大小写
&gt; db.users.find({&quot;username&quot;: {$regex:/sunday/, $options:&quot;$i&quot;}})
{ &quot;_id&quot; : 5, &quot;username&quot; : &quot;sunday&quot;, &quot;age&quot; : 37, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:07:45.420Z&quot;) }
{ &quot;_id&quot; : 6, &quot;username&quot; : &quot;SunDay&quot;, &quot;age&quot; : 39, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:53:16.072Z&quot;), &quot;h
obby&quot; : [ &quot;eat&quot;, &quot;drink&quot;, &quot;play&quot;, &quot;happy&quot;, &quot;money&quot;, &quot;mm&quot; ] }

// 正则表达式用于数组
&gt; db.users.find({&quot;hobby&quot;: {$regex: &quot;mm&quot;}})
{ &quot;_id&quot; : 6, &quot;username&quot; : &quot;SunDay&quot;, &quot;age&quot; : 39, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:53:16.072Z&quot;), &quot;h
obby&quot; : [ &quot;eat&quot;, &quot;drink&quot;, &quot;play&quot;, &quot;happy&quot;, &quot;money&quot;, &quot;mm&quot; ] }

// 正则表达式包含变量时需要使用eval()函数来计算
&gt; var username = &quot;sunday&quot;
&gt; db.users.find({&quot;username&quot;: {$regex:eval(&quot;/&quot; + username + &quot;/i&quot;)}})
{ &quot;_id&quot; : 5, &quot;username&quot; : &quot;sunday&quot;, &quot;age&quot; : 37, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:07:45.420Z&quot;) }
{ &quot;_id&quot; : 6, &quot;username&quot; : &quot;SunDay&quot;, &quot;age&quot; : 39, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:53:16.072Z&quot;), &quot;h
obby&quot; : [ &quot;eat&quot;, &quot;drink&quot;, &quot;play&quot;, &quot;happy&quot;, &quot;money&quot;, &quot;mm&quot; ] }

// 数组字段： 值，意思就是这个数组中是否包含该元素，如果包含就是满足条件的
&gt; db.food.insert({&quot;fruit&quot;: [&quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot;]})
WriteResult({ &quot;nInserted&quot; : 1 })
&gt; db.food.find({&quot;fruit&quot;: &quot;banana&quot;})
{ &quot;_id&quot; : ObjectId(&quot;597d353be210addac88b2a36&quot;), &quot;fruit&quot; : [ &quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot; ] }

// 当值是一个值时是是否包含，当值是数组时就是精确匹配了，此时匹配不到结果
&gt; db.food.find({&quot;fruit&quot;:  [&quot;apple&quot;, &quot;cherry&quot;]})
// $all: 数组中同时都包含多个元素
&gt; db.food.find({&quot;fruit&quot;: {$all: [&quot;apple&quot;, &quot;cherry&quot;]}})
{ &quot;_id&quot; : ObjectId(&quot;597d353be210addac88b2a36&quot;), &quot;fruit&quot; : [ &quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot; ] }

// 查询数组中指定的下标对应的值是否和给的值一样
// 查询文档中的fruit中第三个元素的值是cherry的文档
&gt; db.food.find({&quot;fruit.2&quot;: &quot;cherry&quot;})
{ &quot;_id&quot; : ObjectId(&quot;597d353be210addac88b2a36&quot;), &quot;fruit&quot; : [ &quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot; ] }
&gt;

// $size: 根据数组的长度进行筛选
&gt; db.food.find({&quot;fruit&quot;: {$size: 3}})
{ &quot;_id&quot; : ObjectId(&quot;597d353be210addac88b2a36&quot;), &quot;fruit&quot; : [ &quot;apple&quot;, &quot;banana&quot;, &quot;cherry&quot; ] }


&gt; db.food.find()
{ &quot;_id&quot; : ObjectId(&quot;597d353be210addac88b2a36&quot;), &quot;fruit&quot; : [ &quot;apple&quot;, &quot;banana&quot;, &quot;orange&quot;, &quot;cherry&quot; ]
&gt;
// 返回数组中前两个元素
&gt; db.food.find({}, {&quot;fruit&quot;: {$slice: 2}})
{ &quot;_id&quot; : ObjectId(&quot;597d353be210addac88b2a36&quot;), &quot;fruit&quot; : [ &quot;apple&quot;, &quot;banana&quot; ] }
// 返回数组中后两个元素
&gt; db.food.find({}, {&quot;fruit&quot;: {$slice: -2}})
{ &quot;_id&quot; : ObjectId(&quot;597d353be210addac88b2a36&quot;), &quot;fruit&quot; : [ &quot;orange&quot;, &quot;cherry&quot; ] }
// 偏移下标为1，取2个长度，相当于 limint 0, 2
&gt; db.food.find({}, {&quot;fruit&quot;: {$slice: [1, 2]}})
{ &quot;_id&quot; : ObjectId(&quot;597d353be210addac88b2a36&quot;), &quot;fruit&quot; : [ &quot;banana&quot;, &quot;orange&quot; ] }
&gt;


&gt; db.test.find()
{ &quot;_id&quot; : ObjectId(&quot;597d4342e210addac88b2a37&quot;), &quot;x&quot; : [ 2, 5 ] }
{ &quot;_id&quot; : ObjectId(&quot;597d4350e210addac88b2a38&quot;), &quot;x&quot; : [ 4, 5 ] }
{ &quot;_id&quot; : ObjectId(&quot;597d4367e210addac88b2a39&quot;), &quot;x&quot; : [ 4, 10 ] }
// $elemMatch: 数组中是否有一个元素同时满足所有条件（只要有一个元素满足就能匹配上）
&gt; db.test.find({&quot;x&quot;: {&quot;$elemMatch&quot;: {$gt: 5, $lt: 20}}})
{ &quot;_id&quot; : ObjectId(&quot;597d4367e210addac88b2a39&quot;), &quot;x&quot; : [ 4, 10 ] }

// 根据字段的数据类型来查询，2代码String
&gt; db.users.find({&quot;username&quot;: {$type: 2}})
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday&quot;, &quot;age&quot; : 20, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:28.286Z&quot;) }
{ &quot;_id&quot; : 2, &quot;username&quot; : &quot;tom&quot;, &quot;age&quot; : 18, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:52.166Z&quot;) }
{ &quot;_id&quot; : 3, &quot;username&quot; : &quot;xiaohong&quot;, &quot;age&quot; : 28, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:06:13.741Z&quot;) }
{ &quot;_id&quot; : 4, &quot;username&quot; : &quot;xiaoming&quot;, &quot;age&quot; : 27, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:06:44.812Z&quot;) }
{ &quot;_id&quot; : 5, &quot;username&quot; : &quot;sunday&quot;, &quot;age&quot; : 37, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:07:45.420Z&quot;) }
{ &quot;_id&quot; : 6, &quot;username&quot; : &quot;SunDay&quot;, &quot;age&quot; : 39, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:53:16.072Z&quot;), &quot;h
obby&quot; : [ &quot;eat&quot;, &quot;drink&quot;, &quot;play&quot;, &quot;happy&quot;, &quot;money&quot;, &quot;mm&quot; ] }

// 查询文档中没有username字段的或者username的值是null
&gt; db.users.find({&quot;username&quot;: null})
// 查询文档中存在username字段，并且值是null， $in:[null]和username:null 一样的效果
&gt; db.users.find({&quot;username&quot;: {$in: [null], $exists: true}})
{ &quot;_id&quot; : ObjectId(&quot;597c58f848c373e228a925a6&quot;), &quot;username&quot; : null, &quot;age&quot; : 25 }
{ &quot;_id&quot; : ObjectId(&quot;597c591e48c373e228a925ab&quot;), &quot;username&quot; : null, &quot;age&quot; : 24 }

// 自定义筛选条件，通过js函数返回的boolean值来筛选，可以实现复杂条件的筛选
&gt; db.users.find({$where: function(){ return this.username == 'mengday' }})
{ &quot;_id&quot; : 1, &quot;username&quot; : &quot;mengday&quot;, &quot;age&quot; : 20, &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:28.286Z&quot;) }

// 运行命令： 平常使用的很多命令如db.test.drop()底层都是调用的db.runCommand({&quot;函数名&quot;：参数值})来实现的
&gt; db.runCommand({&quot;drop&quot;: &quot;test&quot;})
{ &quot;ns&quot; : &quot;test.test&quot;, &quot;nIndexesWas&quot; : 1, &quot;ok&quot; : 1 }
// db.getLastError 和 db.runCommand({getLastError: 1}) 是一样的
&gt; db.getLastError
&gt; db.runCommand({getLastError: 1})

### 游标

游标： 将查询结果赋值给一个局部变量，这个局部变量就是游标, 使用游标时shell并不理解查询数据库，而是等待真正开始要求获取结果时（调用hasNext()或者next()方法）才发送查询，这样在执行之前可以给查询附加额外的选项，如skip、limit、sort等,游标是一次性的，即用过一次即销毁
</code></pre>

<blockquote>
<p>var cursor = db.users.find()<br />
 while(cursor.hasNext()){<br />
 user = cursor.next();<br />
 print(user);<br />
 }</p>
</blockquote>

<p>// 需要重新查新赋值一个游标，上一个游标已经销毁</p>

<blockquote>
<p>var cursor = db.users.find()<br />
 cursor.forEach(function(x){<br />
 print(x);<br />
 });</p>
</blockquote>

<p>// 查询两条文档 , 相当于 select id, username from users limit 2</p>

<blockquote>
<p>db.users.find({}, {“username”: 1}).limit(2)<br />
 { “_id” : 1, “username” : “mengday” }<br />
 { “_id” : 2, “username” : “tom” }</p>
</blockquote>

<p>// 分页第一种方法使用skip和limit函数, skip(2) 是指的offset， 相当于 select id, username from
users limit 2，2</p>

<blockquote>
<p>db.users.find({}, {“username”: 1}).skip(2).limit(2)<br />
 { “_id” : 3, “username” : “xiaohong” }<br />
 { “_id” : 4, “username” : “xiaoming” }</p>
</blockquote>

<p>// sort 排序， 1：升续， 2：降续</p>

<blockquote>
<p>db.users.find({}, {“username”: 1}).skip(2).limit(2).sort({“age”: 1})<br />
 { “_id” : 4, “username” : “xiaoming” }<br />
 { “_id” : 3, “username” : “xiaohong” }</p>
</blockquote>

<p>// 分页第二种方法：使用sort和limit函数</p>

<blockquote>
<p>db.users.find()<br />
 { “_id” : 1, “username” : “mengday1”, “age” : 26, “create_date” :
ISODate(“2017-07-30T07:52:33.837Z”) }<br />
 { “_id” : 2, “username” : “mengday2”, “age” : 26, “create_date” :
ISODate(“2017-07-30T07:52:43.021Z”) }<br />
 { “_id” : 3, “username” : “mengday3”, “age” : 26, “create_date” :
ISODate(“2017-07-30T07:52:53.420Z”) }<br />
 { “_id” : 4, “username” : “mengday4”, “age” : 26, “create_date” :
ISODate(“2017-07-30T07:53:00.299Z”) }<br />
 { “_id” : 5, “username” : “mengday5”, “age” : 26, “create_date” :
ISODate(“2017-07-30T07:53:07.826Z”) }<br />
 { “_id” : 6, “username” : “mengday6”, “age” : 26, “create_date” :
ISODate(“2017-07-30T07:53:13.290Z”) }<br />
 { “_id” : 7, “username” : “mengday7”, “age” : 26, “create_date” :
ISODate(“2017-07-30T07:54:36.710Z”) }<br />
 { “_id” : 8, “username” : “mengday8”, “age” : 26, “create_date” :
ISODate(“2017-07-30T07:54:40.262Z”) }</p>
</blockquote>

<p>// 先根据日期进行排序，获取第一页数据时直接使用limit指定获取的条数，将结果赋值给局部变量，然后循环该游标，记录下最后一条文档对应的日期值</p>

<blockquote>
<p>var page1 = db.users.find().sort({“create_date”: 1}).limit(5);<br />
 var latest = null;<br />
 while(page1.hasNext()){<br />
 … latest = page1.next();<br />
 … print(“page1:” + latest.username);<br />
 … }<br />
 page1:mengday1<br />
 page1:mengday2<br />
 page1:mengday3<br />
 page1:mengday4<br />
 page1:mengday5</p>
</blockquote>

<p>// 获取后面的页：将上一页保存的文档对应的时间作为下一页查询的条件，因为还好对时间进行排序，又过滤掉之前的数据，相当于skip的效果，然后再获取指定的条数</p>

<blockquote>
<p>var page2 = db.users.find({“create_date”: {$gt:
latest.create_date}}).sort({“create_date”: 1}).limit(5);<br />
 while(page2.hasNext()){<br />
 … latest = page2.next();<br />
 … print(“page2:” + latest.username);<br />
 … }<br />
 page2:mengday6<br />
 page2:mengday7<br />
 page2:mengday8</p>
</blockquote>

<pre><code>### 聚合操作
</code></pre>

<p>// distinct: 查询某个字段的所有不重复的值, 相当于 select distinct age from users</p>

<blockquote>
<p>db.users.distinct(“age”)<br />
 [ 20, 18, 28, 27, 37, 39 ]</p>
</blockquote>

<pre><code>// 分组： key： 要分组的字段， initial：值的初始化， condition：是筛选条件，$reduce：将满足的条件的所有文档都会执行该函数，finalize：每组函数执行完之后的操作，可以做一些统计什么的
db.users.group({ 
    &quot;key&quot;: {&quot;age&quot;: true}, 
    &quot;initial&quot;: {&quot;user&quot;: []}, 
    &quot;$reduce&quot;: function(cur, prev){
                        prev.user.push(cur) ;
               },
    &quot;condition&quot;: {&quot;age&quot;: {$lt:25}},
    &quot;finalize&quot;: function(out) {
        out.count = out.user.length;
    }
})

[
        {
                &quot;age&quot; : 20,
                &quot;user&quot; : [
                        {
                                &quot;_id&quot; : 1,
                                &quot;age&quot; : 20,
                                &quot;username&quot; : &quot;mengday20&quot;
                        }
                ],
                &quot;count&quot; : 1
        },
        {
                &quot;age&quot; : 18,
                &quot;user&quot; : [
                        {
                                &quot;_id&quot; : 2,
                                &quot;username&quot; : &quot;tom&quot;,
                                &quot;age&quot; : 18,
                                &quot;birthday&quot; : ISODate(&quot;2017-07-25T07:05:52.166Z&quot;)
                        }
                ],
                &quot;count&quot; : 1
        }
]
&gt;
</code></pre>

<blockquote>
<h5 id="分享一个朋友的人工智能教程-比较通俗易懂-风趣幽默-感兴趣的朋友可以去看看-1">分享一个朋友的人工智能教程。比较通俗易懂，风趣幽默，感兴趣的朋友可以去看看。</h5>
</blockquote>

<p>官方文档： <a href="https://docs.mongodb.com/manual/reference/method/">https://docs.mongodb.com/manual/reference/method/</a></p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>