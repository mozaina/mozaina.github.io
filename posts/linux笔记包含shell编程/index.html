<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Linux笔记包含shell编程 | 开发者问答集锦</title>
    <meta property="og:title" content="Linux笔记包含shell编程 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="Linux笔记包含shell编程">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/linux%E7%AC%94%E8%AE%B0%E5%8C%85%E5%90%ABshell%E7%BC%96%E7%A8%8B/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Linux笔记包含shell编程</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h3 id="文章目录">文章目录</h3>

<pre><code>* 一、Linux简介
* 二、VMware的安装
* 三、Centos7的安装
  * （1）vmtools 的安装和使用
* 四、Linux 的三种网络模式
  * （1）桥接模式
  * （2）nat模式（常用）
  * （3）仅主机模式
* 五、Linux的远程登录
  * 1、为什么需要远程连接？
  * 2、远程登录Linux-Xshell6
  * 3、安装并使用Xshell6
  * 4、安装并使用Xftp6
* 六、开机、重启和用户的登录与注销
  * 1、关机和重启
  * 2、登录和注销
* 七、Linux的文件目录
* 八、Linux的常用命令
    * 1、指定运行级别
    * 2、切换到指定运行级别的指令
    * 3、帮助类命令
    * 4、文件目录类命令
    * 5、日期类命令
    * 6、搜索查找类命令
    * 7、压缩和解压类
    * 8、磁盘分区、挂载
    * 9、磁盘情况查询
    * 10、网络配置
    * 11、进程
      * （1）ps(process)
      * （2）ps -aux
      * （3）ps -ef
      * （4）kill
      * （5）pstree 进程树
    * 12、服务
      * （1）service(CentOS6)
      * （2）systemctl(CentOS7)
    * 13、netstat
* 九、vi和vim 编辑器的使用
    * 1、vi和vim的基本介绍
    * 2、vi和vim的三种模式
      * （1）正常模式（默认模式）
      * （2）编辑模式
      * （3）命令模式
  * 十、用户管理-用户组管理-文件权限管理
    * 1、用户管理
    * 2、用户组管理
    * 3、文件权限管理
    * 4、系统中用户和组的相关文件
  * 十一、任务调度
    * 1、原理示意图
    * 2、概述
    * 3、基本语法
    * 4、快速使用
      * 4.1 任务的要求
      * 4.2 步骤如下
      * 4.3 参数细节说明
    * 5、crond相关指令
    * 6、案例
  * 十二、shell编程
    * 1、为什么要学习shell编程
    * shell是什么？
    * 2、shell编程快速入门-shell脚本的执行方式
    * 3、shell变量
      * 3.1 shell变量的介绍
      * 3.2 shell变量的定义
      * 3.3 定义变量的规则
      * 3.2 将命令的返回值返回给变量（重点）
    * 4、设置环境变量
      * 基本语法
    * 5、位置参数变量
      * 5.1 介绍
      * 5.2 基本语法
    * 6、预定义变量
      * 6.1 基本介绍
      * 6.2 基本语法
      * 6.3 应用实例
    * 7、运算符
      * 7.1 基本介绍
      * 7.2 基本语法
    * 8、条件判断
      * 8.1 基本语法
      * 8.2 应用实例
      * 8.3 常用的判断条件
    * 9、流程控制
      * 9.1 if 判断
        * （1）基本语法
      * 9.2 case 语句
        * （1）基本语法
      * 9.3 for循环
        * （1）基本语法
      * 9.4 while 循环
        * （1）基本语法
    * 10、read读取控制台输入
      * 10.1 基本语法
      * 10.2 应用实例
    * 10、函数
      * 10.1 函数介绍
      * 10.2 系统函数
      * 10.3 自定义函数
        * （1）基本语法
        * （2）应用实例
    * 11、shell编程综合案例
  * 十三、rpm和yum
    * 1、 rpm
    * 2、 yum
  * 十四、javaEE开发的环境设置
    * 8.1 安装JDK
    * 8.2 安装Tomcat
    * 8.4 安装MySQL
      * （1）检查工作
      * （2）安装MySQL
      * （3）检查安装是否成功
      * （4）MySQL服务的启停
      * （5）设置root用户的密码
      * （6）登录MySQL
      * （7）建库
      * （8）建表
      * （9）字符集问题
      * （10）远程访问
</code></pre>

<p>学习Linux的阶段划分</p>

<p><strong>（1）第 1 阶段</strong></p>

<p>​ linux 环境下的基本操作命令，包括 文件操作命令(rm mkdir chmod, chown) 编辑工具 使用（vi vim） linux
用户管理(useradd userdel usermod)等</p>

<p><strong>（2）第 2 阶段</strong></p>

<p>​ linux 的各种配置（环境变量配置，网络配置，服务配置）</p>

<p><strong>（3）第 3 阶段</strong></p>

<p>​ linux 下如何搭建对应语言的开发环境（大数据，JavaEE, Python 等）</p>

<p><strong>（4） 第 4 阶段</strong></p>

<p>​ 能编写 shell 脚本，对 Linux 服务器进行维护。</p>

<p><strong>（5）第 5 阶段</strong></p>

<p>​ 能进行安全设置，防止攻击，保障服务器正常运行，能对系统调优。</p>

<p><strong>（6）第 6 阶段</strong></p>

<p>​ 深入理解 Linux 系统（对内核有研究），熟练掌握大型网站应用架构组成、并熟悉各 个环节的部署和维 护方法。</p>

<h2 id="一-linux简介">一、Linux简介</h2>

<p>（1）Linux 是一款操作系统，免费，开源， 安全，高效，稳定， 处理高并发非常强悍，现在很多 的企业级 的项目都部署到 Linux/unix
服务器运行。</p>

<p>（2）Linux创始人</p>

<p>​ Linux 林纳斯（linux Torvalds）</p>

<p>（3）图标（吉祥物）——企鹅</p>

<p>（4）发行版本</p>

<p>​</p>

<h2 id="二-vmware的安装">二、VMware的安装</h2>

<p>找到安装包根据引导即可安装</p>

<h2 id="三-centos7的安装">三、Centos7的安装</h2>

<p>自行安装Centos7</p>

<h3 id="1-vmtools-的安装和使用">（1）vmtools 的安装和使用</h3>

<p>安装之后可以进行像windows一样粘贴复制</p>

<p>1.进入 centos</p>

<p>2.点击 vm 菜单的-&gt;install vmware tools</p>

<p>3.centos 会出现一个 vm 的安装包</p>

<p>4.点击右键解压, 得到一个安装文件</p>

<p>5.进入该 vm 解压的目录 ，该文件在 /root/桌面/vmware-tools-distrib/下</p>

<p>6.安装 ./vmware-install.pl</p>

<p>7.全部使用默认设置即可</p>

<p>8.需要 reboot 重新启动即可生效</p>

<h2 id="四-linux-的三种网络模式">四、Linux 的三种网络模式</h2>

<h3 id="1-桥接模式">（1）桥接模式</h3>

<p>可以上网，理解为局域网中的一台电脑</p>

<h3 id="2-nat模式-常用">（2）nat模式（常用）</h3>

<p>可以上网，理解为网络中的一台计算机</p>

<h3 id="3-仅主机模式">（3）仅主机模式</h3>

<p>外界不能ping通，只有宿主机可以连接</p>

<h2 id="五-linux的远程登录">五、Linux的远程登录</h2>

<h3 id="1-为什么需要远程连接">1、为什么需要远程连接？</h3>

<p>（1） linux 服务器是开发小组共享的.（因此需要）</p>

<p>（2）正式上线的项目是运行在公网的.</p>

<p>（3）因此程序员需要远程登录到 centos 进行项目管理或者开发.</p>

<p>（4）远程登录客户端有 Xshell5， Xftp5 , 我们学习使用 Xshell5 和 Xftp , 其它的远程工具大同小异.</p>

<h3 id="2-远程登录linux-xshell6">2、远程登录Linux-Xshell6</h3>

<p>如果希望安装好 XShell 5 就可以远程访问 Linux 系统的话，需要有一个前提，就是Linux 启用了 SSHD 服务，该服务会监听 22 号端口。</p>

<h3 id="3-安装并使用xshell6">3、安装并使用Xshell6</h3>

<p>作用：</p>

<p>​ 用于与服务器进行交互（和虚拟机上的终端一样）</p>

<p>根据提示进行安装</p>

<h3 id="4-安装并使用xftp6">4、安装并使用Xftp6</h3>

<p>作用：</p>

<p>​ 用于向服务器进行资源传输</p>

<p>根据提示进行安装</p>

<h2 id="六-开机-重启和用户的登录与注销">六、开机、重启和用户的登录与注销</h2>

<h3 id="1-关机和重启">1、关机和重启</h3>

<ul>
<li>shutdown</li>
</ul>

<p>shutdown -h now : 表示立即关机</p>

<p>​ shutdown -h 1 : 表示 1 分钟后关机</p>

<p>​ shutdown -r now: 立即重启</p>

<ul>
<li>halt</li>
</ul>

<p>​ 就是直接使用，效果等价于关机</p>

<ul>
<li>reboot</li>
</ul>

<p>​ 就是重启系统。</p>

<ul>
<li>syn ： 把内存的数据同步到磁盘</li>
</ul>

<p>注意点</p>

<p>当我们关机或者重启时，都应该先执行以下 sync 指令，把内存的数据写入磁盘，防止数据丢失。</p>

<h3 id="2-登录和注销">2、登录和注销</h3>

<p>（1）登录时尽量少用 root 帐号登录，因为它是系统管理员，最大的权限，避免操作失误。可以利 用普通用户登录，登录后再用”su -
用户名’命令来切换成系统管理员身份.</p>

<p>（2）在提示符下输入 logout 即可注销用户</p>

<p>注意点</p>

<p>logout 注销指令在图形运行级别无效，在 运行级别 3 下有效.</p>

<h2 id="七-linux的文件目录">七、Linux的文件目录</h2>

<p>在 Linux 中，一切皆文件</p>

<p>linux 的文件系统是采用级层式的树状目录结构，在此结构中的最上层是根目录“/”，然后在此 目录下再创建其他的目录。</p>

<p><a href="https://img.it610.com/image/info8/61d5b08008ed4147af4231a9d8c79ab5.jpg"><img src="https://img.it610.com/image/info8/61d5b08008ed4147af4231a9d8c79ab5.jpg" alt="Linux笔记（包含shell编程）_第1张图片" /></a></p>

<table>
<thead>
<tr>
<th><strong>/bin</strong> (/usr/bin、/usr\local\bin)</th>
<th>是Binary的缩写, 这个目录存放着最经常使用的命令</th>
</tr>
</thead>

<tbody>
<tr>
<td>**/sbin(/usr/sbin 、/usr/local/sbin) **</td>
<td>s就是Super</td>
</tr>
</tbody>
</table>

<p>User的意思，这里存放的是系统管理员使用的系统管理程序。<br />
<strong>/home</strong> | 存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。<br />
<strong>/root</strong> | 该目录为系统管理员，也称作超级权限者的用户主目录。<br />
/lib | 系统开机所需要最基本的动态连接共享库，其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。<br />
/lost+found | 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件<br />
<strong>/etc</strong> | 所有的系统管理所需要的配置文件和子目录<br />
<strong>/usr</strong> | 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与windows下的program files目录。<br />
<strong>/boot</strong> | 这里存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件，自己的安装别放这里<br />
/proc | 这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。<br />
/srv | service缩写，该目录存放一些服务启动之后需要提取的数据<br />
/sys | 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs<br />
/tmp | 这个目录是用来存放一些临时文件的。<br />
<strong>/dev</strong> | 类似于windows的设备管理器，把所有的硬件用文件的形式存储<br />
**/media（centos6） ** | linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。<br />
<strong>/run</strong> | 进程产生的临时文件，虚拟机加载光盘映像在：/run/media/root/ 目录下<br />
/mnt | 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在/mnt/上，然后进入该目录就可以查看里的内容了。<br />
<strong>/opt</strong> | 这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。<br />
<strong>/usr/local</strong> | 这是另一个给主机额外安装软件所摆放的目录。一般是通过编译源码方式安装的程序。<br />
<strong>/var</strong> | 这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。</p>

<h2 id="八-linux的常用命令">八、Linux的常用命令</h2>

<h4 id="1-指定运行级别">1、指定运行级别</h4>

<p>运行级别说明：</p>

<p>0 ：关机</p>

<p>1 ：单用户【找回丢失密码】</p>

<p>2 ：多用户状态没有网络服务</p>

<p>3 ：多用户状态有网络服务</p>

<p>4：系统未使用保留给用户</p>

<p>5：图形界面</p>

<p>6：系统重启</p>

<p>常用运行级别是 3 和 5 ，要修改默认的运行级别可改文件</p>

<p>/etc/inittab 的 id:5:initdefault:这一行中的数字</p>

<p>运行级别示意图：</p>

<p><a href="https://img.it610.com/image/info8/30e241175d3345c2be7fdbd05a7447e4.jpg"><img src="https://img.it610.com/image/info8/30e241175d3345c2be7fdbd05a7447e4.jpg" alt="Linux笔记（包含shell编程）_第2张图片" /></a></p>

<h4 id="2-切换到指定运行级别的指令">2、切换到指定运行级别的指令</h4>

<p><strong>基本语法</strong> ：init [0,1,2,3,4,5,6]</p>

<p><strong>如何找回密码</strong> ：</p>

<p>开机-&gt;在引导时输入 回车键-&gt; 看到一个界面输入 e -&gt; 看到一个新的界面，选中第二行（编辑 内核）在输入 e-&gt; 在这行最后输入 1 ,再输入
回车键-&gt;再次输入 b ,这时就会进入到单用户模式。</p>

<p>这时，我们就进入到单用户模式，使用 passwd 指令来修改 root 密码。</p>

<h4 id="3-帮助类命令">3、帮助类命令</h4>

<p>man [命令或配置文件]（功能描述：获得帮助信息）</p>

<p>help命令 （功能描述：获得 shell 内置命令的帮助信息）</p>

<p>特别提示：</p>

<p>​ 如果看不懂英文，不如直接百度来的快！</p>

<h4 id="4-文件目录类命令">4、文件目录类命令</h4>

<ul>
<li><p>pwd (功能描述：显示当前工作目录的绝对路径)</p></li>

<li><p>ls [选项] [目录或是文件]</p></li>
</ul>

<p>​ 常用选项</p>

<p>​ -a ：显示当前目录所有的文件和目录，包括隐藏的。</p>

<p>​ -l ：以列表的方式显示信息</p>

<ul>
<li>cd <a href="功能描述：切换到指定目录">参数</a></li>
</ul>

<p>​ 注意 <strong>相对路径</strong> 和 <strong>绝对路径</strong></p>

<p>​ cd ~ 或者 cd ：回到自己的家目录</p>

<p>​ cd … 回到当前目录的上一级目录</p>

<ul>
<li>mkdir 指令用于创建目录(make directory)</li>
</ul>

<p>mkdir [选项] 要创建的目录</p>

<p>-p ：创建多级目录</p>

<ul>
<li>rmdir 指令删除空目录</li>
</ul>

<p>rmdir [选项] 要删除的空目录</p>

<p>注意：</p>

<p>​ rmdir 删除的是空目录，如果目录下有内容时无法删除的。</p>

<p>提示：</p>

<p>​ 如果需要删除非空目录，需要使用 rm -rf 要删除的目录</p>

<ul>
<li>touch 指令创建空文件</li>
</ul>

<p>touch 文件名称</p>

<ul>
<li>cp 指令拷贝文件到指定目录</li>
</ul>

<p>cp [选项] 源文件 目标文件</p>

<p>-r ：递归复制整个文件夹</p>

<p>使用细节</p>

<p>强制覆盖不提示的方法：\cp</p>

<p>小技巧：</p>

<p>​ 可以通过 上下箭头的键，调出原来使用过的指令。</p>

<ul>
<li>rm 指令移除【删除】文件或目录</li>
</ul>

<p>rm [选项] 要删除的文件或目录</p>

<p>-r ：递归删除整个文件夹</p>

<p>-f ： 强制删除不提示</p>

<p>使用细节：</p>

<p>强制删除不提示的方法：带上 -f 参数即可</p>

<ul>
<li>mv 移动文件与目录或重命名</li>
</ul>

<p>mv 原来名称 新的名称</p>

<ul>
<li>cat 查看文件内容，是以只读的方式打开。</li>
</ul>

<p>cat [选项] 要查看的文件</p>

<p>-n ：显示行号</p>

<p>使用细节：</p>

<p>cat只能浏览文件，而不能修改文件，为了浏览方便，一般会带上 管道命令 | more</p>

<p>cat 文件名 | more [分页浏览]</p>

<ul>
<li>more 指令是一个基于 VI 编辑器的文本过滤器， <strong>它以全屏幕的方式按页显示文本文件的内容</strong> 。more 指令中内置了若干快捷键，详见操作说明</li>
</ul>

<p>more 文件名</p>

<p><a href="https://img.it610.com/image/info8/98a2b43a5f084086b9bcc861d14e0ae1.jpg"><img src="https://img.it610.com/image/info8/98a2b43a5f084086b9bcc861d14e0ae1.jpg" alt="Linux笔记（包含shell编程）_第3张图片" /></a></p>

<ul>
<li>less指令</li>
</ul>

<p>作用：</p>

<p>​ 用来分屏查看文件内容，它的功能与 more 指令类似，但是比 more 指令更加强大，支持 各种显示终端。less
指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示<br />
需要加载内容， <strong>对于显示大型文件具有较高的效率</strong> 。</p>

<ul>
<li>&rdquo;&gt;&ldquo;指令 和 “&gt;&gt;” 指令</li>
</ul>

<blockquote>
<p>指令 和 &gt;&gt; 指令</p>

<p>输出重定向 : 会将原来的文件的内容覆盖</p>

<blockquote>
<p>追加： 不会覆盖原来文件的内容，而是追加到文件的尾部。</p>
</blockquote>
</blockquote>

<p>（1）ls -l &gt; 文件 （功能描述：列表的内容写入文件 a.txt 中（覆盖写））</p>

<p>（2）ls -al &gt;&gt;文件 （功能描述：列表的内容追加到文件 aa.txt 的末尾）</p>

<p>（3）cat 文件 1 &gt; 文件 2 （功能描述：将文件 1 的内容覆盖到文件</p>

<p>（4）echo “内容” &gt;&gt;文件</p>

<ul>
<li>echo 输出内容到控制台</li>
</ul>

<p>echo [选项] [输出内容]</p>

<ul>
<li>head 用于显示文件的开头部分内容，默认情况下 head 指令显示文件的前 10 行内容</li>
</ul>

<p>head 文件 (功能描述：查看文件头 10 行内容)</p>

<p>head -n 5 文件 (功能描述：查看文件头 5 行内容，5 可以是任意行数)</p>

<ul>
<li>tail 用于输出文件中尾部的内容，默认情况下 tail 指令显示文件的后 10 行内容。</li>
</ul>

<p>（1） tail 文件 功能描述：查看文件后 10 行内容</p>

<p>（2） tail -n 5 文件 功能描述：查看文件后 5 行内容，5 可以是任意行数</p>

<p>（3） tail -f 文件 功能描述：实时追踪该文档的所有更新</p>

<ul>
<li>ln 软连接命令</li>
</ul>

<p>ln -s [原文件或目录] [软链接名] （功能描述：给原文件创建一个软链接）</p>

<p>小细节：</p>

<p>当我们使用 pwd 指令查看目录时，仍然看到的是软链接所在目录。</p>

<ul>
<li>history 命令 查看历史命令</li>
</ul>

<p>history （功能描述：查看已经执行过历史命令）</p>

<h4 id="5-日期类命令">5、日期类命令</h4>

<ul>
<li>date 指令-显示当前日期</li>
</ul>

<p>（1）date （功能描述：显示当前时间）</p>

<p>（2）date +%Y （功能描述：显示当前年份）</p>

<p>（3） date +%m （功能描述：显示当前月份）</p>

<p>（4）date +%d （功能描述：显示当前是哪一天）</p>

<p>（5）date “+%Y-%m-%d %H:%M:%S”（功能描述：显示年月日时分秒）</p>

<ul>
<li>date 指令-设置日期</li>
</ul>

<p>date -s 字符串时间</p>

<ul>
<li>cal 日历命令</li>
</ul>

<p>cal [选项] （功能描述：不加选项，显示本月日历）</p>

<h4 id="6-搜索查找类命令">6、搜索查找类命令</h4>

<ul>
<li>find 命令</li>
</ul>

<p>find 指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件或者目录显示在终端。</p>

<p>find [搜索范围] [选项]</p>

<p><a href="https://img.it610.com/image/info8/2131598d28c84db4bcef24a0c0172385.jpg"><img src="https://img.it610.com/image/info8/2131598d28c84db4bcef24a0c0172385.jpg" alt="Linux笔记（包含shell编程）_第4张图片" /></a></p>

<ul>
<li>locate 命令</li>
</ul>

<p>locaate 指令可以快速定位文件路径。locate 指令利用事先建立的系统中所有文件名称及路径的 locate<br />
数据库实现快速定位给定的文件。Locate 指令无需遍历整个文件系统，查询速度较快。为了保 证查询结果的准确度，管理员必须定期更新 locate 时刻。</p>

<p>locate 搜索文件</p>

<p>特别说明</p>

<p>​ 由于 locate 指令基于数据库进行查询，所以第一次运行前，必须使用 updatedb 指令创建 locate 数据库。</p>

<p>直接输入 updatedb即可，数据库就创建成功了</p>

<ul>
<li>grep 指令和 管道符号 |</li>
</ul>

<p>grep 过滤查找 ， 管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理。</p>

<p>grep [选项] 查找内容 源文件</p>

<p>-n：显示匹配行和行号</p>

<p>-i：忽略字母大小写</p>

<h4 id="7-压缩和解压类">7、压缩和解压类</h4>

<ul>
<li>gzip/gunzip 指令</li>
</ul>

<p>gzip 用于压缩文件， gunzip 用于解压的</p>

<p>gzip 文件 （功能描述：压缩文件，只能将文件压缩为*.gz 文件）</p>

<p>gunzip 文件.gz （功能描述：解压缩文件命令）</p>

<p>细节说明：</p>

<p>当我们使用 gzip 对文件进行压缩后， <strong>不会保留原来的文件</strong> 。</p>

<ul>
<li>zip/unzip 指令</li>
</ul>

<p>zip 用于压缩文件， unzip 用于解压的，这个在项目打包发布中很有用的</p>

<p>zip [选项] XXX.zip 将要压缩的内容（功能描述：压缩文件和目录的命令）</p>

<p>unzip [选项] XXX.zip （功能描述：解压缩文件）</p>

<p>zip 常用选项<br />
-r：递归压缩，即压缩目录</p>

<p>unzip 的常用选项<br />
-d ：指定解压后文件的存放目录</p>

<ul>
<li><strong>tar 指令</strong> ：最常用的命令</li>
</ul>

<p>tar 指令 是打包指令，最后打包后的文件是 .tar.gz 的文件。</p>

<p>tar [选项] XXX.tar.gz 打包的内容 (功能描述：打包目录，压缩后的文件格式.tar.gz)</p>

<p>选项说明</p>

<p>​
<a href="https://img.it610.com/image/info8/50b798eda0404f39ad28dccb3484a715.jpg"><img src="https://img.it610.com/image/info8/50b798eda0404f39ad28dccb3484a715.jpg" alt="Linux笔记（包含shell编程）_第5张图片" /></a></p>

<p>​ 小细节：</p>

<p>​ ①指定解压到的那个目录，事先要存在才能成功，否则会报错。</p>

<p>​ ②- C :指定要解压的目录</p>

<h4 id="8-磁盘分区-挂载">8、磁盘分区、挂载</h4>

<ul>
<li>linux下查看所有设备挂在情况</li>
</ul>

<p>lsblk 或者 lsblk -f</p>

<ul>
<li>进行分区</li>
</ul>

<p>通过 fdisk /dev/sdb 开始对 /sdb进行分区,</p>

<p>m 显示命令列表</p>

<p>p 显示磁盘</p>

<p>n 新增分区</p>

<p>d 删除分区</p>

<p>w 写入并退出分区</p>

<p>分区步骤如下: 开始分区后输入n，新增分区，然后选择p ，分区类型为主分区。两次回车默认剩余全部空间。最后输入w写入分区并退出，若不保存退出输入q。</p>

<ul>
<li>格式化磁盘</li>
</ul>

<p>命令: mkfs -t ext4 /dev/sd&rdquo;n&rdquo;(磁盘名)</p>

<ul>
<li>磁盘的挂载（关机失效）</li>
</ul>

<p>mount 设备名称 挂载目录</p>

<ul>
<li>磁盘的卸载</li>
</ul>

<p>umount 设备名称 或者 挂载目录</p>

<ul>
<li>永久挂载</li>
</ul>

<p>通过修改/etc/fstab实现挂载</p>

<p>添加完成后 执行mount –a 即刻生效</p>

<p>/etc/fatab文件参数介绍</p>

<p>第一列：磁盘设备文件或者该设备的Label或者UUID</p>

<p>第二列: 设备的挂载点，就是你要挂载到哪个目录下</p>

<p>第三列: 磁盘文件系统的格式，</p>

<p>​ 包括ext2、ext3、reiserfs、nfs、vfat等</p>

<p>第四列: 文件系统的参数 ，defaults代表同时具有</p>

<p>​ rw,suid,dev,exec,auto,nouser,async等默认参数的设置</p>

<p>第五列: 能否被dump备份命令作用</p>

<p>​ 0 代表不要做dump备份</p>

<p>​ 1 代表要每天进行dump的操作</p>

<p>​ 2 代表不定日期的进行dump操作</p>

<p>第六列: 是否检验扇区</p>

<p>​ 0 不要检验</p>

<p>​ 1 最早检验（一般根目录会选择）</p>

<p>​ 2 1级别检验完成之后进行检验</p>

<h4 id="9-磁盘情况查询">9、磁盘情况查询</h4>

<p>df -h 查询系统整体磁盘使用情况</p>

<p>du -h /目录</p>

<p>​ 查询指定目录的磁盘占用情况，默认为当前目录</p>

<p>​ -s 指定目录占用大小汇总</p>

<p>​ -h 带计量单位</p>

<p>​ -a 含文件</p>

<p>​ &ndash;max-depth=1 子目录深度</p>

<p>​ -c 列出明细的同时，增加汇总值</p>

<p>​ 例： du -ach &ndash;max-depth=1 /opt</p>

<h4 id="10-网络配置">10、网络配置</h4>

<ul>
<li><p>ifconfig 查看网络配置</p></li>

<li><p>如何修改ip</p></li>
</ul>

<p>（1）第一种方法：图形化操作</p>

<p>（2）第二种方法：命令行方式 vi /etc/sysconfig/network-scripts/ifcfg-ens33</p>

<p><a href="https://img.it610.com/image/info8/8bfe6e724c0c45d19e10a5e468393d65.jpg"><img src="https://img.it610.com/image/info8/8bfe6e724c0c45d19e10a5e468393d65.jpg" alt="Linux笔记（包含shell编程）_第6张图片" /></a></p>

<p>​ DEVICE=eth0 #接口名（设备,网卡）</p>

<p>​ <strong>BOOTPROTO=none</strong></p>

<p>​ # IP的配置方法[none|static|bootp|dhcp]（引导时不使用协议|静态分配IP|BOOTP协议|DHCP 协议</p>

<p>​ BROADCAST=192.168.1.255 #广播地址</p>

<p>​ HWADDR=00:0C:2x:6x:0x:xx #MAC地址</p>

<p>​ <strong>IPADDR</strong> =192.168.1.23 #IP地址</p>

<p>​ <strong>NETMASK</strong> =255.255.255.0 # 网络掩码</p>

<p>​ <strong>NETWORK</strong> =192.168.1.0 #网络地址</p>

<p>​ <strong>ONBOOT</strong> =yes #系统启动的时候网络接口是否有效（yes/no）</p>

<p>​ TYPE=Ethernet #网络类型（通常是Ethemet）</p>

<p>修改后一定要重启服务：</p>

<p>service/systemctl network restart</p>

<h4 id="11-进程">11、进程</h4>

<h5 id="1-ps-process">（1）ps(process)</h5>

<p>​
<a href="https://img.it610.com/image/info8/c25c651e295a4a129f764a9329aa0c7d.jpg"><img src="https://img.it610.com/image/info8/c25c651e295a4a129f764a9329aa0c7d.jpg" alt="Linux笔记（包含shell编程）_第7张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/5acbcab80bf241e48fb620e04780261d.jpg"><img src="https://img.it610.com/image/info8/5acbcab80bf241e48fb620e04780261d.jpg" alt="Linux笔记（包含shell编程）_第8张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/e4b5ca6cac75459293ec38d9a1084319.jpg"><img src="https://img.it610.com/image/info8/e4b5ca6cac75459293ec38d9a1084319.jpg" alt="Linux笔记（包含shell编程）_第9张图片" /></a></p>

<h5 id="2-ps-aux">（2）ps -aux</h5>

<p>​ -a : 显示当前总段的所有进行信息</p>

<p>​ -u : 以用户的格式显示进程信息</p>

<p>​ -x : 显示后台进程运行的参数</p>

<ul>
<li>详细内容解释</li>
</ul>

<p>ps –aux|grep xxx</p>

<p>System V展示风格</p>

<p>USER：用户名称</p>

<p>PID：进程号</p>

<p>%CPU：进程占用CPU的百分比</p>

<p>%MEM：进程占用物理内存的百分比</p>

<p>VSZ：进程占用的虚拟内存大小（单位：KB）</p>

<p>RSS：进程占用的物理内存大小（单位：KB）</p>

<p>TT：终端名称,缩写</p>

<p>STAT：进程状态，其中S-
睡眠，s-表示该进程是会话的先导进程，N-表示进程拥有比普通优先级更低的优先级，R-正在运行，D-短期等待，Z-僵死进程，T-被跟踪或者被停止等等</p>

<p>STARTED：进程的启动时间</p>

<p>TIME：CPU时间，即进程使用CPU的总时间</p>

<p>COMMAND：启动进程所用的命令和参数，如果过长会被截断显示</p>

<h5 id="3-ps-ef">（3）ps -ef</h5>

<ul>
<li>ps -ef是以全格式显示当前所有的进程</li>
</ul>

<p>-e 显示所有进程。-f 全格式。</p>

<p>ps -ef|grep xxx</p>

<p>是BSD风格</p>

<p>UID：用户ID</p>

<p>PID：进程ID</p>

<p>PPID：父进程ID</p>

<p>C：CPU用于计算执行优先级的因子。数值越大，表明进程是CPU密集型运算，执行优先级会降低；数值越小，表明进程是I/O密集型运算，执行优先级会提高</p>

<p>STIME：进程启动的时间</p>

<p>TTY：完整的终端名称</p>

<p>TIME：CPU时间</p>

<p>CMD：启动进程所用的命令和参数</p>

<h5 id="4-kill">（4）kill</h5>

<p>​ kill pid 杀死指定pid对应的进程.</p>

<p>​ killall 杀死所有的进程</p>

<p>​ -9： 强行杀死进程</p>

<h5 id="5-pstree-进程树">（5）pstree 进程树</h5>

<p>​ pstree [选项] ,可以更加直观的来看进程信息</p>

<p>​ 常用选项：</p>

<p>​ -p :显示进程的 PID</p>

<p>​ -u :显示进程的所属用户</p>

<h4 id="12-服务">12、服务</h4>

<h5 id="1-service-centos6">（1）service(CentOS6)</h5>

<ul>
<li><p>注册在系统中的标准化程序</p></li>

<li><p>有方便统一的管理方式（常用的方法）</p></li>
</ul>

<p>​ service 服务名 start</p>

<p>​ service 服务名 stop</p>

<p>​ service 服务名 restart</p>

<p>​ service 服务名 reload</p>

<p>​ service 服务名 status</p>

<ul>
<li><p>查看服务的方法 /etc/init.d/服务名</p></li>

<li><p>通过chkconfig 命令设置自启动</p></li>
</ul>

<p>​ 查看服务 chkconfig &ndash;list|grep xxx</p>

<p>​ chkconfig &ndash;level 5 服务名 on</p>

<ul>
<li>运行级别</li>
</ul>

<p><a href="https://img.it610.com/image/info8/053ef97ad9a04175b46e1c9d77f4e1ef.jpg"><img src="https://img.it610.com/image/info8/053ef97ad9a04175b46e1c9d77f4e1ef.jpg" alt="在这里插入图片描述" /></a></p>

<p>​ 查看默认级别： vi /etc/inittab</p>

<p>​ Linux系统有7种运行级别(runlevel)：常用的是级别3和5</p>

<p>​ 运行级别0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动</p>

<p>​ 运行级别1：单用户工作状态，root权限，用于系统维护，禁止远程登陆</p>

<p>​ 运行级别2：多用户状态(没有NFS)，不支持网络</p>

<p>​ 运行级别3：完全的多用户状态(有NFS)，登陆后进入控制台命令行模式</p>

<p>​ 运行级别4：系统未使用，保留</p>

<p>​ 运行级别5：X11控制台，登陆后进入图形GUI模式</p>

<p>​ 运行级别6：系统正常关闭并重启，默认运行级别不能设为6，否则不能正常启动</p>

<h5 id="2-systemctl-centos7">（2）systemctl(CentOS7)</h5>

<ul>
<li><p>注册在系统中的标准化程序</p></li>

<li><p>有方便统一的管理方式（常用的方法）</p></li>
</ul>

<p>​ systemctl start 服务名(xxxx.service)</p>

<p>​ systemctl restart 服务名(xxxx.service)</p>

<p>​ systemctl stop 服务名(xxxx.service)</p>

<p>​ systemctl reload 服务名(xxxx.service)</p>

<p>​ systemctl status 服务名(xxxx.service)</p>

<ul>
<li><p>查看服务的方法 /usr/lib/systemd/system</p></li>

<li><p>查看服务的命令</p></li>
</ul>

<p>​ systemctl list-unit-files</p>

<p>​ systemctl &ndash;type service</p>

<ul>
<li>通过systemctl 命令设置自启动</li>
</ul>

<p>​ 自启动 systemctl enable service_name</p>

<p>​ 不自启动systemctl disable service_name</p>

<ul>
<li>运行级别</li>
</ul>

<p><a href="https://img.it610.com/image/info8/0c29a3321c204314ab2bac9a47c87fb4.jpg"><img src="https://img.it610.com/image/info8/0c29a3321c204314ab2bac9a47c87fb4.jpg" alt="在这里插入图片描述" /></a></p>

<p>查看默认级别： vim /etc/inittab</p>

<p>Centos7运行级别简化为：</p>

<p>​ multi-user.target 等价于原运行级别3（多用户有网，无图形界面）</p>

<p>​ multi-user.target 等价于原运行级别5（多用户有网，有图形界面）</p>

<h4 id="13-netstat">13、netstat</h4>

<p>​ 查看系统的网络情况</p>

<p>​ -an 按一定顺序排列输出</p>

<p>​ -p 显示哪个进程在调用</p>

<p>​ netstat –anp|grep 8080 查看占用8080端口的进程</p>

<p>​ 同上：最常用</p>

<p>​ netstat –nltp|grep 8080</p>

<h2 id="九-vi和vim-编辑器的使用">九、vi和vim 编辑器的使用</h2>

<h4 id="1-vi和vim的基本介绍">1、vi和vim的基本介绍</h4>

<p>所有的 Linux 系统都会内建 vi 文本编辑器。</p>

<p>Vim 具有程序编辑的能力，可以看做是 Vi 的增强版本，可以主动的以字体颜色辨别语法的正确
性，方便程序设计。代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。</p>

<h4 id="2-vi和vim的三种模式">2、vi和vim的三种模式</h4>

<h5 id="1-正常模式-默认模式">（1）正常模式（默认模式）</h5>

<p>（1）通过vi或者是vim打开文档后默认进入到一般模式，该模式下主要负责查看和一些基础的修剪工作</p>

<p>（2）常用的操作</p>

<table>
<thead>
<tr>
<th>dd</th>
<th>删除光标当前行</th>
</tr>
</thead>

<tbody>
<tr>
<td>dnd / ndd</td>
<td>删除n行</td>
</tr>

<tr>
<td>u</td>
<td>撤销上一步</td>
</tr>

<tr>
<td>x</td>
<td>删除一个字母,类似于键盘上Delete功能</td>
</tr>

<tr>
<td>X</td>
<td>删除一个字母，类似于键盘Backspace功能</td>
</tr>

<tr>
<td>yy</td>
<td>复制光标当前行</td>
</tr>

<tr>
<td>p</td>
<td>粘贴</td>
</tr>

<tr>
<td>dw</td>
<td>删除一个词</td>
</tr>

<tr>
<td>yw</td>
<td>复制一个词</td>
</tr>

<tr>
<td>Shift+g</td>
<td>移动到页尾</td>
</tr>

<tr>
<td>1+Shift+g</td>
<td>移动到目标行</td>
</tr>

<tr>
<td>N+shift+g</td>
<td>移动到第N行</td>
</tr>

<tr>
<td>Shift+6</td>
<td>移动到行头</td>
</tr>

<tr>
<td>Shift+4</td>
<td>移动到行尾</td>
</tr>
</tbody>
</table>

<h5 id="2-编辑模式">（2）编辑模式</h5>

<p>​ 在模式下，程序员可以输入内容。</p>

<p>​ 按下 i, I, o, O, a, A, r, R 等任何一个字母之后才会进入编辑模式, 一般来说按 i 即可</p>

<p>​ 如想退出编辑模式，需要按下【ESC】按键</p>

<table>
<thead>
<tr>
<th>i</th>
<th>当前光标前录入</th>
</tr>
</thead>

<tbody>
<tr>
<td>a</td>
<td>当前光标后录入</td>
</tr>

<tr>
<td>o</td>
<td>当前光标行的下一行录入</td>
</tr>

<tr>
<td>I</td>
<td>行首录入</td>
</tr>

<tr>
<td>A</td>
<td>行尾录入</td>
</tr>

<tr>
<td>O</td>
<td>当前光标行的上一行录入</td>
</tr>
</tbody>
</table>

<h5 id="3-命令模式">（3）命令模式</h5>

<p>（1）在一般模式下输入 / 或者 : 进入命令模式，命令模式一般用于存盘、退出VIM 、显示行号、搜索、批量替换等操作.</p>

<dl>
<dt>（2）常用的操作</dt>
<dt>:w | 保存<br />
&mdash;|&mdash;<br />
:q | 退出<br />
:! | 强制执行<br />
:%/s/old字符/new字符 | 批量替换<br />
/要查找的词 | 搜索,n查找下一个，N查找上一个<br />
:set nu | 显示行号<br />
:set nonu | 关闭行号<br />
noh | 取消高亮显示<br />
<br /></dt>
</dl>

<h3 id="十-用户管理-用户组管理-文件权限管理">十、用户管理-用户组管理-文件权限管理</h3>

<h4 id="1-用户管理">1、用户管理</h4>

<p>（1）Linux系统是一个多用户多任务的操作系统，任何一个要使用系统资的用户，都必须首先向系统管理员申 请一个账号，然后以这个账号的身份进入系统。</p>

<p>（2）对用户的操作</p>

<p>​ 新增用户:useradd 新用户名</p>

<p>​ 设置密码: passwd 用户名</p>

<p>​ 用户是否存在：id 用户名</p>

<p>​ 切换用户：su – 切换用户名</p>

<p>​ 查看当前用户/登录用户：whoami/ who am I</p>

<p>​ 删除用户：userdel</p>

<h4 id="2-用户组管理">2、用户组管理</h4>

<p>（1） 类似于角色，系统可以对有共性的多个用户进行统一的管理。</p>

<p>（2）对用户组的操作</p>

<p>​ 新增组:groupadd 组名</p>

<p>​ 删除组:groupdel 组名</p>

<p>​ 修改用户的组：usermod –g 用户组 用户名</p>

<p>​ 增加用户时直接加上组：useradd –g 用户组 用户名</p>

<h4 id="3-文件权限管理">3、文件权限管理</h4>

<p>（1）再说 ls -l</p>

<p><a href="https://img.it610.com/image/info8/95c9ba8ff8d74537a91fedf7ea0f65d0.jpg"><img src="https://img.it610.com/image/info8/95c9ba8ff8d74537a91fedf7ea0f65d0.jpg" alt="Linux笔记（包含shell编程）_第10张图片" /></a></p>

<ul>
<li>0-9位说明</li>
</ul>

<p>第0位确定文件类型(d, - , l , c , b)</p>

<p>第1-3位确定所有者（该文件的所有者）拥有该文件的权限。—User</p>

<p>第4-6位确定所属组（同用户组的）拥有该文件的权限，—Group</p>

<p>第7-9位确定其他用户拥有该文件的权限 —Other</p>

<ul>
<li>作用到文件</li>
</ul>

<p>​ [ r ]代表可读(read): 可以读取,查看</p>

<p>​ [ w ]代表可写(write): 可以修改,但是不代表可以删除该文件,删除一个文件的前提条件 是对该文件所在的目录有写权限，才能删除该文件.</p>

<p>​ [ x ]代表可执行(execute):可以被系统执行</p>

<ul>
<li>作用到目录</li>
</ul>

<p>​ [ r ]代表可读(read): 可以读取，ls查看目录内容</p>

<p>​ [ w ]代表可写(write): 可以修改,目录内创建+删除+重命名目录</p>

<p>​ [ x ]代表可执行(execute):可以进入该目录</p>

<p>（2）chmod</p>

<p><a href="https://img.it610.com/image/info8/9d39010179ed48448a850f6c9cae580d.jpg"><img src="https://img.it610.com/image/info8/9d39010179ed48448a850f6c9cae580d.jpg" alt="Linux笔记（包含shell编程）_第11张图片" /></a></p>

<ul>
<li>第一种方式：+ 、-、= 变更权限</li>
</ul>

<p>​ u:所有者 g:所有组 o:其他人</p>

<p>​ a:所有人(u、g、o的总和)</p>

<p>​ chmod u=rwx,g=rx,o=x 文件目录名</p>

<p>​ chmod o+w 文件目录名</p>

<p>​ chmod a-x 文件目录名</p>

<ul>
<li>第二种方式：通过数字变更权限</li>
</ul>

<p>​ r=4 w=2 x=1 rwx=4+2+1=7</p>

<p>​ chmod u=rwx,g=rx,o=x 文件目录名</p>

<p>​ 相当于 chmod 751 文件目录名</p>

<p>（3）chown</p>

<p>​ chown newowner file 改变文件的所有者</p>

<p>​ chown newowner:newgroup file 改变用户的所有者和所有组</p>

<p>​ -R 如果是目录 则使其下所有子文件或目录递归生效</p>

<p>（4）chgrp</p>

<p>​ chgrp newgroup file 改变文件的所有组</p>

<h4 id="4-系统中用户和组的相关文件">4、系统中用户和组的相关文件</h4>

<p>（1）用户（user）的配置文件： /etc/passwd</p>

<p>​ 每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell</p>

<p>（2）口令的配置文件: /etc/shadow</p>

<p>​ 每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时 间:不活动时间:失效时间:标志</p>

<p>（3）组(group)的配置文件： /etc/group</p>

<p>​ 每行含义：组名:口令:组标识号:组内用户列表</p>

<h3 id="十一-任务调度">十一、任务调度</h3>

<h4 id="1-原理示意图">1、原理示意图</h4>

<p><a href="https://img.it610.com/image/info8/1205ad4e8a0d4bdab0df825a91f7a9e1.jpg"><img src="https://img.it610.com/image/info8/1205ad4e8a0d4bdab0df825a91f7a9e1.jpg" alt="Linux笔记（包含shell编程）_第12张图片" /></a></p>

<p>crontab 进行 定时任务的设置</p>

<h4 id="2-概述">2、概述</h4>

<p>任务调度：是指系统在某个时间执行的特定的命令或程序。</p>

<p>任务调度分类：</p>

<p>​ 1.系统工作：有些重要的工作必须周而复始地执行。如病毒扫描等</p>

<p>​ 2.个别用户工作：个别用户可能希望执行某些程序，比如对 mysql 数据库的备份。</p>

<h4 id="3-基本语法">3、基本语法</h4>

<p>crontab [选项]</p>

<p>常用选项：</p>

<p><a href="https://img.it610.com/image/info8/f9647e3755c44476a0f10bfa019671ea.jpg"><img src="https://img.it610.com/image/info8/f9647e3755c44476a0f10bfa019671ea.jpg" alt="Linux笔记（包含shell编程）_第13张图片" /></a></p>

<h4 id="4-快速使用">4、快速使用</h4>

<h5 id="4-1-任务的要求">4.1 任务的要求</h5>

<p>​ 设置任务调度文件：/etc/crontab 设置个人任务调度。执行 crontab –e 命令。</p>

<p>​ 接着输入任务到调度文件</p>

<p>​ 如：*/1 * * * * ls –l /etc/ &gt; /tmp/to.txt</p>

<p>​ 意思说每小时的每分钟执行 ls –l /etc/ &gt; /tmp/to.txt 命令</p>

<h5 id="4-2-步骤如下">4.2 步骤如下</h5>

<p>（1）cron -e</p>

<p>（2） */ 1 * * * * ls -l /etc &gt;&gt; /tmp/to.txt</p>

<p>（3） 当保存退出后就程序。</p>

<p>（4） 在每一分钟都会自动的调用 ls -l /etc &gt;&gt; /tmp/to.txt</p>

<h5 id="4-3-参数细节说明">4.3 参数细节说明</h5>

<p>（1）5个占位符说明</p>

<p><a href="https://img.it610.com/image/info8/4b8058f3d847495590b251fa9697d454.jpg"><img src="https://img.it610.com/image/info8/4b8058f3d847495590b251fa9697d454.jpg" alt="Linux笔记（包含shell编程）_第14张图片" /></a></p>

<p>（2）特殊符号说明</p>

<p><a href="https://img.it610.com/image/info8/a9dae080476c4a89a9a1d6e6590cbdf6.jpg"><img src="https://img.it610.com/image/info8/a9dae080476c4a89a9a1d6e6590cbdf6.jpg" alt="Linux笔记（包含shell编程）_第15张图片" /></a><br />
（3）特定时间执行任务案例</p>

<p><a href="https://img.it610.com/image/info8/45c2c500589d40c68a7d0ed14eaaa6cf.jpg"><img src="https://img.it610.com/image/info8/45c2c500589d40c68a7d0ed14eaaa6cf.jpg" alt="Linux笔记（包含shell编程）_第16张图片" /></a></p>

<h4 id="5-crond相关指令">5、crond相关指令</h4>

<p>（1）conrtab –r：终止任务调度。</p>

<p>（2） crontab –l：列出当前有那些任务调度</p>

<p>（3）service crond restart [重启任务调度]</p>

<h4 id="6-案例">6、案例</h4>

<p><strong>案例 1：每隔 1 分钟，就将当前的日期信息，追加到 /tmp/mydate 文件 中</strong></p>

<p>（1）先编写一个文件 /home/mytask1.sh date &gt;&gt; /tmp/mydate</p>

<p>（2）给 mytask1.sh 一个可以执行权限</p>

<p>​ chmod 744 /home/mytask1.sh</p>

<p>（3）crontab -e</p>

<p>（4）*/1 * * * * /home/mytask1.sh</p>

<p>（5）成功</p>

<p><strong>案例 2：每隔 1 分钟， 将当前日期和日历都追加到 /home/mycal 文件 中</strong></p>

<p>（1） 先编写一个文件 /home/mytask2.sh date &gt;&gt; /tmp/mycal</p>

<p>​ cal &gt;&gt; /tmp/mycal</p>

<p>（2） 给 mytask1.sh 一个可以执行权限</p>

<p>​ chmod 744 /home/mytask2.sh</p>

<p>（3）crontab -e</p>

<p>（4） */1 * * * * /home/mytask2.sh 5) 成功</p>

<p><strong>案例 3: 每天凌晨 2:00 将 mysql 数据库 testdb ，备份到文件中</strong></p>

<p>mydb.bak。</p>

<p>（1）先编写一个文件 /home/mytask3.sh</p>

<p>​ /usr/local/mysql/bin/mysqldump -u root -proot testdb &gt; /tmp/mydb.bak</p>

<p>（2） 给 mytask3.sh 一个可以执行权限</p>

<p>​ chmod 744 /home/mytask3.sh</p>

<p>（3） crontab -e</p>

<p>（4） 0 2 * * * /home/mytask3.sh 5) 成功</p>

<h3 id="十二-shell编程">十二、shell编程</h3>

<h4 id="1-为什么要学习shell编程">1、为什么要学习shell编程</h4>

<p>（1）Linux 运维工程师在进行服务器集群管理时，需要编写 Shell 程序来进行服务器管理。</p>

<p>（2）对于 JavaEE 和 Python 程序员来说，工作的需要，你的老大会要求你编写一些 Shell 脚本进行程 序或者
是服务器的维护，比如编写一个定时备份数据库的脚本。</p>

<p>（3）对于大数据程序员来说，需要编写 Shell 程序来管理集群。</p>

<h4 id="shell是什么">shell是什么？</h4>

<p><a href="https://img.it610.com/image/info8/909043dfd3e848beb541cfb5e51414b3.jpg"><img src="https://img.it610.com/image/info8/909043dfd3e848beb541cfb5e51414b3.jpg" alt="Linux笔记（包含shell编程）_第17张图片" /></a></p>

<p>​ Shell 是一个命令行解释器，它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统 级程序，用户可以用 Shell
来启动、挂起、停止甚至是编写一些程序.</p>

<h4 id="2-shell编程快速入门-shell脚本的执行方式">2、shell编程快速入门-shell脚本的执行方式</h4>

<p>2.1 脚本格式要求</p>

<p>（1） 脚本以#!/bin/bash 开头</p>

<p>（2） 脚本需要有可执行权限</p>

<p>2.2 编写第一个shell编程</p>

<pre><code>#!/bin/bash
echo &quot;hello world&quot;
</code></pre>

<p>2.3 脚本的常用执行方式</p>

<p>方式 1:(输入脚本的 <strong>绝对路径</strong> 或 <strong>相对路径</strong> )</p>

<p>（1）首先要赋予 helloworld.sh 脚本的+x 权限</p>

<p>（2）执行脚本</p>

<pre><code>$chmod 777 myshell.sh
$./myshell.sh #相对路径
$/root/myshell.sh #绝对路径
</code></pre>

<p>方式 2: (sh+脚本)，不推荐</p>

<p>说明：不用赋予脚本+x 权限，直接执行即可</p>

<pre><code>sh ./myshell.sh
</code></pre>

<p>这样可以不用给执行权限，但是不推荐</p>

<h4 id="3-shell变量">3、shell变量</h4>

<h5 id="3-1-shell变量的介绍">3.1 shell变量的介绍</h5>

<p>（1）Linux Shell 中的变量分为， <strong>系统变量</strong> 和 <strong>用户自定义变量</strong> 。</p>

<p>（2）系统变量： H O M E 、 HOME、 HOME、PWD、 S H E L L 、 SHELL、 SHELL、USER 等等</p>

<p>​ 比如： echo $HOME 等等…</p>

<pre><code>#!/bin/bash/
echo &quot;PATH=$PATH&quot;
echo &quot;user=$USER&quot;
</code></pre>

<p>（3）显示当前 shell 中所有变量：set</p>

<h5 id="3-2-shell变量的定义">3.2 shell变量的定义</h5>

<ul>
<li>基本语法</li>
</ul>

<p>（1）定义变量：变量=值</p>

<p>（2）撤销变量：unset 变量</p>

<p>（3）声明静态变量：readonly 变量，注意：不能 unset</p>

<ul>
<li>快速入门</li>
</ul>

<p>案例 1：定义变量 A</p>

<p>案例 2：撤销变量 A</p>

<pre><code>#！/bin/bash
A=100
echo &quot;A=$A&quot;
unset A
echo &quot;A=$A&quot;
</code></pre>

<p>案例 3：声明静态的变量 B=2，不能 unset</p>

<pre><code>#！ /bin/bash
readonly A=99
echo &quot;A=$A&quot;   #定义和使用静态变量
unset A   #这个是失效的，不能取消
echo &quot;A=$A&quot;
</code></pre>

<h5 id="3-3-定义变量的规则">3.3 定义变量的规则</h5>

<p>（1）变量名称可以由字母、数字和下划线组成，但是不能以数字开头。</p>

<p>（2）等号两侧不能有空格</p>

<p>（3） <strong>变量名称一般习惯为大写</strong></p>

<h5 id="3-2-将命令的返回值返回给变量-重点">3.2 将命令的返回值返回给变量（重点）</h5>

<p>（1）A=’ ls -la ’ 反引号(就是tab上面那个)，运行里面的命令，并把结果返回给变量 A</p>

<p>（2）A=$(ls -la) 等价于反引号</p>

<h4 id="4-设置环境变量">4、设置环境变量</h4>

<h5 id="基本语法">基本语法</h5>

<p>（1）export 变量名=变量值 （功能描述：将 shell 变量输出为环境变量）</p>

<p>（2） source 配置文件 （功能描述：让修改后的配置信息立即生效）</p>

<p>（3） echo $变量名 （功能描述：查询环境变量的值）</p>

<p><a href="https://img.it610.com/image/info8/f61cead6e9984200a12391467b5b406a.jpg"><img src="https://img.it610.com/image/info8/f61cead6e9984200a12391467b5b406a.jpg" alt="Linux笔记（包含shell编程）_第18张图片" /></a></p>

<h4 id="5-位置参数变量">5、位置参数变量</h4>

<h5 id="5-1-介绍">5.1 介绍</h5>

<p>当我们执行一个 shell 脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变 量，</p>

<p>比如： ./myshell.sh 100 200 , 这个就是一个执行 shell 的命令行，可以在 myshell 脚本中获取到 参数信息</p>

<h5 id="5-2-基本语法">5.2 基本语法</h5>

<p>$n （功能描述：n 为数字，$0 代表命令本身，$1- 9 代 表 第 一 到 第 九 个 参 数 ， 十 以 上 的 参 数 ， 十 以 上 的 参 数
需 要 用 大 括 号 包 含 ， 如 9 代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如
9代表第一到第九个参数，十以上的参数，十以上的参数需要用大括号包含，如{10}）</p>

<p>∗ （ 功 能 描 述 ： 这 个 变 量 代 表 命 令 行 中 所 有 的 参 数 ， * （功能描述：这个变量代表命令行中所有的参数，
∗（功能描述：这个变量代表命令行中所有的参数，*把所有的参数看成一个整体）</p>

<p>@ （ 功 能 描 述 ： 这 个 变 量 也 代 表 命 令 行 中 所 有 的 参 数 ， 不 过 @（功能描述：这个变量也代表命令行中所有的参数，不过
@（功能描述：这个变量也代表命令行中所有的参数，不过@把每个参数区分对待）</p>

<p>$#（功能描述：这个变量代表命令行中所有参数的个数）</p>

<p><a href="https://img.it610.com/image/info8/942e2617091b482c94dc3398d7970da7.jpg"><img src="https://img.it610.com/image/info8/942e2617091b482c94dc3398d7970da7.jpg" alt="Linux笔记（包含shell编程）_第19张图片" /></a></p>

<h4 id="6-预定义变量">6、预定义变量</h4>

<h5 id="6-1-基本介绍">6.1 基本介绍</h5>

<p>​ 就是 shell 设计者事先已经定义好的变量，可以直接在 shell 脚本中使用</p>

<h5 id="6-2-基本语法">6.2 基本语法</h5>

<p>​ $$ （功能描述：当前进程的进程号（PID））</p>

<p>​ $! （功能描述：后台运行的最后一个进程的进程号（PID））</p>

<p>​ $？ （功能描述：最后一次执行的命令的返回状态。如果这个变量的值为 0，证明上一个命令</p>

<p>​ 正确执行；如果这个变量的值为非 0（具体是哪个数，由命令自己来决定），则证明上一个命令</p>

<p>​ 执行不正确了。）</p>

<h5 id="6-3-应用实例">6.3 应用实例</h5>

<p>在一个 shell 脚本中简单使用一下预定义变量</p>

<pre><code>#！/bin/bash
echo &quot;当前的进程号=$$&quot;
#后台的方式运行 myShell.sh
./myShell.sh &amp;
echo &quot;最后的进程的号=$!&quot;
echo &quot;执行的值=$?&quot;
</code></pre>

<h4 id="7-运算符">7、运算符</h4>

<h5 id="7-1-基本介绍">7.1 基本介绍</h5>

<p>​ 学习如何在 shell 中进行各种运算操作。</p>

<h5 id="7-2-基本语法">7.2 基本语法</h5>

<p>（1） “$((运算式))”或“$[运算式]”</p>

<p>（2） expr m + n</p>

<p>注意 expr 运算符间要有空格</p>

<p>（3） expr m - n</p>

<p>（4） expr \*, /, % 乘，除，取余</p>

<p>应用实例</p>

<p>案例 1：计算（2+3）X4 的值</p>

<p>（1） $((运算式))</p>

<pre><code>#!/bin/bash
#第一方式$()
RESULT1=$(((2+3)*4))
echo &quot;result1=$RESULT1&quot;
</code></pre>

<p>（2）$[运算式]</p>

<pre><code>#第二种方式[]
RESULT2=$[(2+3)*4]
echo &quot;result2=$RESULT2&quot;
</code></pre>

<p>（3）expr</p>

<pre><code>#使用expr
TEMP=`expr 2 + 3`
RESULT3 = `expr $TEMP \* 4`
echo &quot;result3=$RESULT3&quot;
</code></pre>

<p>案例 2：请求出命令行的两个参数[整数]的和</p>

<pre><code>#求出两个参数的和
SUM=$[$1+$2]
echo &quot;SUM=$SUM&quot;
</code></pre>

<h4 id="8-条件判断">8、条件判断</h4>

<h5 id="8-1-基本语法">8.1 基本语法</h5>

<p>[ condition ]（注意 condition 前后要有空格）</p>

<p>#非空返回 true，可使用$?验证（0 为 true，&gt;1 为 false）</p>

<h5 id="8-2-应用实例">8.2 应用实例</h5>

<p>[condition] &amp;&amp; echo OK || echo notok 条件满足，执行后面的语句</p>

<h5 id="8-3-常用的判断条件">8.3 常用的判断条件</h5>

<p>（1）两个整数的比较</p>

<p>​ = 字符串比较</p>

<p>​ -lt 小于</p>

<p>​ -le 小于等于</p>

<p>​ -eq 等于</p>

<p>​ -gt 大于</p>

<p>​ -ge 大于等于</p>

<p>​ -ne 不等于</p>

<p>（2） 按照文件权限进行判断</p>

<p>​ -r 有读的权限 [ -r 文件 ]</p>

<p>​ -w 有写的权限</p>

<p>​ -x 有执行的权限</p>

<p>（3）按照文件类型进行判断</p>

<p>​ -f 文件存在并且是一个常规的文件</p>

<p>​ -e 文件存在</p>

<p>​ -d 文件存在并是一个目录</p>

<h4 id="9-流程控制">9、流程控制</h4>

<h5 id="9-1-if-判断">9.1 if 判断</h5>

<h6 id="1-基本语法">（1）基本语法</h6>

<pre><code>if [  条件判断式 ];then

    程序

fi

或者

if [ 条件判断式 ] then

    程序

elif [条件判断式] 

    then

        程序

fi
</code></pre>

<p>注意事项：（1）[ 条件判断式 ]，中括号和条件判断式之间必须有空格 (2) 推荐使用第二种方式</p>

<p>•应用实例</p>

<p>案例：请编写一个 shell 程序，如果输入的参数，大于等于 60，则输出 “及格了”，如果小于 60,</p>

<p>则输出 “不及格”</p>

<h5 id="9-2-case-语句">9.2 case 语句</h5>

<h6 id="1-基本语法-1">（1）基本语法</h6>

<pre><code>case $变量名 in
&quot;值 1&quot;）
    如果变量的值等于值 1，则执行程序 1
    ;;
&quot;值 2&quot;）
    如果变量的值等于值 2，则执行程序 2
    ;;
    …省略其他分支…
*）
    如果变量的值都不是以上的值，则执行此程序
;;
esac
</code></pre>

<p>应用实例</p>

<p>案例 1 ：当命令行参数是 1 时，输出 “周一”, 是 2 时，就输出&rdquo;周二&rdquo;， 其它情况输出 “other”</p>

<pre><code>#！/bin/bash
case $1 in
&quot;1&quot;)
echo &quot;周一&quot;
;;
&quot;2&quot;)
echo &quot;周二&quot;
;;
*)
echo &quot;other&quot;
;;
esac
</code></pre>

<h5 id="9-3-for循环">9.3 for循环</h5>

<h6 id="1-基本语法-2">（1）基本语法</h6>

<p><strong>基本语法一：</strong></p>

<pre><code>for 变量 in 值 1 值 2 值 3…
    do 
        程序
    done
</code></pre>

<p><strong>基本语法二：</strong></p>

<pre><code>for (( 初始值;循环控制条件;变量变化 )) 
    do
        程序
    done
</code></pre>

<h5 id="9-4-while-循环">9.4 while 循环</h5>

<h6 id="1-基本语法-3">（1）基本语法</h6>

<pre><code>while [ 条件判断式 ] 
do
    程序
done
</code></pre>

<h4 id="10-read读取控制台输入">10、read读取控制台输入</h4>

<h5 id="10-1-基本语法">10.1 基本语法</h5>

<p>read(选项)(参数)</p>

<p>选项：</p>

<p>​ -p：指定读取值时的提示符；</p>

<p>​ -t：指定读取值时等待的时间（秒），如果没有在指定的时间内输入，就不再等待了。。 参数</p>

<p>变量：指定读取值的变量名</p>

<h5 id="10-2-应用实例">10.2 应用实例</h5>

<p>案例 1：读取控制台输入一个 num 值</p>

<p>案例 2：读取控制台输入一个 num 值，在 10 秒内输入。</p>

<pre><code>#！/:in/bash
#案例1：
read -p &quot;请输入一个数num1=&quot; NUM1
echo &quot;你输入的值是num1=$NUM1&quot;
#案例2
read -t 10 -p &quot;请输入一个数num2=&quot; NUM2
echo &quot;你输入的值是num2=$NUM2&quot;
</code></pre>

<h4 id="10-函数">10、函数</h4>

<h5 id="10-1-函数介绍">10.1 函数介绍</h5>

<p>shell 编程和其它编程语言一样，有系统函数，也可以自定义函数。系统函数中，我们这里就介绍两个。</p>

<h5 id="10-2-系统函数">10.2 系统函数</h5>

<ul>
<li>basename 基本语法</li>
</ul>

<p>功能：返回完整路径最后 / 的部分，常用于获取文件名</p>

<p>basename [pathname] [suffix]</p>

<p>basename [string] [suffix] （功能描述：basename 命令会删掉所有的前缀包括最后一个（‘/’） 字符，然后将字符串显示出来。</p>

<p>选项：</p>

<p>suffix 为后缀，如果 suffix 被指定了，basename 会将 pathname 或 string 中的 suffix 去掉。</p>

<ul>
<li>dirname 基本语法</li>
</ul>

<p>功能：返回完整路径最后 / 的前面的部分，常用于返回路径部分</p>

<p>dirname 文件绝对路径 （功能描述：从给定的包含绝对路径的文件名中去除文件名（非目录的 部分），然后返回剩下的路径（目录的部分））</p>

<h5 id="10-3-自定义函数">10.3 自定义函数</h5>

<h6 id="1-基本语法-4">（1）基本语法</h6>

<p>[ function ] funname[()]</p>

<p>{</p>

<p>​ Action; [return int;]</p>

<p>}</p>

<p>调用直接写函数名：funname [值]</p>

<h6 id="2-应用实例">（2）应用实例</h6>

<p>案例 1：计算输入两个参数的和（read）， getSum</p>

<pre><code>#！/bin/bash
function getSum(){
    SUM=$[$n1+$n2]
    echo &quot;和是=$SUM&quot;
}
read -p &quot;请输入第一个数n1&quot; n1
read -p &quot;请输入第二个数n2&quot; n2
#调用函数
getSum $n1 $n2
</code></pre>

<h4 id="11-shell编程综合案例">11、shell编程综合案例</h4>

<p>需求分析</p>

<p>（1）每天凌晨 2:10 备份 数据库 atguiguDB 到 /data/backup/db</p>

<p>（2）备份开始和备份结束能够给出相应的提示信息</p>

<p>（3）备份后的文件要求以备份时间为文件名，并打包成 .tar.gz 的形式，比如：</p>

<p>2019-09-25_230201.tar.gz</p>

<p>（4） 在备份的同时，检查是否有 10 天前备份的数据库文件，如果有就将其删除。</p>

<p>编写一个shell 脚本。</p>

<p><strong>思路分析：</strong><br />
<a href="https://img.it610.com/image/info8/952fe761cf5f482e89dcaa857f0f89c5.jpg"><img src="https://img.it610.com/image/info8/952fe761cf5f482e89dcaa857f0f89c5.jpg" alt="Linux笔记（包含shell编程）_第20张图片" /></a></p>

<p><strong>代码实现：</strong></p>

<p><a href="https://img.it610.com/image/info8/42d62a039ae94c41affe1b9b5cd480a5.jpg"><img src="https://img.it610.com/image/info8/42d62a039ae94c41affe1b9b5cd480a5.jpg" alt="Linux笔记（包含shell编程）_第21张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/065140901c2a44f78590d77f5f2d3785.jpg"><img src="https://img.it610.com/image/info8/065140901c2a44f78590d77f5f2d3785.jpg" alt="在这里插入图片描述" /></a></p>

<p><a href="https://img.it610.com/image/info8/8b8dfe29321b4903976e4c33cacba193.jpg"><img src="https://img.it610.com/image/info8/8b8dfe29321b4903976e4c33cacba193.jpg" alt="Linux笔记（包含shell编程）_第22张图片" /></a></p>

<h3 id="十三-rpm和yum">十三、rpm和yum</h3>

<h4 id="1-rpm">1、 rpm</h4>

<p>（1）RPM（RedHat Package Manager），Rethat软件包管理工具，类似windows里面的setup.exe</p>

<p>是Linux这系列操作系统里面的打包安装工具，它虽然是RedHat的标志，但理念是通</p>

<p>用的。</p>

<p>（2） 查询已安装的rpm列表 rpm –qa|grep xx</p>

<p>（3）rpm包的名称：firefox-52.5.0-1.el7.centos.x86_64</p>

<p>​ 名称:firefox</p>

<p>​ 版本号：52.6.0-1</p>

<p>​ 适用操作系统: el7.centos.x86_64</p>

<p>​ 表示centos7.x的64位系统。</p>

<p>（4）安装rpm</p>

<p>​ rpm –ivh rpm包名</p>

<p>​ -i 安装 install</p>

<p>​ -v 查看信息</p>

<p>​ -h 查看进度条</p>

<p>（5）卸载rpm</p>

<p>​ rpm -e RPM软件包</p>

<h4 id="2-yum">2、 yum</h4>

<p>（1） 类似于我们java开发中的maven工具，可以从镜像网站上下载应用程序，并直接安装</p>

<p>（2） yum 操作</p>

<p>​ yum list|grep xx软件列表</p>

<p>​ yum install xxx 下载安装</p>

<h3 id="十四-javaee开发的环境设置">十四、javaEE开发的环境设置</h3>

<h4 id="8-1-安装jdk">8.1 安装JDK</h4>

<p>（1）将JDK解压缩到opt目录下</p>

<p>（2） 配置环境变量 , vim /etc/profile</p>

<p>​ JAVA_HOME=/opt/jdk1.8.0_152</p>

<p>​ PATH=/opt/jdk1.8.0_152/bin:$PATH</p>

<p>​ export JAVA_HOME PATH</p>

<p>（3）配置完成后执行如下操作</p>

<p>​ 安装完成注销重新登录一下</p>

<p>​ source /etc/profile</p>

<p>​ 重启系统[最靠谱]</p>

<h4 id="8-2-安装tomcat">8.2 安装Tomcat</h4>

<p>（1）解压缩到/opt</p>

<p>（2）进入到Tomcat目录下的bin目录中,启动tomcat ./startup.sh</p>

<h4 id="8-4-安装mysql">8.4 安装MySQL</h4>

<h5 id="1-检查工作">（1）检查工作</h5>

<ul>
<li>CentOS6</li>
</ul>

<p>rpm -qa|grep mysql</p>

<p>如果存在mysql-libs的旧版本包如下：</p>

<p><a href="https://img.it610.com/image/info8/bf06914530ba4ca1b0493ef807072b88.jpg"><img src="https://img.it610.com/image/info8/bf06914530ba4ca1b0493ef807072b88.jpg" alt="在这里插入图片描述" /></a></p>

<p>​ 请先执行卸载命令：rpm -e &ndash;nodeps mysql-libs</p>

<ul>
<li>CentOS7</li>
</ul>

<p>rpm -qa|grep mariadb</p>

<p>如果存在如下：</p>

<p><a href="https://img.it610.com/image/info8/b7284ac657f6489aa18de42df4a6e612.jpg"><img src="https://img.it610.com/image/info8/b7284ac657f6489aa18de42df4a6e612.jpg" alt="在这里插入图片描述" /></a></p>

<p>​ 请先执行卸载命令：rpm -e &ndash;nodeps mariadb-libs</p>

<ul>
<li>检查/tmp文件夹权限</li>
</ul>

<p>​ 执行 ：chmod -R 777 /tmp</p>

<h5 id="2-安装mysql">（2）安装MySQL</h5>

<ul>
<li>拷贝安装包到opt目录下</li>
</ul>

<p>MySQL-client-5.5.54-1.linux2.6.x86_64.rpm</p>

<p>MySQL-server-5.5.54-1.linux2.6.x86_64.rpm</p>

<ul>
<li>执行如下命令进行安装</li>
</ul>

<p>rpm -ivh MySQL-client-5.5.54-1.linux2.6.x86_64.rpm</p>

<p>rpm -ivh MySQL-server-5.5.54-1.linux2.6.x86_64.rpm</p>

<h5 id="3-检查安装是否成功">（3）检查安装是否成功</h5>

<ul>
<li>安装完成后查看MySQL的版本</li>
</ul>

<p>执行 mysqladmin &ndash;version，如果打印出消息，即为成功<br />
<a href="https://img.it610.com/image/info8/d241c0481989492084e858e2ab4b917c.jpg"><img src="https://img.it610.com/image/info8/d241c0481989492084e858e2ab4b917c.jpg" alt="在这里插入图片描述" /></a><br />
​</p>

<p>​ 或者通过rpm查询</p>

<p>​ rpm –qa|grep –i mysql（-i 表示忽略大小写）</p>

<h5 id="4-mysql服务的启停">（4）MySQL服务的启停</h5>

<p>​ 启动: service mysql start</p>

<pre><code>    停止: service mysql stop
</code></pre>

<h5 id="5-设置root用户的密码">（5）设置root用户的密码</h5>

<p>​ mysqladmin -u root password ‘123123’</p>

<h5 id="6-登录mysql">（6）登录MySQL</h5>

<pre><code>    mysql  -uroot  -p123123
</code></pre>

<h5 id="7-建库">（7）建库</h5>

<p>​ create database 库名</p>

<h5 id="8-建表">（8）建表</h5>

<p>​ create table 表名 （字段名 字段类型（长度）约束 …）</p>

<h5 id="9-字符集问题">（9）字符集问题</h5>

<ul>
<li><p>查看字符集 show variables like &lsquo;character%’;</p></li>

<li><p>查看MySQL的安装位置.</p></li>
</ul>

<p><a href="https://img.it610.com/image/info8/2667c70aeee34803bea1f84d7dfcaf5a.jpg"><img src="https://img.it610.com/image/info8/2667c70aeee34803bea1f84d7dfcaf5a.jpg" alt="Linux笔记（包含shell编程）_第23张图片" /></a></p>

<ul>
<li>修改字符集</li>
</ul>

<p>将/usr/share/mysql/中的my-huge.cnf 拷贝到/etc/下，改名为my.cnf</p>

<p>​ tips:</p>

<p>​ mysql启动时，会优先读取/etc/my.cnf文件。</p>

<p>在[client] [mysqld] [mysql]中添加相关的字符集设置</p>

<p>[client]</p>

<p>default-character-set=utf8</p>

<p>[mysqld]</p>

<p>character_set_server=utf8</p>

<p>character_set_client=utf8</p>

<p>collation-server=utf8_general_ci</p>

<p>[mysql]</p>

<p>default-character-set=utf8</p>

<p>重启MySQL服务，查看字符集</p>

<p>service mysql restart</p>

<ul>
<li>修改已有库表的字符集</li>
</ul>

<p>​ 修改库的字符集</p>

<p>​ alter database 库名 character set ‘utf8’;</p>

<p>​ 修改表的字符集</p>

<p>​ alter table 表名 convert to character set ‘utf8’;</p>

<h5 id="10-远程访问">（10）远程访问</h5>

<ul>
<li><p>MySQL默认的root用户只允许本机登录，远程通过SQLyog工具不能登录.</p></li>

<li><p>查看MySQL mysql库中的用户表</p></li>
</ul>

<p>​ 列显示: select * from user\G;</p>

<p>​ 查询常用字段: select host,user,password,select_priv from mysql.user;</p>

<ul>
<li>创建可以远程访问的root用户并授予所有权限</li>
</ul>

<p>​ grant all privileges on <em>.</em> to root@’%’ identified by &lsquo;123123‘;</p>

<ul>
<li>修改用户的密码</li>
</ul>

<p>修改当前用户的密码</p>

<pre><code>    set password =password('123456’)
</code></pre>

<p>修改某个用户的密码</p>

<p>​ update mysql.user set password=password(‘123456’) where user=‘li4’;</p>

<ul>
<li>注意: 所有通过user表的修改,必须使用flush privileges 命令才能生效.</li>
</ul>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>