<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>初识Shell脚本shell基础练习以及shell中常见命令的使用 | 开发者问答集锦</title>
    <meta property="og:title" content="初识Shell脚本shell基础练习以及shell中常见命令的使用 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="初识Shell脚本shell基础练习以及shell中常见命令的使用">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/%E5%88%9D%E8%AF%86shell%E8%84%9A%E6%9C%ACshell%E5%9F%BA%E7%A1%80%E7%BB%83%E4%B9%A0%E4%BB%A5%E5%8F%8Ashell%E4%B8%AD%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4%E7%9A%84%E4%BD%BF%E7%94%A8/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">初识Shell脚本shell基础练习以及shell中常见命令的使用</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h1 id="shell">Shell</h1>

<h5 id="1-什么是shell">1.什么是Shell？</h5>

<p><a href="https://img.it610.com/image/info8/bd7c4f1a96404627b610ddcf37a9002f.jpg"><img src="https://img.it610.com/image/info8/bd7c4f1a96404627b610ddcf37a9002f.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第1张图片" /></a></p>

<p>shell也是操作系统的一个软件，它包在linux内核外面，为用户提供和内核之间的交互提供了一个接口。</p>

<p>系统中的命令用shell去解释；shell接收系统回应的输出并显示其到屏幕中</p>

<p>bash =GUN Bourne-Again Shell</p>

<h5 id="2-什么是shell脚本">2.什么是Shell脚本？</h5>

<blockquote>
<p>脚本是一种解释性语言</p>

<p>用Shell 脚本保存执行动作</p>

<p>用脚本判定命令的执行条件</p>

<p>用脚本来实现动作的批量执行 #也是脚本的意义所在</p>
</blockquote>

<h5 id="2-1-shell和shell-脚本的区别">2.1&gt;shell和shell 脚本的区别：</h5>

<p>shell
script是利用shell的功能所写的一个程序，这个程序是使用纯文本文件，将一些shell的语法与指令写在里面，然后用正规表示法，管道命令以及数据流重导向等功能，以达到我们所想要的处理目的。</p>

<p>更明白地来说，shell script就像早期dos年代的
.bat，最简单的功能就是将许多指令汇整写一起，让使用者很容易地就能够一个操作执行多个命令，而shell script更是提供了 数组，循环，条件以及
逻辑判断等重要功能，让使用者可以直接以shell来写程序，而不必使用类似C程序语言等传统程序编写的语法。</p>

<p>Shell就是一个
命令行解释器，它的作用就是遵循一定的语法将输入的命令加以解释并传给系统。它为用户提供了一个向Linux发送请求以便运行程序的接口系统级程序，用户可以用Shell来启动、挂起、停止甚至是编写一些程序。
Shell本身是一个用C语言编写的程序，它是用户使用Linux的桥梁。Shell既是一种命令语言，又是一种
程序设计语言(就是你所说的shell脚本)。作为命令语言，它互动式地解释和执行用户输入的命令；作为程序设计语言，它定义了各种变量和参数，并提供了许多在高阶语言中才具有的控制结构，包括循环和分支。它虽然不是
Linux系统 内核的一部分，但它调用了系统内核的大部分功能来执行程序、创建文档并以并行的方式协调各个程序的运行</p>

<h5 id="3-shell和c-java-区别">3.Shell和C JAVA 区别：</h5>

<p>Shell 是解释性语言；执行速度慢</p>

<p>C JAVA 是程序类语言；执行速度快</p>

<h6 id="3-1-实验操作-c-和-shell-script区别">3.1 实验操作：c 和 shell script区别：</h6>

<p>1.1&gt;c语言的建立和编译：</p>

<pre><code>1 vim hello.c
#include #include 用来提供程序要求的信息
是在程序编译之前要处理的内容，称为编译预处理命令。编译预处理命令还有很多，它们都以“#”开头，并且不用分号结尾，所以是c语言的程序语句。
main () #主函数
{
  printf (&quot;hello world\n')
}
2 yum install gcc #安装c编译安装包
3 gcc hello.c
4 ls
5 ./a.out #生成文件
6 gcc hello.c -o hello
7 ls
8 ./hello
9 chmod +x hello.c
10./hello.c
</code></pre>

<p><a href="https://img.it610.com/image/info8/dcad7d8e9f1543b2ae9da5b2b5ee8ad5.jpg"><img src="https://img.it610.com/image/info8/dcad7d8e9f1543b2ae9da5b2b5ee8ad5.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第2张图片" /></a></p>

<p>1.2&gt;shell的简单建立和执行：</p>

<pre><code>  1  cd /mnt/
  2  ls
  3  vim hello.sh
   #!/bin/bash 


&quot;#!&quot; 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种Shell
echo hello world  #echo命令用于向窗口输出文本。
4  sh hello.sh
5  chmod +x hello.sh
6  /mnt/hello.sh
7  cat hello.sh
8  vim hello.sh
9  /mnt/hello.sh #打入后台
10  ps -f
11  cat hello.sh 
</code></pre>

<p><a href="https://img.it610.com/image/info8/17262384a5934c54b35161bce3ef4da0.jpg"><img src="https://img.it610.com/image/info8/17262384a5934c54b35161bce3ef4da0.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第3张图片" /></a></p>

<p>1.3&gt;脚本示例：<br />
1 执行ip_show.sh 显示当前主机的ip地址</p>

<pre><code> 1&gt;vim ip_show.sh
 2&gt;cat ip_show.sh
  #!/bin/bash
  ifconfig eth0 | awk -F &quot; &quot; '/inet\&gt;/{print $2}'
 3&gt;sh ip_show.sh
  172.25.254.132
</code></pre>

<p>2 执行clear_log.sh 可以清空日志</p>

<pre><code> 1&gt;vim clear_log.sh
 2&gt;sh clear_log.sh
 3&gt;cat clear_log.sh
 4&gt;cat /var/log/messages 
</code></pre>

<p><a href="https://img.it610.com/image/info8/ade10c1e29284587a90808195dc1b403.jpg"><img src="https://img.it610.com/image/info8/ade10c1e29284587a90808195dc1b403.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第4张图片" /></a></p>

<h5 id="4-建立-sh文件自动调用settitle函数">4 建立.sh文件自动调用SetTitle函数</h5>

<p>4.1 &gt; 需要键入F4才能调用的SETTITLE</p>

<pre><code>1 vim /etc/vimrc
map  ms:call MEILI()'s #当按下&quot;F4&quot;会调用&quot;MEILI&quot;
func MEILI ()
     call append(0,&quot;#########################&quot;)
     call append(1,&quot;#Xiaoxiannu:yuhan&quot;.(&quot;       #&quot;))
     call append(2,&quot;#Habby: manhua&quot;.(&quot;          #&quot;))
     call append(3,&quot;#Charactor:changtuimeizi&quot;.(&quot;#&quot;))
     call append(4,&quot;#Nicheng:guaiguai&quot;.(&quot;       #&quot;))
     call append(5,&quot;#########################&quot;)
     call append(6,&quot; &quot;)
     call append(7,&quot;#!/bin/bash&quot;)
endfunc
2 vim yuhan.sh #当按下“F4”会调MEILI
</code></pre>

<p>4.1 vim /etc/vimrc</p>

<p><a href="https://img.it610.com/image/info8/90f5b090db164bd58b108601a6e96bc9.jpg"><img src="https://img.it610.com/image/info8/90f5b090db164bd58b108601a6e96bc9.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第5张图片" /></a></p>

<p>vim lala.sh +&ldquo;F4&rdquo;</p>

<p><a href="https://img.it610.com/image/info8/715890f976054733b35ecd31b528fc09.png"><img src="https://img.it610.com/image/info8/715890f976054733b35ecd31b528fc09.png" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第6张图片" /></a></p>

<p>4.2 &gt;升级之后的SETTITLE</p>

<pre><code>1 vim /etc/vimrc
&quot;map  ms:call MEILI()'s #注释
autocmd BufNewFile #.sh exec &quot;:call MEILI()&quot; #当文件格式为.sh时，自动调用&quot;MEILI&quot;

func MEILI ()
     call append(0,&quot;#########################&quot;)
     call append(1,&quot;#Xiaoxiannu:yuhan&quot;.(&quot;       #&quot;))
     call append(2,&quot;#Habby: manhua&quot;.(&quot;          #&quot;))
     call append(3,&quot;#Charactor:changtuimeizi&quot;.(&quot;#&quot;))
     call append(4,&quot;#Nicheng:guaiguai&quot;.(&quot;       #&quot;))
     call append(5,&quot;#########################&quot;)
     call append(6,&quot; &quot;)
     call append(7,&quot;#!/bin/bash&quot;)
endfunc
vim yuhanshengjiban.sh #自动调用MEILI
</code></pre>

<p>4.2 vim /etc/vimrc</p>

<p><a href="https://img.it610.com/image/info8/3ec44b05c7654c8ca32333600b4494a6.jpg"><img src="https://img.it610.com/image/info8/3ec44b05c7654c8ca32333600b4494a6.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第7张图片" /></a></p>

<h5 id="5-shell-中的命令以及命令的灵活运用">5 shell 中的命令以及命令的灵活运用：</h5>

<h6 id="5-1-diff-patch">5.1 diff patch</h6>

<p>diff以逐行的方式，比较文本文件的异同处，指定目录的话，如果指定的是目录，则比较目录中相同文件名的文件，但不会比较其中子目录。</p>

<pre><code>diff  在比较文件过程中结果读取方式：
[num1,num2][a|c|d][num3,num4]
num1,num2表示在第一个文件中的行数
a 表示添加  ---add
c 表示修改  ---change
d 表示删除  ---delete
&lt; 表示第一个文件的内容，&gt;表示第二个文件的内容，---分割线；num3，num4表示在第二个文件中的行数
2，4c2，4 表示改变第一个文件中的第二行和第四行才能匹配第二个文件的第二行和第四行


1 vim westos
 2 vim westos1
 3 cat westos
 4 cat westos1
 5 diff westos westos1 #比较两个文件的不同
 6 diff -u westos westos1
 7 diff -u westos westos1 &gt; westos.path #比较不同，并生成布丁文件
 8 cat westos.path
 9 cat westos
10 yum install patch -y
11 patch westos westos.path #打补丁，即将不同的地方通过打补丁的方式将两文件内容相同
12 cat westos #查看测试，是否westos内容修改的和westos1相同
13 patch -b westos westos.path #生成原始westos文件，因为此时文件已经被打了补丁，所以生成rej文件，该文件说明了文件是怎么修改的
14 ls
15 cat westos.rej
</code></pre>

<p><a href="https://img.it610.com/image/info8/6159da9df3e5430e81980e31b52464ed.jpg"><img src="https://img.it610.com/image/info8/6159da9df3e5430e81980e31b52464ed.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第8张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/3ac5510f74734f09a53b1add2e0f73fb.jpg"><img src="https://img.it610.com/image/info8/3ac5510f74734f09a53b1add2e0f73fb.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第9张图片" /></a></p>

<pre><code>1 vim westos
2 diff westos westos1
3 cat westos
4 cat westos1
5 diff -u westos westos1 &gt; westos.path #生成补丁文件
6 patch -b westos westos.path #此时并没有打补丁，-b执行之后不仅打了补丁，还生成了westos原始文件，相当于文件的备份修改
7 ls
8 cat westos.orig
9 cat westos
</code></pre>

<p><a href="https://img.it610.com/image/info8/b048c8f7022947b7a8f1f44336130205.jpg"><img src="https://img.it610.com/image/info8/b048c8f7022947b7a8f1f44336130205.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第10张图片" /></a></p>

<h6 id="5-2-cut命令多用于字符截取">5.2 cut命令多用于字符截取</h6>

<pre><code>cut -d             指定分隔符
cut -f  1,7|1-7   指定截取的列
cut -c  1,4|1-4   指定截取的字符位置


用命令查看某机网络是否于本机畅通，如果畅通则输出ip is up；若不通则输出ip is down
 1&gt;ping -c1 -w1 172.25.254.64 &amp;&gt; /dev/null &amp;&amp; echo 172.25.254.64 is up || 172.25.254.64 is down
 2&gt;ping -c1 -w1 172.25.254.232 &amp;&gt; /dev/null &amp;&amp; echo 172.25.254.232 is up || 172.25.254.232 is down

用脚本实现其后所跟的第一串字符即ip所对应的主机网络是否与本机相通

1 vim check_ip.sh
2 sh check_ip.sh  172.25.254.64
#!/bin/bash
ping -c1 -w1 $1 &amp;&gt; /dev/null &amp;&amp; echo $1 is up || echo $1 is down
</code></pre>

<p><a href="https://img.it610.com/image/info8/fe32b962b4b54883ad42e369a7c4e577.jpg"><img src="https://img.it610.com/image/info8/fe32b962b4b54883ad42e369a7c4e577.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第11张图片" /></a></p>

<h6 id="5-3-sort-quid">5.3 sort,quid</h6>

<pre><code>sort 多用于字符排序
sort -n   纯数字排序
sort -r   倒序
sort -u   去掉重复数字
sort -o   输出到指定文件
sort -t   指定分隔符
sort -k   指定要排序的列
uniq  对重复字符作相应的处理
uniq -u   显示唯一的行
uniq -d   显示重复的行
uniq -c   每行显示一次并统计重复次数


1  vim westos
2  sort -rn westos #倒序排列
3  sort -urn westos -o file #只排列不重复的unique,并输出到file文件中
4  sort -urn westos
5  cat file
#当文件中有多列字符时
6  vim westos
7  cat westos
8  sort -n westos | uniq -c #每行显示一次并统计重复次数
9  sort -t : -k 2 westos #指定分隔符为&quot;:&quot;,即相隔一个&quot;:&quot;为一列，这里比较第二列
10  sort -t : -k 2 -n westos #正向比较第二列
11  sort -t : -k 2 -r westos #反向比较第二列
12  cat westos | uniq -c
13  vim westos
14  cat  westos
15  sort -n westos | uniq -c
16  sort -n westos | uniq -d  #显示重复的行
17  sort -n westos | uniq -u  #显示唯一的行
</code></pre>

<p><a href="https://img.it610.com/image/info8/64f2884eabc0410ba34a9a382bcc6459.jpg"><img src="https://img.it610.com/image/info8/64f2884eabc0410ba34a9a382bcc6459.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第12张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/b3f6c9f577b04dc3b42c887b2115ba6e.jpg"><img src="https://img.it610.com/image/info8/b3f6c9f577b04dc3b42c887b2115ba6e.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第13张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/2828d961726446fca32b7b38e4843fbd.jpg"><img src="https://img.it610.com/image/info8/2828d961726446fca32b7b38e4843fbd.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第14张图片" /></a></p>

<p>查看/mnt中最大的文件名称</p>

<pre><code>1  ls -l /mnt/
2  ls -l /mnt | grep total -v | awk -F &quot; &quot; '//{print $5}'
3  ls -l /mnt | grep total -v | awk -F &quot; &quot; '//{print $5,$9}' | sort -nr
4  ls -l /mnt | grep total -v | awk -F &quot; &quot; '//{print $5,$9}' | sort -nr | head -n 1
5  ls -l /mnt | grep total -v | awk -F &quot; &quot; '//{print $5,$9}' | sort -nr | head -n 1 | cut -d &quot; &quot; -f 2
7  ls -Sl /mnt/
8  ls -Sl /mnt/ | grep -v total
9  ls -Sl /mnt/ | grep -v total | awk -F &quot; &quot; 'NR==1{prinf $9}'
</code></pre>

<p><a href="https://img.it610.com/image/info8/f8c2f7ba32784446b333ae037e3f5fb5.jpg"><img src="https://img.it610.com/image/info8/f8c2f7ba32784446b333ae037e3f5fb5.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第15张图片" /></a></p>

<h6 id="5-5-test命令">5.5 test命令</h6>

<pre><code>test命令和[]等同
test &quot;$A&quot;==&quot;$B&quot; 等同于[&quot;$A&quot;==&quot;$B&quot;]
[&quot;$A&quot;=&quot;$B&quot;] #判断A=B
[&quot;$A&quot;!=&quot;$B&quot;] #A!=B
[&quot;$A&quot;-eq &quot;$B&quot;] #A=B
[&quot;$A&quot;-ne &quot;$B&quot;] #!=
[&quot;$A&quot;-le &quot;$B&quot;] #小于等于
[&quot;$A&quot;-lt &quot;$B&quot;] #小于
[&quot;$A&quot;-ge &quot;$B&quot;] #大于等于
[&quot;$A&quot;-gt &quot;$B&quot;] #大于
[&quot;$A&quot;-ne &quot;$B&quot;-a &quot;$A&quot;-gt &quot;$B&quot;] #-a 表示与操作即都要满足，A！=B且A大于B
[&quot;$A&quot;-ne &quot;$B&quot;-o &quot;$A&quot;-gt &quot;$B&quot;] #-a 表示或操作即只用满足其中之一，A！=B或A大于B
[-z &quot;$A&quot;] #为空
[-n &quot;$A&quot;] #不为空
[-e &quot;file&quot;] #文件是否存在
[-f &quot;file&quot;] #是否为普通文件
[-L &quot;file&quot;] #是否为软链接
[-S &quot;file&quot;] #是否为套接字
[-b &quot;file&quot;] #是否为块链接
[-d &quot;file&quot;] #是否为目录
[-c &quot;file&quot;] #是否为字符设备
test 通常和&amp;&amp; || 连用；
当满足test条件时执行&amp;&amp;之后的命令
当不满足test条件时执行||之后的命令


1 a=1
2 b=2
3 test &quot;$a&quot; = &quot;$b&quot; &amp;&amp; echo yes || echo no
4 a=1
5 b=3
6 test &quot;$a&quot; = &quot;$b&quot; &amp;&amp; echo yes || echo no
7 a=3
8 test &quot;$a&quot; = &quot;$b&quot; &amp;&amp; echo yes || echo no
9 [ &quot;$a&quot; = &quot;$b&quot; ] &amp;&amp; echo yes || echo no
10 echo  $c
11 [ -z &quot;$c&quot; ] &amp;&amp; echo yes || echo no
12 [ -n &quot;$c&quot; ] &amp;&amp; echo yes || echo no
13 c=1
14 [ -z &quot;$c&quot; ] &amp;&amp; echo yes || echo no
15 [ -n &quot;$c&quot; ] &amp;&amp; echo yes || echo no 
</code></pre>

<p><a href="https://img.it610.com/image/info8/2de8b54531c248e686ab97d37dfa5954.jpg"><img src="https://img.it610.com/image/info8/2de8b54531c248e686ab97d37dfa5954.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第16张图片" /></a></p>

<pre><code>判断一个文件的文件类型并输出
1 vim file.sh
#!/bin/bash

[ -z &quot;&amp;1&quot; ]&amp;&amp; {
  echo please input a file !!
  exit 1 #当没有需要判断的文件
}
[ &quot;-e&quot; &quot;$1&quot; ] || {
   echo File is not exist !!     
} #存在
[ &quot;-f&quot; &quot;$1&quot; ]&amp;&amp; {
      echo &quot;Common&quot;
} #常规
[ &quot;-S&quot; &quot;$1&quot; ]&amp;&amp; {
     echo &quot;Socket&quot;
} #套接字
[ &quot;-L&quot; &quot;$1&quot; ]&amp;&amp; {
     echo &quot;link&quot;
} #链接
[ &quot;-b&quot; &quot;$1&quot; ]&amp;&amp; {
     echo &quot;Block&quot;
} #块设备
[ &quot;-s&quot; &quot;$1&quot; ]|| {
    echo &quot;Empty&quot;
} #空
[ &quot;-c&quot; &quot;$1&quot; ]&amp;&amp; {
    echo &quot;Zifu&quot;
} #字符

2 sh file.sh  lala
</code></pre>

<p><a href="https://img.it610.com/image/info8/3b7b4b3fef444429ba2cc0e4aa82a7b4.jpg"><img src="https://img.it610.com/image/info8/3b7b4b3fef444429ba2cc0e4aa82a7b4.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第17张图片" /></a></p>

<p>######</p>

<h5 id="初识shell">[![初识Shell</h5>

<p>脚本，shell基础练习以及shell中常见命令的使用_第18张图片](<a href="https://img.it610.com/image/info8/db05de0ef5f84db98a9f2ad07dc9df66.png)](https://img.it610.com/image/info8/db05de0ef5f84db98a9f2ad07dc9df66.png)[![初识Shell">https://img.it610.com/image/info8/db05de0ef5f84db98a9f2ad07dc9df66.png)](https://img.it610.com/image/info8/db05de0ef5f84db98a9f2ad07dc9df66.png)[![初识Shell</a>
脚本，shell基础练习以及shell中常见命令的使用_第19张图片](<a href="https://img.it610.com/image/info8/d6d53c605771471b9cb8b9cc512862a0.jpg)](https://img.it610.com/image/info8/d6d53c605771471b9cb8b9cc512862a0.jpg)[![初识Shell">https://img.it610.com/image/info8/d6d53c605771471b9cb8b9cc512862a0.jpg)](https://img.it610.com/image/info8/d6d53c605771471b9cb8b9cc512862a0.jpg)[![初识Shell</a>
脚本，shell基础练习以及shell中常见命令的使用_第20张图片](<a href="https://img.it610.com/image/info8/7c9d333082c44eb6bfbf17b942008c24.jpg)](https://img.it610.com/image/info8/7c9d333082c44eb6bfbf17b942008c24.jpg">https://img.it610.com/image/info8/7c9d333082c44eb6bfbf17b942008c24.jpg)](https://img.it610.com/image/info8/7c9d333082c44eb6bfbf17b942008c24.jpg</a>)</p>

<h5 id="5-6-tr-转换">5.6 tr 转换</h5>

<pre><code>tr转换
#!/bin/bash
WORD=$(echo $1 |tr 'A-Z' 'a-z') #该命令和WORD=$`echo $1 |tr 'A-Z' 'a-z'`;表先执行该转换操作，当输入有大写字母时，会将其先转换为小写，并将该转换赋给WORD输出
[ &quot;$WORD&quot; = &quot;woshixiaokeai&quot; ]&amp;&amp; { #当输入&quot;woshixiaokeai&quot;或者&quot;WOSHIXIAOKEAI&quot;就会执行&amp;&amp;之后的命令；当输入其他的，则执行||之后的命令
   echo nizhenshigexiaokeai
} ||{
   echo  error
}
1  vim test.sh
2  sh test.sh
3  sh test.sh HELLO
4  sh test.sh hello
5  cat test.sh 
</code></pre>

<p><a href="https://img.it610.com/image/info8/314dd6ff8853419dbdbde81421f6e375.png"><img src="https://img.it610.com/image/info8/314dd6ff8853419dbdbde81421f6e375.png" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第21张图片" /></a></p>

<h5 id="接下来要进行一波实验操作啦">接下来要进行一波实验操作啦 ！！！</h5>

<h5 id="1-检测网络是否畅通">1 检测网络是否畅通：</h5>

<pre><code>1 vim ip_check.sh
#!/bin/bash
[ -z &quot;$1&quot; ] &amp;&amp;{
       echo please give me a ipaddress !!
       exit 1
}
ping -c1 -w1 $1 &amp;&gt; /dev/null &amp;&amp; {
       echo &quot;$1 is up&quot;
}||{
       echo &quot;$1 is down&quot;
}
2 cat ip_check.sh
3 sh ip_check.sh
4 sh ip_check.sh 172.25.254.64
5 sh ip_check.sh 172.25.254.333
</code></pre>

<h5 id="初识shell-1">[![初识Shell</h5>

<p>脚本，shell基础练习以及shell中常见命令的使用_第22张图片](<a href="https://img.it610.com/image/info8/1e86660294ea45db983334bdb6bd2550.jpg)](https://img.it610.com/image/info8/1e86660294ea45db983334bdb6bd2550.jpg">https://img.it610.com/image/info8/1e86660294ea45db983334bdb6bd2550.jpg)](https://img.it610.com/image/info8/1e86660294ea45db983334bdb6bd2550.jpg</a>)</p>

<h5 id="2-脚本测试输入数字是十以内的">2 脚本测试输入数字是十以内的：</h5>

<pre><code>1  vim num_check.sh
2  cat num_check.sh
#测试
3  sh num_check.sh
4  sh num_check.sh 1
5  sh num_check.sh -1
6  sh num_check.sh 32
</code></pre>

<p><a href="https://img.it610.com/image/info8/5c40517ee5bc451ba93784b0c3b77f23.png"><img src="https://img.it610.com/image/info8/5c40517ee5bc451ba93784b0c3b77f23.png" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第23张图片" /></a></p>

<h5 id="初识shell-2">[![初识Shell</h5>

<p>脚本，shell基础练习以及shell中常见命令的使用_第24张图片](<a href="https://img.it610.com/image/info8/a0dd688cc9c044a49829269b45d04159.png)](https://img.it610.com/image/info8/a0dd688cc9c044a49829269b45d04159.png">https://img.it610.com/image/info8/a0dd688cc9c044a49829269b45d04159.png)](https://img.it610.com/image/info8/a0dd688cc9c044a49829269b45d04159.png</a>)</p>

<h5 id="3-检测-mnt-lala文件类型">3 检测/mnt/lala文件类型</h5>

<pre><code>1 vim file.sh
2 [ &quot;$1&quot; &quot;/mnt/lala&quot; ]&amp;&amp; echo yes || echo no
3 sh file.sh -e #lala是否存在
4 touch lala
5  sh file.sh -f
6  sh file.sh -L
7  rm -f lala
8  ln -s /mnt/file.sh /mnt/lala
9  sh file.sh -L
</code></pre>

<p><a href="https://img.it610.com/image/info8/368c095f87f6468db142a897433f7212.jpg"><img src="https://img.it610.com/image/info8/368c095f87f6468db142a897433f7212.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第25张图片" /></a></p>

<h5 id="l-链接">-l 链接</h5>

<pre><code>ef 表示互为硬链接，两个文件指向一个文件的inode
nt 表示新的文件，即出现时间晚
ot 表示旧的文件，即出现时间早


1 touch file
2 ln /mnt/file /mnt/file1
3 ls -li *
4 [ &quot;/mnt/file&quot; -ef &quot;/mnt/file1&quot; ]&amp;&amp; echo yes || echo no
5 rm -f file1
6 touch file1
7 [ &quot;/mnt/file&quot; -ef &quot;/mnt/file1&quot; ]&amp;&amp; echo yes || echo no
8 [ &quot;/mnt/file&quot; -ef &quot;/etc/passwd&quot; ]&amp;&amp; echo yes || echo no
9 [ &quot;/mnt/file&quot; -nt &quot;/mnt/file1&quot; ]&amp;&amp; echo yes || echo no
10  [ &quot;/mnt/file&quot; -ot &quot;/mnt/file1&quot; ]&amp;&amp; echo yes || echo no
</code></pre>

<h5 id="初识shell-3">[![初识Shell</h5>

<p>脚本，shell基础练习以及shell中常见命令的使用_第26张图片](<a href="https://img.it610.com/image/info8/a1e3263940e044cf9a75de495d446977.jpg)](https://img.it610.com/image/info8/a1e3263940e044cf9a75de495d446977.jpg">https://img.it610.com/image/info8/a1e3263940e044cf9a75de495d446977.jpg)](https://img.it610.com/image/info8/a1e3263940e044cf9a75de495d446977.jpg</a>)</p>

<h5 id="s套接字">-S套接字</h5>

<p>TCP用主机的IP地址加上主机上的端口号作为TCP连接的端点，这种端点就叫做套接字（socket）或插口。</p>

<p>套接字用（IP地址：端口号）表示。</p>

<p>它是网络通信过程中端点的抽象表示，包含进行网络通信必需的五种信息：连接使用的协议，本地主机的IP地址，本地进程的协议端<br />
口，远地主机的IP地址，远地进程的协议端口。流式套接字 双向字节流</p>

<pre><code>1 sh file.sh -S
2 yum install mariadb-server
3 systemctl start mariadb
4 cd /var/lib/mysql/
5 ll
6 cp mysql.sock  /mnt/lala
</code></pre>

<h5 id="4-写一个脚本-当输入一个用户时-当该用户存在-则提示用户已存在-当该用户不存在时-则建立该用户-并设置该用户密码为自己的输入">4 写一个脚本；当输入一个用户时，当该用户存在，则提示用户已存在，当该用户不存在时，则建立该用户，并设置该用户密码为自己的输入</h5>

<p>方法一：</p>

<pre><code>1 vim user_create.sh
#!/bin/bash
[ -e &quot;/home/$1&quot; ] &amp;&amp;{
 echo The User is already exist!!
 } ||{
 useradd  $1
 password $2 | stdin $1
}
 2 sh user_create.sh westos 123
</code></pre>

<p>方法二：</p>

<pre><code>1 vim user_create.sh
#!/bin/bash
[ &quot;$#&quot; -eq &quot;2&quot; ] || {
       echo &quot;Please input username and password after script !!&quot;
       exit 1
} #判断脚本后面是否有两串字符
Check_User=`getent passwd $1` #先执行``里面的内容，判断用户是否存在
[ -n &quot;$Check_User&quot; ]&amp;&amp;{
       echo $1 is exist!!
       exit 1
}
 useradd $1 #用户不存在则建立该用户，并将脚本后的第二串字符设置为新建用户的密码
echo $2 | passwd --stdin $1




1  vim user_check.sh
2  getent passwd root
3  getent passwd westos
4  grep root /etc/passwd
测试：
5  sh user_check.sh westos 111
6  getent passwd westos
7  grep westos /etc/passwd
8  sh user_check.sh hello
9  sh user_check.sh root
10  sh user_check.sh root  redhat
11  sh user_check.sh 
</code></pre>

<p>vim user_check.sh</p>

<p><a href="https://img.it610.com/image/info8/6142a44f14a349ff8f41600508abbde2.jpg"><img src="https://img.it610.com/image/info8/6142a44f14a349ff8f41600508abbde2.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第27张图片" /></a></p>

<p><a href="https://img.it610.com/image/info8/142fb4f02dd04ab89d7d49f5fd25d5fc.jpg"><img src="https://img.it610.com/image/info8/142fb4f02dd04ab89d7d49f5fd25d5fc.jpg" alt="初识Shell
脚本，shell基础练习以及shell中常见命令的使用_第28张图片" /></a></p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>