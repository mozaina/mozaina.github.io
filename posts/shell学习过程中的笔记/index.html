<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Shell学习过程中的笔记 | 开发者问答集锦</title>
    <meta property="og:title" content="Shell学习过程中的笔记 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="Shell学习过程中的笔记">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/shell%E5%AD%A6%E4%B9%A0%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E7%AC%94%E8%AE%B0/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Shell学习过程中的笔记</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p>1． Shell</p>

<p>2． Wc 统计文件中的行或者字或者字符 -l 列出多少行 -w 列出英文单词个数 -m 多少字符</p>

<p>3． (管道前的内容) | grep –c ‘hello’ 计算管道前内容中找到的字符串次数，单纯统计 -i 忽略大小写的不同 -n 顺便输出行号</p>

<p>4． 变量的定义：直接在命令行中输入 MYNAME=ZTL，就可以设置一个变量名为MYNAME，内容为ZTL的变量。</p>

<p>5． 有特殊的单引号什么的，可以使用” ” 或者 ‘ ’ 将其括起来，或者使用\：name=”Vbird’sname” 或者 name=Vbird\’s<br />
name</p>

<p>6． 使用” ”可以保持元贝的特性，如$ ：name=”lang is $LANG” 则等效于name=”lang is en_US”。</p>

<p>7． 使用’ ’仅表示为一般的字符（文本）：name=’lang is$LANG’ 则等效于name=’lang is $LANG‘。</p>

<p>8． 变量名不能是数字开头。</p>

<p>9． 特殊字符可以使用\进行转义，变成一般字符。</p>

<p>10． username=${username:-root}
–号表示如果前面的内容没有被设置，就用后面的内容进行替换，而加上了:以后，表示如果前面username被设置为空串，也会用后面的内容进行替换。这样做是为了保证用户不小心按下enter键，没有文件名的情况。</p>

<p>11． $(command)表示命令，可以赋值给变量。</p>

<p>12． $? ：用于返回执行上一条命令的回传码，如果执行成功，就返回0；如果执行失败，返回非0码。</p>

<p>13． 增加变量内容：PATH=”$PATH”/home/bin，就可以在这个变量后面加上/home/bin这样的内容。</p>

<p>14． 取消设置可以使用unset PATH，进行取消设置该变量。</p>

<p>15． 使用export来使变量变成环境变量。</p>

<p>16． env命令显示所有的环境变量以及它的内容。</p>

<p>17． Set查看与bash操作接口相关的变量以及用户自己定义的变量。</p>

<p>18．
Bash也是一个独立的进程，当一个子bash被执行，那么父bash就会处于睡眠的状态，直到子bash退出，才能正常使用父bash中的变量。如果想要在父子bash中公用一个变量，可以使用export+变量名，使其变成环境变量。</p>

<p>19． 变量通过键盘输入：read命令 例如：read –p “please input:” –t 10 myname
（提示信息-p，等待时间-t，这时可以通过等待10秒用户输入，进行设置变量内容myname）。</p>

<p>20． 声明变量类型：declare/typeset –a(array) –i(integer) –x(export) –r(readonly)
declare –i sum=100+300+50
则sum=450，而不是100+300+50，声明为-i，那么就不是一开始默认的字符串变量类型了，而是整型变量类型。</p>

<p>21． Ulimit ：限制用户对文件系统和程序资源的使用。</p>

<p>22． 命令别名：alias lm=’ls –l| more’，这样，输入lm命令的时候，就有后面的一串命令的作用。可以使用unalias进行取消设置。</p>

<p>23． 历史命令：history，显示之前使用过的命令。 History 4 显示最新的四个命令。</p>

<p>24． 命令的查找顺序：一般的命令运行顺序可以如下1）以相对/绝对路径执行的命令（/bin/ls），最为优先。 2）由alias别名定义后的命令。
3）bash内置的（bulitin）命令。 4）通过PATH变量中顺序查找到的第一个命令执行。 以上为用户输入一个命令，到底优先会执行那个命令的优先顺序。</p>

<p>25． 通配符：*表示0到无穷多个任意字符；？表示有一个任意字符； []表示一定有括号中字符中的任意一个字符； [-]
表示在一个范围中的字符会出现，例如[0-9]表示0-9之中的数字；[^]表示除开中括号以内的字符，可以存在。例如[^a-z]也就是除开小写字母。</p>

<p>26． 数据流重定向 ： 1）标准输入：代码0，使用 catfile&lt;（覆盖）和
&gt;&gt;（追加）输出到文件或者其他中，如果该文件本来不存在，则会被新建，例如：ls&gt;./msg.txt，那么屏幕上就不会出现内容，直接在文件中保存了该内容；
3）标准错误输出：代码2，使用2&gt; （覆盖）和 2&gt;&gt;（追加）进行输出，属性和标准输出类似。</p>

<p>27． Find /home –name.bashrc &gt; list_right
2&gt;&gt;list_err：实现的功能是，将正确的结果内容，覆盖保存到list_right，将错误信息追加保存到list_err中。
如果要将错误和正确信息放到一个文件中，可以使用 &gt; list_right 2&gt;&amp;1 就可以了</p>

<p>28． 黑洞设备：将所有输入的内容全部销毁。/dev/null ，如果不想要错误的输出信息，可以输出到这个设备中。</p>

<p>29． 数据流重定向的重要意义：1）屏幕输出的信息很重要，需要保存下来；2）后台执行中的程序，不希望它的执行内容显示到屏幕上，干扰正常的显示；
3）一些系统的例行命令执行的结果，希望使用文件将其保存下来； 4）命令执行，输出不需要的错误信息，可以使用2&gt;/dev/null将其舍弃；
5）错误信息和正确信息需要分别输出的时候。</p>

<p>30． 连续执行两个命令：cmd;cmd这样的方式，可以连续执行两条命令。</p>

<p>31． Cmd
&amp;&amp;cmd：只有前面的正确执行以后，才能执行后面的；前面的置信错误，就不执行后面的命令了。类似于程序中&amp;&amp;，前面正确，才判断后面的是否正确，要是前面错误，那就直接短路，不用执行后面的了。</p>

<p>32． Cmd || cmd：只有前面的执行错误以后，才执行后面的。只要一个满足正确就可以了。</p>

<p>33． 管道命令： | 管道命令只能执行前一个命令的standard output 而不能接收 standard error output</p>

<p>34． Cut：选取命令，切出信息中的一段。-d：后面接分割字符，根据分割字符，分成数段，与-f一起使用，-f指明取出第几段。
-c：以字符的单位取出固定的字符区间。</p>

<p>35． Cut使用范例：echo $PATH | cut –d ‘:’ –f 3,5 将PATH变量中的第3第5路径取出来。</p>

<p>36． echo $PATH | cut –c 12- 显示信息中的第十二个字符到最后的信息 也可以 12-20个字符</p>

<p>37． Grep：分析一行，如果这行中有我们需要的信息，那么就把这整一行拿出来显示。-c 统计查找到该字符的次数；-i 忽略大小写； -n 顺便显示行号；
-v 反向选择，显示不包含‘查找字符串’的行。</p>

<p>38． Sort：排序命令， cat /etc/passwd | sort –t ‘:’ –k 3 以：为分隔符，去第三块内容作为排序的依据。 -t
分隔符，类似于cut命令的-d参数， -f 忽略大小写，-b 忽略最前面的空格部分，-u 同样的信息只显示一行。</p>

<p>39． Uniq：同样的信息只显示一行。 Last | cut –d ‘ ’ –f 1 | sort |uniq –c
对排序完的用户做同样的用户只显示一次的操作。</p>

<p>40． Wc：知道文件中有多少行，多少字，多少字符。-l 列出行 -w ：列出多少字，例如hello world就是两个字 -m：多少字符，hello
world有11个字符。</p>

<p>41． Tee：可以使得输出的内容，同时存储到文件中，以及屏幕上显示。</p>

<p>42． Tr ：删除信息中的文字或者进行替换。</p>

<p>43．
正则表达式：处理字符串的方法，它是以行为单位来进行字符串的处理行为，正则表达式通过一些特殊符号的辅助，可以让用户轻易达到查找、删除、替换某特定字符串的处理程序。
grep sed awk</p>

<p>44． 语系差别：LANG=C时，0 1 2 3&hellip;&hellip;&hellip;A B C D &hellip;&hellip;a b c d
&hellip;&hellip;.z；而LANG=zh_CN.UTF-8时，0 1 2 3&hellip;&hellip;&hellip;a A b B c C &hellip;&hellip;&hellip;.z
Z。两种语系带来的差别是，要是参数为[A-Z]，那么LANG=C是正确的意思，而zh_CN.UTF-8则会多余的包含了b-
z这几个小写字母，就是因为语系不同。</p>

<p>45． Grep</p>

<p>46． grep –n ‘hello’main.c 查找其中指定的字符串</p>

<p>47． grep –n ‘t[ae]st’regurla.txt 在字符串中查找到test 或者 taste这种单词，匹配不同的单词</p>

<p>48． [^g] 就是不允许在相应位置上有g [^a-z]不允许相应位置上有小写字母 ‘!$’查找！在行尾</p>

<p>49． Grep –n –A2 –B3‘key’ filename 查找到关键字key之后的两行，和关键字之前的三行。 A—after B—before</p>

<p>50． 对行首进行查找：使用^ grep –n ‘^the’ regular.txt，对这个文件中行首为the的行进行查找列出。
亦或者想要行首首字母为小写字母， grep –n ‘<sup class="footnote-ref" id="fnref:a-z"><a href="#fn:a-z">1</a></sup>’ regular.txt，就可以了。</p>

<p>51． 对行尾进行查找：使用$ grep –n ‘\.$’ regular.txt ，对这个文件中末尾使用. 结尾的语句进行列出查找。</p>

<p>52． 将配置文件中的空行和只有#的注释行不显示：grep –v ‘^$’ /etc/syslog.conf | grep –v‘^#’</p>

<p>53． . 表示一定有一个任意字符 ‘g..d’，那么这中间两个字符可以是任意的字符</p>

<p>54． * 表示重复前一个的0到无穷多次的意思。 ‘o*’ 表示有空字符或者一个及以上的o，那么这时候所有的内容都符合，会被全部显示出来；’oo*’
表示第一个o一定存在，后面可以接多个o，也就是 o oo ooo；依次类推往后。</p>

<p>55． 需要列出句子中，前后都有g的：grep –n ‘g.*g’ msg.txt
这里的.表示的就是任意字符，*和.组合就可以实现两个g中间有0个或者多个字符，可以输出 gg gdg gdfg</p>

<p>56． 限制字符个数： ‘o\{2\}’，查找时候，查找出连续的两个o的单词所在的行。</p>

<p>57． 字符个数限制：’go\{2,5\}g’ 查找，两个g中间有2-5个o的情况。</p>

<p>58． Sed</p>

<p>59． nl 列出文件内容，可以显示行号。</p>

<p>60． Sed中的function功能：</p>

<p>61． a：新增</p>

<p>62． c：替换，后接字符串，替换n行内容。</p>

<p>63． d：删除</p>

<p>64． i：插入</p>

<p>65． p：打印</p>

<p>66． s：替换，直接进行替换工作。</p>

<p>67． nl file.txt | sed ‘2,5d’ 显示的时候删除file.txt中的2-5行，’2,$d’删除2到最后行，
d代表删除，实际文件中并没有被删除。</p>

<p>68． nl file.txt | sed ‘2a drink tea’ 在第二行后面，也就是新增的第三行上加上drink tea
（需要添加两行的时候，使用‘2a drink tea \ 回车 drink beer’回车）</p>

<p>69． nl file.txt | sed ‘2,5c This is 2-5’ 将第二到第五行替换成字符串This is 2-5</p>

<p>70． Sed –n ‘5,7p’ 表示将5到7行打印出来。</p>

<p>71． Sed ‘s/要被替换的字符串/新的字符串/g’ 替换方式。 ‘s/#.*$//g’ 将#后面的所有的内容删除。</p>

<p>72． Printf</p>

<p>73． Printf ‘%s %t %s%t %s%t’ $(cat config.txt) 格式化打印文件内容。</p>

<p>74． Date</p>

<p>75． Date命令时获得系统中的时间，在shell中使用该命令即可。</p>

<p>76． date &ndash;date=’2 days ago’ +%Y%m%d ，这样就可以获得前天的时间，这里的’2 days ago’
不是瞎写的，在date命令中有简要的介绍， 在&ndash;date=紧跟字符串。</p>

<p>77． 简要的可以 date +%Y%m%d 获得日期。</p>

<p>78． 其余的使用方式可以在Linux下查询命令获得。</p>

<p>79． awk适用于一行分成多个段，进行处理</p>

<p>80． Last –n 5 | awk ‘{print $1 “\t” $3}’ 大括号里面输入命令，做相应操作。$1表示第一列，$3表示第三列。</p>

<p>81． 变量名：NF：每一行拥有的字段总数； NR：目前awk所处理的是第几行数据；FS：目前的分隔字符，默认是空格键。 例如：‘{print $1 NR
“\t” $3 NF}’</p>

<p>82． Diff文件比较命令</p>

<p>83． diff –b (忽略多个空格的区别) -B(忽略空行的区别) –i(忽略大小写的问题)</p>

<p>84． diff oldFile.c newFile.c &gt; password.patch 将区别输出成补丁文件</p>

<p>85． patch –pN &lt; path_file 取消N层的目录</p>

<p>86． path –R –pN &lt; path_file 还原成原来的版本</p>

<p>87． ShellScript</p>

<p>88． Shell 脚本是纯文本文档，第一行的#!/bin/bash 用于声明，这个文件内的语法使用bash的语法。 其余的#都是注释。</p>

<p>89． *********************************************************************</p>

<p>90． 使用touch命令，在shell脚本下创建文件：</p>

<p>91． #!/bin/bash</p>

<p>92． #Program:</p>

<p>93． # createthree file, differ from the date in the filename</p>

<p>94． #2016/11/23</p>

<p>95． #</p>

<p>96． PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</p>

<p>97． export PATH</p>

<p>98．</p>

<p>99． #the info before create the file</p>

<p>100． echo -e &ldquo;I will create threefile!&rdquo;</p>

<p>101． read -p &ldquo;Please input the filename:&rdquo; fileuser</p>

<p>102．</p>

<p>103． #get the right name of file</p>

<p>104． filename=${fileuser:-&ldquo;filename&rdquo;}</p>

<p>105．</p>

<p>106． #use the date cmd to get filename</p>

<p>107． date1=$(date &ndash;date=&lsquo;2 days ago&rsquo; +%Y%m%d)</p>

<p>108． date2=$(date &ndash;date=&lsquo;1 days ago&rsquo; +%Y%m%d)</p>

<p>109． date3=$(date +%Y%m%d)</p>

<p>110． file1=${filename}${date1}</p>

<p>111． file2=${filename}${date2}</p>

<p>112． file3=${filename}${date3}</p>

<p>113．</p>

<p>114． #create the file</p>

<p>115． touch &ldquo;$file1&rdquo;</p>

<p>116． touch &ldquo;$file2&rdquo;</p>

<p>117． touch &ldquo;$file3&rdquo;</p>

<p>118． ****************************************************************</p>

<p>119． 简单的两个数的相乘shell 脚本：</p>

<p>120． #cross two number</p>

<p>121． PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</p>

<p>122． export PATH</p>

<p>123．</p>

<p>124． echo -e &ldquo;Input two number!&rdquo;</p>

<p>125． read -p &ldquo;First number:&rdquo; firstNum</p>

<p>126． read -p &ldquo;Second number:&rdquo; secondNum</p>

<p>127．</p>

<p>128． #$((content)) can calculate numbers</p>

<p>129． total=$(($firstNum*$secondNum))</p>

<p>130． echo -e &ldquo;The $firstNum * $secondNum is ==&gt; $total&rdquo;</p>

<p>131． 注：$((运算内容))，可以进行数值变量的计算工作。</p>

<p>132． ******************************************************************</p>

<p>133． Shell脚本的执行方式：</p>

<p>134． 1）sh shscript.sh 或者bash
shscript.sh：这样执行的脚本是在子进程中，运行结果也并不返回到父进程中。例如在此脚本中设置了PATH为其他内容，在脚本执行完毕以后，PATH还是原先的值。</p>

<p>135． 2)source shscript.sh 或者 ./shscript.sh：这样执行的脚本是在父进程中，运行结果会影响到当前父进程中的变量。</p>

<p>136． 条件判断命令test</p>

<p>137． Test –e /dmtasi &amp;&amp; echo “exist” || echo “No exist” 测试这个文件是否存在，使用判断表达式</p>

<p>138． -a参数，表示两个测试条件均成立</p>

<p>139． -o参数，表示两个测试条件中任意一个成立即可</p>

<p>140． ！参数，表示反向状态，取反的意思，!true-&gt;false</p>

<p>141． #!/bin/bash</p>

<p>142． #Program:</p>

<p>143． # if the name is the name offile, print &ldquo;this is a file&rdquo;</p>

<p>144． # if the name is the name of adirectory, print &ldquo;this is a directory&rdquo;</p>

<p>145． # eles print &ldquo;Noexist&rdquo;</p>

<p>146． # test the permissions of thefilename</p>

<p>147．</p>

<p>148． PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</p>

<p>149． export PATH</p>

<p>150．</p>

<p>151． read -p &ldquo;input the filename:&rdquo; filename</p>

<p>152． #error input,if the filename is empty</p>

<p>153． test -z $filename &amp;&amp; echo &ldquo;You must input a filename&rdquo;&amp;&amp; exit 0</p>

<p>154．</p>

<p>155． #test the name is exist, if it is exist, -e return 0</p>

<p>156． test ! -e $filename &amp;&amp; echo &ldquo;The file &lsquo;$filename&rsquo; is notexist&rdquo; &amp;&amp; exit 0</p>

<p>157． #test the file</p>

<p>158． test -f $filename &amp;&amp; filetype=&ldquo;regular file&rdquo;</p>

<p>159． test -d $filename &amp;&amp; filetype=&ldquo;diectory&rdquo;</p>

<p>160． test -r $filename &amp;&amp; perm=&ldquo;readable&rdquo;</p>

<p>161． test -w $filename &amp;&amp; perm=&ldquo;$perm writeable&rdquo;</p>

<p>162． test -x $filename &amp;&amp; perm=&ldquo;$perm executable&rdquo;</p>

<p>163． #output the result</p>

<p>164． echo &ldquo;The file: &lsquo;$filename&rsquo; is &lsquo;$filetype&rsquo;&rdquo;</p>

<p>165． echo &ldquo;The permissions are: $perm&rdquo;</p>

<p>166．
注意：test搭配了相关参数以后，执行成功以后，返回true；失败以后返回false。然而！这些test命令执行成功以后，$?(执行指令后的返回码)，却是0。</p>

<p>167．</p>

<p>168． []  ：判断符号</p>

<p>169． [ -z “$PATH” ]; echo $? 测试PATH内容是否为空，参数仿照test命令的</p>

<p>170． 注意：1）中括号中的两边需要有空格隔开，不然会出错；</p>

<p>171． 2）中括号以内的每个组件需要用空格分隔；</p>

<p>172． 3）中括号内的变量最好用双引号括起来；</p>

<p>173． 4）中括号中的常量以单或双引号括起来。</p>

<p>174． [ “$name” == “Zhang” ] 对于变量的判断。</p>

<p>175．</p>

<p>176． Shell script的默认变量（$0 $1&hellip;.）</p>

<p>177． /scriptname.sh opt1 opt2&hellip;. 这里的/scriptname.sh代表的是$0
，后面的参数依次是$1,$2，可以在脚本中直接使用。</p>

<p>178． $#：代表后面接的参数的个数</p>

<p>179． $@：表示所有的参数，可以用这个直接列出$1 $2&hellip;..</p>

<p>180． Shift：写在脚本中，如shift 则拿走前面一个参数。Shift 3则拿走前面三个参数。</p>

<p>181．</p>

<p>182． 条件判断式if &hellip;;then&hellip;. elif&hellip; ;then… elif…then… else….then fi</p>

<p>183． #!/bin/bash</p>

<p>184． #Program:</p>

<p>185． # test the if then elif</p>

<p>186． #2016/11/24</p>

<p>187． #</p>

<p>188．</p>

<p>189． PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</p>

<p>190． export PATH</p>

<p>191． #input a cmd</p>

<p>192． read -p &ldquo;Yes or No?(y/n)&rdquo; yn</p>

<p>193． #test the cmd</p>

<p>194． if [ &ldquo;$yn&rdquo; == &ldquo;Y&rdquo; ] || [ &ldquo;$yn&rdquo; ==&ldquo;y&rdquo; ]; then
#此句中，if后需要空格，中括号内两边需要空格，分号之后需要空格，总之要多加空格。</p>

<p>195． echo &ldquo;Okcontinue!&rdquo;</p>

<p>196． elif [ &ldquo;$yn&rdquo; == &ldquo;N&rdquo; ] || [ &ldquo;$yn&rdquo; ==&ldquo;n&rdquo; ]; then</p>

<p>197． echo&rdquo;interrupt!&rdquo;</p>

<p>198． else</p>

<p>199． echo &ldquo;I don&rsquo;t know whatyour choice is!&rdquo;</p>

<p>200． fi</p>

<p>201． Case&hellip;in&hellip;esac状态判断</p>

<p>202． #!/bin/bash</p>

<p>203． #Program:</p>

<p>204． # test thecase_in_esac</p>

<p>205． #2016/11/24</p>

<p>206． #</p>

<p>207． PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</p>

<p>208． export PATH</p>

<p>209． case $1 in #第一个参数，是什么</p>

<p>210． &ldquo;hello&rdquo;)#input a hello</p>

<p>211． echo &ldquo;Hello, how areyou?&rdquo;</p>

<p>212． ;; #必须以此结尾</p>

<p>213． &ldquo;&rdquo;) #empty</p>

<p>214． echo&rdquo;You must input parameters!&rdquo;</p>

<p>215． ;;</p>

<p>216． *) #other condition</p>

<p>217． echo&rdquo;Usage $0 {hello}&rdquo;</p>

<p>218． ;;</p>

<p>219． esac #结尾符号</p>

<p>220． Function功能函数</p>

<p>221． Function的功能类似于函数，也可以接受参数，例子如下</p>

<p>222． #!/bin/bash</p>

<p>223． #Program:</p>

<p>224． # test the function in theshell script. It will output what you input</p>

<p>225．</p>

<p>226． PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</p>

<p>227． export PATH</p>

<p>228．</p>

<p>229． function printit(){</p>

<p>230． echo &ldquo;Your choise is $1&rdquo;</p>

<p>231． }</p>

<p>232．</p>

<p>233． echo &ldquo;The program will print your selection!&rdquo;</p>

<p>234．</p>

<p>235． case $1 in</p>

<p>236． &ldquo;one&rdquo;)</p>

<p>237． printit 1 #这里的1，就是作为这个函数的参数，在这个函数体中，我们可以使用$1，来获得这个1参数。</p>

<p>238． ;;</p>

<p>239． &ldquo;two&rdquo;)</p>

<p>240． printit 2</p>

<p>241． ;;</p>

<p>242． &ldquo;three&rdquo;)</p>

<p>243． printit 3</p>

<p>244． ;;</p>

<p>245． *)</p>

<p>246． echo&rdquo;Usage $0(one|two|three)&rdquo;</p>

<p>247． ;;</p>

<p>248． esac</p>

<p>249． 循环（loop）</p>

<p>250． While do done （不定循环）</p>

<p>251． #!/bin/bash</p>

<p>252． #Program:</p>

<p>253． # exist until the user inputyes</p>

<p>254．</p>

<p>255． PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</p>

<p>256． export PATH</p>

<p>257．</p>

<p>258． while [ &ldquo;$yn&rdquo; != &ldquo;yes&rdquo; -a &ldquo;$yn&rdquo; !=&ldquo;YES&rdquo; ]</p>

<p>259． do</p>

<p>260． read -p &ldquo;Please inputyes/YES to stop the while&hellip;&rdquo; yn</p>

<p>261． done</p>

<p>262． echo &ldquo;Ok! you have input the right content!&rdquo;</p>

<p>263． until do done（其中的判断条件是，当条件成立的时候，就终止循环，和while结构相反）</p>

<p>264． 范式：</p>

<p>265． until [ condition ]</p>

<p>266． do</p>

<p>267． 程序内容</p>

<p>268． done</p>

<p>269． For…do…done（固定循环）</p>

<p>270． #!/bin/bash</p>

<p>271． #Program:</p>

<p>272． # test the for</p>

<p>273．</p>

<p>274． PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin</p>

<p>275． export PATH</p>

<p>276．</p>

<p>277． #output three animal</p>

<p>278． for animal in dog cat elephant #以不同的变量，填入animal中</p>

<p>279． do</p>

<p>280． #echo &ldquo;There are$(animal)s&hellip;&rdquo;</p>

<p>281． echo &ldquo;there are$animal&rdquo;</p>

<p>282． done</p>

<p>283．</p>

<p>284． #output all the username</p>

<p>285． users=$(cut -d &lsquo;:&rsquo; -f1 /etc/passwd) #get the name</p>

<p>286． for username in $users</p>

<p>287． do</p>

<p>288． id $username</p>

<p>289． finger $username</p>

<p>290． Done</p>

<p>291． 使用for，对于数值的控制</p>

<p>292． 简写：</p>

<p>293． s=0</p>

<p>294． For( ( i=1; i&lt;=$nu; i=i+1) )</p>

<p>295． Do</p>

<p>296． S=$(($s+$i))</p>

<p>297． Done</p>

<p>298． Sh的命令参数，可以用于调试脚本</p>

<p>299． Sh –n ….sh 仅仅检查语法错误</p>

<p>300． Sh –v 在执行前，先将script内容显示到屏幕上</p>

<p>301． Sh –x 将使用到的script 内容显示到屏幕上。用于调试很有用</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:a-z">a-z <a class="footnote-return" href="#fnref:a-z"><sup>[return]</sup></a></li>
</ol>
</div>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>