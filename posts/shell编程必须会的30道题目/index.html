<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>shell编程必须会的30道题目 | 开发者问答集锦</title>
    <meta property="og:title" content="shell编程必须会的30道题目 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="shell编程必须会的30道题目">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/shell%E7%BC%96%E7%A8%8B%E5%BF%85%E9%A1%BB%E4%BC%9A%E7%9A%8430%E9%81%93%E9%A2%98%E7%9B%AE/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">shell编程必须会的30道题目</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h2 id="linux运维人员必会的30道shell编程面试题">linux运维人员必会的30道shell编程面试题</h2>

<h1 id="一-序言">一、序言</h1>

<p>前几天一个做开发的朋友发给我一个链接，<a href="http://oldboy.blog.51cto.com/2561410/1632876?from=singlemessage&amp;isappinstalled=0">http://oldboy.blog.51cto.com/2561410/1632876?from=singlemessage&amp;isappinstalled=0</a></p>

<p>是老男孩出的企业面试题培训叫做：合格linux运维人员必会的30道shell编程面试题及讲解，于是乎，，我打算每个都自己写一遍，，</p>

<p>PS：我是不是闲的蛋疼！！！</p>

<h1 id="二-开撸">二、开撸</h1>

<p>企业面试题1：（生产实战案例）：监控MySQL主从同步是否异常，如果异常，则发送短信或者邮件给管理员。提示：如果没主从同步环境,可以用下面文本放到文件里读取来模拟：<br />
阶段1：开发一个守护进程脚本每30秒实现检测一次。<br />
阶段2：如果同步出现如下错误号（1158,1159,1008,1007,1062），则跳过错误。<br />
阶段3：请使用数组技术实现上述脚本（获取主从判断及错误号部分）</p>

<p>##这个还没写，，因为还要搞mysql主从复制的环境，，写把下面简单的撸了先。 。</p>

<p>企业面试题2：<br />
使用for循环在/oldboy目录下通过随机小写10个字母加固定字符串oldboy批量创建10个html文件，名称例如为：</p>

<p>[python] view plain  copy</p>

<ol>
<li>[root@oldboy oldboy]# sh /server/scripts/oldboy.sh</li>
<li>[root@oldboy oldboy]# ls</li>
<li>coaolvajcq_oldboy.html qnvuxvicni_oldboy.html vioesjmcbu_oldboy.html</li>
<li>gmkhrancxh_oldboy.html tmdjormaxr_oldboy.html wzewnojiwe_oldboy.html</li>
<li>jdxexendbe_oldboy.html ugaywanjlm_oldboy.html xzzruhdzda_oldboy.html</li>
<li>qcawgsrtkp_oldboy.html vfrphtqjpc_oldboy.html

<br /></li>
</ol>

<p>############我的脚本2############################################</p>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# vim 2.sh</li>
<li>#!/bin/bash</li>
<li>4. WORK_DIR=/oldboy/</li>
<li>6. create(){</li>
<li>8. i=1</li>
<li>while (($i&lt;11))</li>
<li>do</li>
<li>cd $WORK_DIR &amp;&amp; touch <code>tr -dc &quot;a-z&quot;10</code>_oldboy.html</li>
<li>i=$(($i+1))</li>
<li>done</li>
<li>}</li>
<li>16. check(){</li>
<li>if [ -d $WORK_DIR ];</li>
<li>then</li>
<li>create</li>
<li>else</li>
<li>mkdir $WORK_DIR</li>
<li>create</li>
<li>fi</li>
<li>}</li>
<li>26. check</li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./2.sh</li>
<li>3. [root@cjy linux-20]# ls /oldboy/</li>
<li>daijyyadst_oldboy.html mjmcfvvjcq_oldboy.html qmgbrihbco_oldboy.html yrxovjbwlv_oldboy.html</li>
<li>djfhdphvqf_oldboy.html mohijpfehs_oldboy.html xdtspqouln_oldboy.html</li>
<li>gjczumsnfy_oldboy.html nfwzssqtus_oldboy.html yhqruiiota_oldboy.htm

<br />
<br /></li>
</ol>

<p>企业面试题3：请用至少两种方法实现！<br />
将以上文件名中的oldboy全部改成oldgirl(用for循环实现),并且html改成大写。</p>

<p>############我的脚本3_1############################################</p>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# vim 3_1.sh</li>
<li>#!/bin/bash</li>
<li>4. change_name(){</li>
<li>DIR=/oldboy</li>
<li>FILE=<code>ls /oldboy</code></li>
<li>GIRL=_oldgirl.HTML</li>
<li>9. for i in $FILE</li>
<li>do</li>
<li>c=<code>echo $i | cut -c 1-10</code></li>
<li>mv $DIR/$c* $DIR/$c$GIRL</li>
<li>done</li>
<li>}</li>
<li>16. change_name</li>
</ol>

<p>############我的脚本3_2############################################</p>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# vim 3_2.sh</li>
<li>#!/bin/bash</li>
<li>4. change_name(){</li>
<li>DIR=/oldboy</li>
<li>FILE=<code>ls /oldboy</code></li>
<li>GIRL=_oldgirl.HTML</li>
<li>9. for i in $FILE</li>
<li>do</li>
<li>c=<code>echo $i | awk -F '_' '{print $1}'</code></li>
<li>mv $DIR/$c* $DIR/$c$GIRL</li>
<li>done</li>
<li>}</li>
<li>16. change_name

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./3_1.sh</li>
<li>[root@cjy linux-20]# ls /oldboy/</li>
<li>daijyyadst_oldgirl.HTML mjmcfvvjcq_oldgirl.HTML qmgbrihbco_oldgirl.HTML yrxovjbwlv_oldgirl.HTML</li>
<li>djfhdphvqf_oldgirl.HTML mohijpfehs_oldgirl.HTML xdtspqouln_oldgirl.HTML</li>
<li>gjczumsnfy_oldgirl.HTML nfwzssqtus_oldgirl.HTML yhqruiiota_oldgirl.HTML

<br /></li>
</ol>

<p>企业面试题4：<br />
批量创建10个系统帐号oldboy01-oldboy10并设置密码（密码为随机8位字符串）。</p>

<p>############我的脚本4############################################</p>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# vim 4.sh</li>
<li>#!/bin/bash</li>
<li>4. USER=oldboy</li>
<li>create_user(){</li>
<li>7. for i in {01..10}</li>
<li>do</li>
<li>RPASSWD=$(tr -dc [:alpha:] 8)</li>
<li>useradd $USER$i</li>
<li>echo $RPASSWD|passwd $USER$i &ndash;stdin</li>
<li>echo $USER$i&mdash;-$RPASSWD &gt;&gt; /oldboy/userpasswd.txt</li>
<li>done</li>
<li>}</li>
<li>16. del_user(){</li>
<li>18. for j in {01..10}</li>
<li>do</li>
<li>userdel $USER$j</li>
<li>rm -rf /home/$USER$j</li>
<li>done</li>
<li>}</li>
<li>25. case $1 in</li>
<li>create)</li>
<li>create_user</li>
<li>;;</li>
<li>del)</li>
<li>del_user</li>
<li>;;</li>
<li>*)</li>
<li>echo &ldquo;Usage:Please use $0 create or $0 del.&rdquo;</li>
<li>echo &ldquo;####################################&rdquo;</li>
<li>echo &ldquo;create: create user $USER 01-10 and give it random passwd.&rdquo;</li>
<li>echo &ldquo;del: delete $USER 01-10 and /home/$USER 01-10 directory. &ldquo;</li>
<li>;;</li>
<li>esac

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./4.sh</li>
<li>Usage:Please use ./4.sh create or ./4.sh del.</li>
<li>####################################</li>
<li>create: create user oldboy 01-10 and give it random passwd.</li>
<li>del: delete oldboy 01-10 and /home/oldboy 01-10 directory.</li>
<li>7. [root@cjy linux-20]# ./4.sh create</li>
<li>正在创建信箱文件: 文件已存在</li>
<li>更改用户 oldboy01 的密码 。</li>
<li>passwd： 所有的身份验证令牌已经成功更新。</li>
<li>正在创建信箱文件: 文件已存在</li>
<li>更改用户 oldboy02 的密码 。</li>
<li>passwd： 所有的身份验证令牌已经成功更新。</li>
<li>正在创建信箱文件: 文件已存在</li>
<li>更改用户 oldboy03 的密码 。</li>
<li>passwd： 所有的身份验证令牌已经成功更新。</li>
<li>正在创建信箱文件: 文件已存在</li>
<li>更改用户 oldboy04 的密码 。</li>
<li>passwd： 所有的身份验证令牌已经成功更新。</li>
<li>正在创建信箱文件: 文件已存在</li>
<li>更改用户 oldboy05 的密码 。</li>
<li>passwd： 所有的身份验证令牌已经成功更新。</li>
<li>正在创建信箱文件: 文件已存在</li>
<li>更改用户 oldboy06 的密码 。</li>
<li>passwd： 所有的身份验证令牌已经成功更新。</li>
<li>正在创建信箱文件: 文件已存在</li>
<li>更改用户 oldboy07 的密码 。</li>
<li>passwd： 所有的身份验证令牌已经成功更新。</li>
<li>正在创建信箱文件: 文件已存在</li>
<li>更改用户 oldboy08 的密码 。</li>
<li>passwd： 所有的身份验证令牌已经成功更新。</li>
<li>正在创建信箱文件: 文件已存在</li>
<li>更改用户 oldboy09 的密码 。</li>
<li>passwd： 所有的身份验证令牌已经成功更新。</li>
<li>正在创建信箱文件: 文件已存在</li>
<li>更改用户 oldboy10 的密码 。</li>
<li>passwd： 所有的身份验证令牌已经成功更新。</li>
<li>39. [root@cjy linux-20]# vim /etc/passwd</li>
<li>oldboy01:x:503:503::/home/oldboy01:/bin/bash</li>
<li>oldboy02:x:504:504::/home/oldboy02:/bin/bash</li>
<li>oldboy03:x:505:505::/home/oldboy03:/bin/bash</li>
<li>oldboy04:x:506:506::/home/oldboy04:/bin/bash</li>
<li>oldboy05:x:507:507::/home/oldboy05:/bin/bash</li>
<li>oldboy06:x:508:508::/home/oldboy06:/bin/bash</li>
<li>oldboy07:x:509:509::/home/oldboy07:/bin/bash</li>
<li>oldboy08:x:510:510::/home/oldboy08:/bin/bash</li>
<li>oldboy09:x:511:511::/home/oldboy09:/bin/bash</li>
<li>oldboy10:x:512:512::/home/oldboy10:/bin/bash</li>
<li>51. [root@cjy linux-20]# ./4.sh del #删除用户

<br /></li>
</ol>

<p>企业面试题5：<br />
写一个脚本，实现判断10.0.0.0/24网络里，当前在线用户的IP有哪些（方法有很多）</p>

<p>############我的脚本5############################################</p>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# vim 5.sh</li>
<li>#!/bin/bash</li>
<li>4. tmp_fifofile=/tmp/$$.fifo</li>
<li>mkfifo $tmp_fifofile</li>
<li>exec 6&lt;&gt; $tmp_fifofile</li>
<li>rm -rf $tmp_fifofile</li>
<li>9. thread=254</li>
<li>for ((i=0;i</li>
<li>do</li>
<li>echo &gt;&amp;6</li>
<li>done</li>
<li>15. for ((i=2;i&lt;255;i++))</li>
<li>do</li>
<li>read -u6</li>
<li>{</li>
<li>ip=172.16.27.</li>
<li>ping $ip$i -c 1 &gt;/dev/null &amp;&amp; echo $ip$i:live || echo $ip$i:dead &gt;&gt;123</li>
<li>echo &gt;&amp;6</li>
<li>}&amp;</li>
<li>done</li>
<li>wait</li>
<li>exec 6&gt;&amp;-</li>
<li>27. exit 0

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./5.sh &amp;</li>
<li>[1] 22668</li>
<li>[root@cjy linux-20]# 172.16.27.11:live</li>
<li>172.16.27.23:live</li>
<li>172.16.27.25:live</li>
<li>172.16.27.27:live</li>
<li>172.16.27.28:live</li>
<li>172.16.27.24:live</li>
<li>172.16.27.26:live</li>
<li>172.16.27.21:live</li>
<li>172.16.27.31:live</li>
<li>172.16.27.30:live</li>
<li>172.16.27.37:live</li>
<li>172.16.27.54:live</li>
<li>172.16.27.61:live</li>
<li>172.16.27.80:live</li>
<li>172.16.27.254:live

<br /></li>
</ol>

<p>企业实战题6：请用至少两种方法实现！<br />
写一个脚本解决DOS攻击生产案例<br />
提示：根据web日志或者或者网络连接数，监控当某个IP并发连接数或者短时内PV达到100，即调用防火墙命令封掉对应的IP，监控频率每隔3分钟。防火墙命令为：iptables
-I INPUT -s 10.0.1.10 -j DROP。</p>

<p>企业实战题7：<br />
开发mysql多实例启动脚本：<br />
已知mysql多实例启动命令为：mysqld_safe&ndash;defaults-file=/data/3306/my.cnf &amp;<br />
停止命令为：mysqladmin -u root -poldboy123 -S /data/3306/mysql.sockshutdown<br />
请完成mysql多实例启动启动脚本的编写<br />
要求：用函数，case语句、if语句等实现。</p>

<p>企业实战题8:如何实现对MySQL数据库进行分库备份，请用脚本实现</p>

<p>企业实战题9:如何实现对MySQL数据库进行分库加分表备份，请用脚本实现</p>

<p>企业面试题10：请用至少两种方法实现！<br />
bash for循环打印下面这句话中字母数不大于6的单词(昆仑万维面试题)。<br />
I am oldboy teacher welcome to oldboy training class.</p>

<p>[python] view plain  copy</p>

<ol>
<li>#!/bin/bash</li>
<li>3.   4. echo &lsquo;###Usage1#####&rsquo;</li>
<li>a=&lsquo;I am oldboy teacher welcome to oldboy training class.&rsquo;</li>
<li>7. for i in $a</li>
<li>do</li>
<li>NUM=<code>echo $i |wc -L</code></li>
<li>if [ $NUM -le 6 ];then</li>
<li>echo $i</li>
<li>fi</li>
<li>done</li>
<li>15.   16. echo &lsquo;###Usage2######&rsquo;</li>
<li>18. for i in $a</li>
<li>do</li>
<li>if [ ${#i} -le 6 ];then</li>
<li>echo $i</li>
<li>fi</li>
<li>done

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>###Usage1#####</li>
<li>I</li>
<li>am</li>
<li>oldboy</li>
<li>to</li>
<li>oldboy</li>
<li>class.</li>
<li>###Usage2######</li>
<li>I</li>
<li>am</li>
<li>oldboy</li>
<li>to</li>
<li>oldboy</li>
<li>class.</li>
</ol>

<p>企业面试题11：开发shell脚本分别实现以脚本传参以及read读入的方式比较2个整数大小。以屏幕输出的方式提醒用户比较结果。注意：一共是开发2个脚本。当用脚本传参以及read读入的方式需要对变量是否为数字、并且传参个数做判断。</p>

<p>企业面试题12：打印选择菜单，一键安装Web服务：</p>

<p>[root@oldboyscripts]# sh menu.sh</p>

<p>1.[install lamp]</p>

<p>2.[install lnmp]</p>

<p>3.[exit]</p>

<p>pls input the num you want:</p>

<p>要求：</p>

<p>1、当用户输入1时，输出“startinstalling lamp.”然后执行/server/scripts/lamp.sh，脚本内容输出&rdquo;lampis
installed&rdquo;后退出脚本；</p>

<p>2、当用户输入2时，输出“startinstalling lnmp.”然后执行/server/scripts/lnmp.sh输出&rdquo;lnmpis
installed&rdquo;后退出脚本;</p>

<p>3、当输入3时，退出当前菜单及脚本；</p>

<p>4、当输入任何其它字符，给出提示“Input error”后退出脚本。</p>

<p>5、要对执行的脚本进行相关条件判断，例如：脚本是否存在，是否可执行等。</p>

<p>[python] view plain  copy</p>

<ol>
<li>#!/bin/bash</li>
<li>3. echo &ldquo;1.[install lamp]&rdquo;</li>
<li>echo &ldquo;2.[install lnmp]&rdquo;</li>
<li>echo &ldquo;3.[exit]&rdquo;</li>
<li>7. read -t 30 -p &ldquo;Please input tut the num you want:&rdquo; a</li>
<li>9. case $a in</li>
<li>1)</li>
<li>if</li>
<li>[ -f lamp.sh ];then</li>
<li>./lamp.sh</li>
<li>sleep 3</li>
<li>echo &ldquo;lamp is installed!&rdquo;</li>
<li>else</li>
<li>echo &ldquo;no lamp.sh!&rdquo;</li>
<li>fi</li>
<li>;;</li>
<li>21. 2)</li>
<li>if</li>
<li>[ -f lnmp.sh ];then</li>
<li>./lnmp.sh</li>
<li>sleep 3</li>
<li>echo &ldquo;lnmp is installed!&rdquo;</li>
<li>else</li>
<li>echo &ldquo;no lnmp.sh!&rdquo;</li>
<li>fi</li>
<li>;;</li>
<li>32. 3)</li>
<li>exit 0</li>
<li>;;</li>
<li>36. *)</li>
<li>echo &ldquo;Input error&rdquo;</li>
<li>exit 0</li>
<li>esac

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./12.sh</li>
<li>1.[install lamp]</li>
<li>2.[install lnmp]</li>
<li>3.[exit]</li>
<li>Please input tut the num you want:1</li>
<li>no lamp.sh!

<br /></li>
</ol>

<p>企业面试题13：</p>

<p>1、监控web服务是否正常，不低于3种监控策略。</p>

<p>2、监控db服务是否正常，不低于3种监控策略。<br />
要求间隔1分钟，持续监控。</p>

<p>企业面试题14：监控memcache服务是否正常，模拟用户（web客户端）检测。</p>

<p>使用nc命令加上set/get来模拟检测，以及监控响应时间及命中率。</p>

<p>企业面试题15：面试及实战考试题：监控web站点目录（/var/html/www）下所有文件是否被恶意篡改（文件内容被改了），如果有就打印改动的文件名（发邮件），定时任务每3分钟执行一次(10分钟时间完成)。</p>

<p>企业面试题16：企业案例:写网络服务独立进程模式下rsync的系统启动脚本</p>

<p>例如：/etc/init.d/rsyncd{start|stop|restart} 。<br />
要求：<br />
1.要使用系统函数库技巧。<br />
2.要用函数，不能一坨SHI的方式。<br />
3.可被chkconfig管理。</p>

<p>企业面试题17：老男孩教育天津项目学生实践抓阄题目：</p>

<p>好消息，老男孩培训学生外出企业项目实践机会（第6次）来了（本月中旬），但是，名额有限，队员限3人（班长带队）。</p>

<p>因此需要挑选学生，因此需要一个抓阄的程序：</p>

<p>要求：</p>

<p>1、执行脚本后，想去的同学输入英文名字全拼，产生随机数01-99之间的数字，数字越大就去参加项目实践，前面已经抓到的数字，下次不能在出现相同数字。</p>

<p>2、第一个输入名字后，屏幕输出信息，并将名字和数字记录到文件里，程序不能退出继续等待别的学生输入。</p>

<p>企业面试题18：老男孩linux企业面试题：</p>

<p>已知下面的字符串是通过RANDOM随机数变量md5sum|cut-c 1-8截取后的结果，请破解这些字符串对应的md5sum前的RANDOM对应数字？</p>

<p>21029299</p>

<p>00205d1c</p>

<p>a3da1677</p>

<p>1f6d12dd</p>

<p>890684b</p>

<p>企业面试题19：批量检查多个网站地址是否正常</p>

<p>要求：shell数组方法实现，检测策略尽量模拟用户访问思路</p>

<p><a href="http://www.etiantian.org">http://www.etiantian.org</a></p>

<p><a href="http://www.taobao.com">http://www.taobao.com</a></p>

<p><a href="http://oldboy.blog.51cto.com">http://oldboy.blog.51cto.com</a></p>

<p><a href="http://10.0.0.7">http://10.0.0.7</a></p>

<p>企业面试题20(中企动力)：：用shell处理以下内容</p>

<p>1、按单词出现频率降序排序！</p>

<p>2、按字母出现频率降序排序！</p>

<p>the squid project provides a number of resources toassist users
design,implement and support squid installations. Please browsethe
documentation and support sections for more infomation</p>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# cat test</li>
<li>the squid project provides a number of resources toassist users design，implement and support squid installations.Please browsethe</li>
<li>documentation and support sections for more infomation</li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# cat 20_1.sh</li>
<li>#!/bin/bash</li>
<li>4. sed -i &rsquo;s/\,|\./ /g&rsquo; test</li>
<li>6. for i in <code>cat test</code></li>
<li>do</li>
<li>echo $i</li>
<li>done</li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./20_1.sh |sort|uniq -c |sort -r</li>
<li>2 support</li>
<li>2 squid</li>
<li>2 and</li>
<li>1 users</li>
<li>1 toassist</li>
<li>1 the</li>
<li>1 sections</li>
<li>1 resources</li>
<li>1 provides</li>
<li>1 project</li>
<li>1 Please</li>
<li>1 of</li>
<li>1 number</li>
<li>1 more</li>
<li>1 installations</li>
<li>1 infomation</li>
<li>1 implement</li>
<li>1 for</li>
<li>1 documentation</li>
<li>1 design</li>
<li>1 browsethe</li>
<li>1 a

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# cat 20_2.sh</li>
<li>#!/bin/bash</li>
<li>4. sed -i &rsquo;s/\,|\./ /g&rsquo; test</li>
<li>6. for i in <code>cat test</code></li>
<li>do</li>
<li>for j in <code>echo $i</code></li>
<li>do</li>
<li>echo $j | awk -F &ldquo; &lsquo;{for(i=1;i&lt;=NF;i++)print $i}&rsquo;</li>
<li>done</li>
<li>done</li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./20_2.sh |sort |uniq -c|sort -nr</li>
<li>19 s</li>
<li>17 e</li>
<li>16 o</li>
<li>14 t</li>
<li>12 n</li>
<li>12 i</li>
<li>11 r</li>
<li>9 a</li>
<li>8 u</li>
<li>7 p</li>
<li>7 d</li>
<li>6 m</li>
<li>4 l</li>
<li>4 c</li>
<li>3 f</li>
<li>2 q</li>
<li>2 h</li>
<li>2 b</li>
<li>1 w</li>
<li>1 v</li>
<li>1 P</li>
<li>1 j</li>
<li>1 g

<br />
<br /></li>
</ol>

<p>企业面试题21:输出正方形、等腰三角形、直角梯形，见如下内容</p>

<p><a href="http://oldboy.blog.51cto.com/2561410/1718607">http://oldboy.blog.51cto.com/2561410/1718607</a></p>

<p>企业面试题22:开发通过web界面展示监控Nginx代理节点状态，效果图如下。</p>

<p>lvs+keepalived集群部分Shell企业案例：</p>

<p>企业面试题23、【LVS主节点】手工开发ipvsadm管理lvs的脚本ip_vs</p>

<p>实现：/etc/init.d/lvs {start|stop|restart}</p>

<p>企业面试题24、【LVS主节点】模拟keepalived健康检查功能管理LVS节点，</p>

<p>当节点挂掉（检测2次，间隔2秒）从服务器池中剔除，好了（检测2次，间隔2秒）加进来</p>

<p>提示：利用ipvsadm命令实现添加和减少LVS节点。</p>

<p>企业面试题25、【LVS客户端节点】开发LVS客户端设置VIP以及抑制ARP的管理脚本</p>

<p>实现：/etc/init.d/lvsclient {start|stop|restart}</p>

<p>企业面试题26、【LVS备节点】模拟keepalved
vrrp功能，监听主节点，如果主节点不可访问则备节点启动并配置LVS实现接管主节点的资源提供服务（提醒：注意ARP缓存）</p>

<p>企业面试题27、请用shell或Python编写一个正方形(oldboy_square.sh)，接收用户输入的数字。</p>

<p>例如：</p>

<p>1</p>

<p>2</p>

<p>3</p>

<p>4</p>

<p>5</p>

<p>6</p>

<p>7</p>

<p>8</p>

<p>9</p>

<p>10</p>

<p>11</p>

<p>12</p>

<p>13</p>

<p>14</p>

<p>15</p>

<p>16</p>

<p>17</p>

<p>18</p>

<p>|</p>

<p><code>[root@oldboy ~]</code> <code># sh oldboy_square1.sh</code></p>

<p><code>Please Enter a number:5</code></p>

<p><code>++++++++++</code></p>

<p><code>++++++++++</code></p>

<p><code>++++++++++</code></p>

<p><code>++++++++++</code></p>

<p><code>++++++++++</code></p>

<p><code>[root@oldboy ~]</code> <code># sh oldboy_square2.sh</code></p>

<p><code>Please Enter a number:9</code></p>

<p><code>■■■■■■■■■</code></p>

<p><code>■■■■■■■■■</code></p>

<p><code>■■■■■■■■■</code></p>

<p><code>■■■■■■■■■</code></p>

<p><code>■■■■■■■■■</code></p>

<p><code>■■■■■■■■■</code></p>

<p><code>■■■■■■■■■</code></p>

<p><code>■■■■■■■■■</code></p>

<p><code>■■■■■■■■■</code></p>

<p>&mdash;|&mdash;</p>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# vim 27_1.sh</li>
<li>3. #!/bin/bash</li>
<li>5. read -p &ldquo;Please Enter a number:&rdquo; a</li>
<li>7.   8. for ((i=1;$i&lt;=$a;i++))</li>
<li>do</li>
<li>for ((j=1;j&lt;=$((2*$a));j++))</li>
<li>do</li>
<li>echo -e &ldquo;+\c&rdquo; #不换行</li>
<li>done</li>
<li>echo</li>
<li>done

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./27_1.sh</li>
<li>Please Enter a number:5</li>
<li>++++++++++</li>
<li>++++++++++</li>
<li>++++++++++</li>
<li>++++++++++</li>
<li>++++++++++

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# cat 27_2.sh</li>
<li>#!/bin/bash</li>
<li>4. read -p &ldquo;Please Enter a number:&rdquo; a</li>
<li>6.   7. for ((i=1;$i&lt;=$a;i++))</li>
<li>do</li>
<li>for ((j=1;j&lt;=$a;j++))</li>
<li>do</li>
<li>echo -e &ldquo;■ \c&rdquo; #不换行</li>
<li>done</li>
<li>echo</li>
<li>done

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./27_2.sh</li>
<li>Please Enter a number:9</li>
<li>■ ■ ■ ■ ■ ■ ■ ■ ■</li>
<li>■ ■ ■ ■ ■ ■ ■ ■ ■</li>
<li>■ ■ ■ ■ ■ ■ ■ ■ ■</li>
<li>■ ■ ■ ■ ■ ■ ■ ■ ■</li>
<li>■ ■ ■ ■ ■ ■ ■ ■ ■</li>
<li>■ ■ ■ ■ ■ ■ ■ ■ ■</li>
<li>■ ■ ■ ■ ■ ■ ■ ■ ■</li>
<li>■ ■ ■ ■ ■ ■ ■ ■ ■</li>
<li>■ ■ ■ ■ ■ ■ ■ ■ ■

<br /></li>
</ol>

<p>企业面试题28、请用shell或Python编写一个等腰三角形(oldboy2_triangle.sh)，接收用户输入的数字。</p>

<p>例如：</p>

<p>1</p>

<p>2</p>

<p>3</p>

<p>4</p>

<p>5</p>

<p>6</p>

<p>7</p>

<p>8</p>

<p>9</p>

<p>10</p>

<p>11</p>

<p>12</p>

<p>13</p>

<p>14</p>

<p>15</p>

<p>16</p>

<p>17</p>

<p>|</p>

<p><code>[root@oldboy ~]</code> <code># sh oldboy2_triangle.sh</code></p>

<p><code>Please Enter a number:5</code></p>

<p> <code>*</code></p>

<p> <code>***</code></p>

<p> <code>*****</code></p>

<p> <code>*******</code></p>

<p><code>*********</code></p>

<p><code>[root@oldboy ~]</code> <code># sh oldboy2_triangle.sh</code></p>

<p><code>Please Enter a number:8</code></p>

<p> <code>*</code></p>

<p> <code>***</code></p>

<p> <code>*****</code></p>

<p> <code>*******</code></p>

<p> <code>*********</code></p>

<p> <code>***********</code></p>

<p> <code>*************</code></p>

<p><code>***************</code></p>

<p>&mdash;|&mdash;</p>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# cat 28_1.sh</li>
<li>#!/bin/bash</li>
<li>4. read -p &ldquo;Please Enter a number:&rdquo; a</li>
<li>6.   7. for ((i=1;$i&lt;=$a;i++))</li>
<li>do</li>
<li>for ((h=$((2<em>$a-2</em>$i));h&gt;=0;h&ndash;))</li>
<li>do</li>
<li>echo -e &ldquo; \c&rdquo;</li>
<li>done</li>
<li>for ((j=1;j&lt;=$((2*$i-1));j++))</li>
<li>do</li>
<li>echo -e &ldquo;*\c&rdquo; #不换行</li>
<li>done</li>
<li>echo</li>
<li>done

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./28_1.sh</li>
<li>Please Enter a number:5</li>
<li>*</li>
<li>***</li>
<li>*****</li>
<li>*******</li>
<li>*********</li>
<li>[root@cjy linux-20]# ./28_1.sh</li>
<li>Please Enter a number:8</li>
<li>*</li>
<li>***</li>
<li>*****</li>
<li>*******</li>
<li>*********</li>
<li>***********</li>
<li>*************</li>
<li>***************

<br /></li>
</ol>

<p>企业面试题29、请用shell或Python编写一个画直角梯形程序(oldboy4.sh)，接收用户输入的参数n，m</p>

<p>例如：</p>

<p>1</p>

<p>2</p>

<p>3</p>

<p>4</p>

<p>|</p>

<p><code>[root@oldboy ~]</code> <code># sh oldboy4.sh 4 6</code></p>

<p><code>****</code></p>

<p><code>*****</code></p>

<p><code>******</code></p>

<p>&mdash;|&mdash;</p>

<p>27,28,29三道题参考<a href="http://oldboy.blog.51cto.com/2561410/1718607">http://oldboy.blog.51cto.com/2561410/1718607</a></p>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# cat 29.sh</li>
<li>#!/bin/bash</li>
<li>4. if [[ -n $1 ]] &amp;&amp; [[ -n $2 ]];</li>
<li>then</li>
<li>7. for ((i=$1;$i&lt;=$2;i++))</li>
<li>do</li>
<li>for ((j=1;j&lt;=$i;j++))</li>
<li>do</li>
<li>echo -e &ldquo;*\c&rdquo; #不换行</li>
<li>done</li>
<li>echo</li>
<li>done</li>
<li>else</li>
<li>echo &ldquo;No given two int arguments,such as $0 5 6!&rdquo;</li>
<li>fi

<br /></li>
</ol>

<p>[python] view plain  copy</p>

<ol>
<li>[root@cjy linux-20]# ./29.sh 4 6</li>
<li>****</li>
<li>*****</li>
<li>******

<br /></li>
</ol>

<p>企业面试题30:写一套简单的企业代码上线发布系统案例，利用SVN对代码及配置文件进行管理，在办公室服务器上从svn取出指定版本的代码和配置，发布到IDC机房分发机服务器上，在分发服务器或者负载均衡器上或者应用服务器本地实现代码平滑发布、上线、回滚脚本（具体设计请参考课堂讲解的企业代码发布方案）。</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>