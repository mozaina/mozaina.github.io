<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>shell自动化脚本1 | 开发者问答集锦</title>
    <meta property="og:title" content="shell自动化脚本1 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="shell自动化脚本1">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/shell%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC1/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">shell自动化脚本1</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<p>#!/bin/bash<br />
#Date 2017/11/11<br />
#mail caoyf1992@163.com</p>

<h1 id="id-u-显示用户id">id -u 显示用户ID</h1>

<p>[ $(id -u) != &ldquo;0&rdquo; ] &amp;&amp; echo &ldquo;Error: You must be root to run this script&rdquo; &amp;&amp;
exit 1</p>

<h1 id="export-设置环境变量">export 设置环境变量</h1>

<p>export PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin<br />
sed -i &ldquo;s/SELINUX=enforcing/SELINUX=disabled/&rdquo; /etc/selinux/config<br />
setenforce 0</p>

<p>#which 查看可执行文件的位置 whereis 查看文件的位置<br />
which ntpdate<br />
if [ $? -eq 0 ];then<br />
/usr/sbin/ntpdate time1.aliyun.com<br />
echo &ldquo;*/5 * * * * /usr/sbin/ntpdate -s time1.aliyun.com&rdquo;&gt;&gt;/var/spool/cron/root<br />
else<br />
yum install ntpdate -y<br />
/usr/sbin/ntpdate time1.aliyun.com<br />
echo &ldquo;*/5 * * * * /usr/sbin/ntpdate -s time1.aliyun.com&rdquo;&gt;&gt;/var/spool/cron/root<br />
fi<br />
clear<br />
echo &ldquo;##########################################&rdquo;<br />
echo &ldquo;Auto Install smokeping-2.6.11 ##&rdquo;<br />
echo &ldquo;Press Ctrl + C to cancel ##&rdquo;<br />
echo &ldquo;Any key to continue ##&rdquo;<br />
echo &ldquo;##########################################&rdquo;<br />
read -n 1<br />
/etc/init.d/iptables status &gt;/dev/null 2&gt;&amp;1<br />
if [ $? -eq 0 ]<br />
then<br />
iptables -I INPUT -p tcp &ndash;dport 80 -j ACCEPT &amp;&amp;<br />
iptables-save &gt;/dev/null 2&gt;&amp;1<br />
else<br />
echo -e &ldquo;\033[32m iptables is stopd\033[0m&rdquo;<br />
fi<br />
IP=<code>/sbin/ifconfig|sed -n '/inet addr/s/^[^:]*:\\([0-9.]\\{7,15\\}\\)
.*/\1/1p'|sed -n '1p'</code><br />
sed -i &ldquo;s/SELINUX=enforcing/SELINUX=disabled/&rdquo; /etc/selinux/config<br />
setenforce 0<br />
rpm -Uvh <a href="http://apt.sw.be/RedHat/el6/en/x86_64/rpmforge/RPMS/rpmforge-">http://apt.sw.be/RedHat/el6/en/x86_64/rpmforge/RPMS/rpmforge-</a>
release-0.5.3-1.el6.rf.x86_64.rpm 1&gt;/dev/null<br />
yum -y install perl perl-Net-Telnet perl-Net-DNS perl-LDAP perl-libwww-perl
perl-RadiusPerl perl-IO-Socket-SSL perl-Socket6 perl-CGI-SpeedyCGI perl-FCGI
perl-CGI-SpeedCGI perl-Time-HiRes perl-ExtUtils-MakeMaker perl-RRD-Simple
rrdtool rrdtool-perl curl fping echoping httpd httpd-devel gcc make wget
libxml2-devel libpng-devel glib pango pango-devel freetype freetype-devel
fontconfig cairo cairo-devel libart_lgpl gcc libart_lgpl-devel mod_fastcgi
wget wqy-*<br />
if [ -d /opt ];then<br />
cd /opt<br />
else<br />
mkdir -p /opt &amp;&amp; cd /opt<br />
fi<br />
wget -c <a href="http://oss.oetiker.ch/smokeping/pub/smokeping-2.6.11.tar.gz">http://oss.oetiker.ch/smokeping/pub/smokeping-2.6.11.tar.gz</a><br />
tar -xvf smokeping-2.6.11.tar.gz 1&gt;/dev/null<br />
cd /opt/smokeping-2.6.11<br />
./setup/build-perl-modules.sh /usr/local/smokeping/thirdparty<br />
./configure -prefix=/usr/local/smokeping<br />
/usr/bin/gmake install 1&gt;/dev/null<br />
cd /usr/local/smokeping<br />
mkdir cache data var 1&gt;/dev/null<br />
touch /var/log/smokeping.log<br />
chown -R apache:apache cache data var<br />
chown -R apache:apache /var/log/smokeping.log<br />
mv /usr/local/smokeping/htdocs/smokeping.fcgi.dist
/usr/local/smokeping/htdocs/smokeping.fcgi<br />
mv /usr/local/smokeping/etc/config.dist /usr/local/smokeping/etc/config<br />
cp -f /usr/local/smokeping/etc/config /usr/local/smokeping/etc/config.back<br />
sed -i &ldquo;s/some.url/IP/g&rdquo; /usr/local/smokeping/etc/config<br />
chmod 600 /usr/local/smokeping/etc/smokeping_secrets.dist<br />
if [ -d /opt ];then<br />
cd /opt<br />
else<br />
mkdir -p /opt &amp;&amp; cd /opt<br />
fi<br />
wget -c -O /opt/fping-4.0.tar.gz <a href="http://fping.org/dist/fping-4.0.tar.gz">http://fping.org/dist/fping-4.0.tar.gz</a><br />
tar zxvf fping-4.0.tar.gz<br />
cd fping-4.0<br />
./configure &ndash;prefix=/usr/local/fping<br />
make &amp;&amp; make install<br />
sed -i &ldquo;s#<code>grep fping /usr/local/smokeping/etc/config</code>#binary =
/usr/local/fping/sbin/fping#g&rdquo; /usr/local/smokeping/etc/config<br />
sed -i &ldquo;148i&rsquo;&ndash;font TITLE:20:&ldquo;WenQuanYi\ Zen\ Hei\ Mono&rdquo;&rsquo;\,&rdquo;
/usr/local/smokeping/lib/Smokeping/Graphs.pm<br />
cp -rf /etc/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf.back<br />
cat &gt;&gt; /etc/httpd/conf/httpd.conf &lt; Alias /cache &ldquo;/usr/local/smokeping/cache/&rdquo;<br />
Alias /cropper &ldquo;/usr/local/smokeping/htdocs/cropper/&rdquo;<br />
Alias /smokeping &ldquo;/usr/local/smokeping/htdocs/smokeping.fcgi&rdquo;</p>

<p>AllowOverride None<br />
Options All<br />
AddHandler cgi-script .fcgi .cgi<br />
Order allow,deny<br />
Allow from all<br />
DirectoryIndex smokeping.fcgi</p>

<p>EOF<br />
if [ -f /etc/init.d/smokeping ];then<br />
echo &ldquo;/etc/init.d/smokeping is exist&rdquo;<br />
else<br />
touch /etc/init.d/smokeping<br />
cat &gt; /etc/init.d/smokeping &lt; #!/bin/bash<br />
#chkconfig: 2345 80 05</p>

<h1 id="description-smokeping-init-d-script">Description: Smokeping init.d script</h1>

<h1 id="create-by-mox">Create by : Mox</h1>

<h1 id="get-function-from-functions-library">Get function from functions library</h1>

<p>. /etc/init.d/functions</p>

<h1 id="start-the-service-smokeping">Start the service Smokeping</h1>

<p>smokeping=/usr/local/smokeping/bin/smokeping<br />
prog=smokeping<br />
pidfile=${PIDFILE-/usr/local/smokeping/var/smokeping.pid}<br />
lockfile=${LOCKFILE-/var/lock/subsys/smokeping}<br />
RETVAL=0<br />
STOP_TIMEOUT=${STOP_TIMEOUT-10}<br />
LOG=/var/log/smokeping.log<br />
start() {<br />
echo -n $&ldquo;Starting $prog: &ldquo;<br />
LANG=$HTTPD_LANG daemon &ndash;pidfile=${pidfile} $smokeping $OPTIONS<br />
RETVAL=$?<br />
echo<br />
[ $RETVAL = 0 ] &amp;&amp; touch ${lockfile}<br />
return $RETVAL<br />
}</p>

<h1 id="restart-the-service-smokeping">Restart the service Smokeping</h1>

<p>stop() {<br />
echo -n $&ldquo;Stopping $prog: &ldquo;<br />
killproc -p ${pidfile} -d ${STOP_TIMEOUT} $smokeping<br />
RETVAL=$?<br />
echo<br />
[ $RETVAL = 0 ] &amp;&amp; rm -f ${lockfile} ${pidfile}<br />
}<br />
STOP_TIMEOUT=${STOP_TIMEOUT-10}<br />
LOG=/var/log/smokeping.log<br />
start() {<br />
echo -n $&ldquo;Starting $prog: &ldquo;<br />
LANG=$HTTPD_LANG daemon &ndash;pidfile=${pidfile} $smokeping $OPTIONS<br />
RETVAL=$?<br />
echo<br />
[ $RETVAL = 0 ] &amp;&amp; touch ${lockfile}<br />
return $RETVAL<br />
}</p>

<h1 id="restart-the-service-smokeping-1">Restart the service Smokeping</h1>

<p>stop() {<br />
echo -n $&ldquo;Stopping $prog: &ldquo;<br />
killproc -p ${pidfile} -d ${STOP_TIMEOUT} $smokeping<br />
RETVAL=$?<br />
echo<br />
[ $RETVAL = 0 ] &amp;&amp; rm -f ${lockfile} ${pidfile}<br />
}<br />
case &ldquo;$1&rdquo; in<br />
start)<br />
start<br />
;;<br />
stop)<br />
stop<br />
;;<br />
status)<br />
status -p ${pidfile} $httpd<br />
RETVAL=$?<br />
;;<br />
restart)<br />
stop<br />
start<br />
;;<br />
*)<br />
echo $&ldquo;Usage: $prog {start|stop|restart|status}&rdquo;<br />
RETVAL=2<br />
esac<br />
EOF<br />
fi<br />
cat &gt; /usr/local/smokeping/etc/config &lt; *** General ***<br />
owner = caoyf<br />
contact = caoyf1992@163.com<br />
#mailhost = smtp.163.com:25<br />
#mailusr = xuel@linuxidc<br />
#mailpwd = anchnet@123.com<br />
#sendmail = /usr/sbin/sendmail</p>

<h1 id="note-do-not-put-the-image-cache-below-cgi-bin">NOTE: do not put the Image Cache below cgi-bin</h1>

<h1 id="since-all-files-under-cgi-bin-will-be-executed-this-is-not">since all files under cgi-bin will be executed &hellip; this is not</h1>

<h1 id="good-for-images">good for images.</h1>

<p>imgcache = /usr/local/smokeping/cache<br />
imgurl = cache<br />
datadir = /usr/local/smokeping/data<br />
piddir = /usr/local/smokeping/var<br />
cgiurl = http://$IP/smokeping.cgi<br />
smokemail = /usr/local/smokeping/etc/smokemail.dist<br />
tmail = /usr/local/smokeping/etc/tmail.dist</p>

<h1 id="specify-this-to-get-syslog-logging">specify this to get syslog logging</h1>

<p>syslogfacility = local0</p>

<h1 id="each-probe-is-now-run-in-its-own-process">each probe is now run in its own process</h1>

<h1 id="disable-this-to-revert-to-the-old-behaviour">disable this to revert to the old behaviour</h1>

<h1 id="concurrentprobes-no">concurrentprobes = no</h1>

<p>*** Alerts ***<br />
to = 8578545954@qq.com<br />
from = qsd@lenxxx.com.cn<br />
+someloss<br />
type = loss</p>

<h1 id="in-percent">in percent</h1>

<p>pattern = &gt;0%,<em>12</em>,&gt;0%,<em>12</em>,&gt;0%<br />
comment = loss 3 times in a row<br />
+rttdetect<br />
type = rtt<br />
#in milli seconds<br />
pattern = <10,<10,<10,<10,<10,<100,>100,&gt;100,&gt;100<br />
edgetrigger = yes<br />
comment = routing messed up again ?</p>

<p>+lossdetect<br />
type = loss</p>

<h1 id="in-percent-1">in percent</h1>

<p>pattern = ==0%,==0%,==0%,==0%,&gt;20%,&gt;20%,&gt;20%<br />
edgetrigger = yes<br />
comment = suddenly there is packet loss<br />
+miniloss<br />
type = loss</p>

<h1 id="in-percent-2">in percent</h1>

<p>pattern = &gt;0%,<em>12</em>,&gt;0%,<em>12</em>,&gt;0%<br />
edgetrigger = yes<br />
#pattern = &gt;0%,<em>12</em><br />
comment = detected loss 1 times over the last two hours<br />
#+rttdetect<br />
#type = rtt</p>

<h1 id="in-milliseconds">in milliseconds</h1>

<p>#pattern = <1,<1,<1,<1,<1,<2,>2,&gt;2,&gt;2<br />
#comment = routing messed up again ?<br />
+rttbad<br />
type = rtt</p>

<h1 id="in-milliseconds-1">in milliseconds</h1>

<p>edgetrigger = yes<br />
pattern = ==S,&gt;20<br />
comment = route<br />
+rttbadstart<br />
type = rtt</p>

<h1 id="in-milliseconds-2">in milliseconds</h1>

<p>edgetrigger = yes<br />
pattern = ==S,==U<br />
comment = offline at startup<br />
*** Database ***<br />
step = 60<br />
pings = 20</p>

<h1 id="consfn-mrhb-steps-total">consfn mrhb steps total</h1>

<p>AVERAGE 0.5 1 1008<br />
AVERAGE 0.5 12 4320<br />
MIN 0.5 12 4320<br />
MAX 0.5 12 4320<br />
AVERAGE 0.5 144 720<br />
MAX 0.5 144 720<br />
MIN 0.5 144 720<br />
*** Presentation ***<br />
charset = utf-8<br />
template = /usr/local/smokeping/etc/basepage.html.dist<br />
+ charts<br />
menu = 排行榜<br />
title = 排行榜<br />
++ stddev<br />
sorter = StdDev(entries=&gt;4)<br />
title = 综合指数排行<br />
menu = 综合指数排行<br />
format = 综合指数 %f<br />
++ max<br />
sorter = Max(entries=&gt;5)<br />
title = 最大延迟排行<br />
menu = 最大延迟排行<br />
format = 最大延迟时间 %f 秒<br />
++ loss<br />
sorter = Loss(entries=&gt;5)<br />
title = 丢包率排行<br />
menu = 丢包率排行<br />
format = 丢包 %f<br />
++ median<br />
sorter = Median(entries=&gt;5)<br />
title = 平均延迟排行<br />
menu = 平均延迟排行<br />
format = 平均延迟 %f 秒<br />
+ overview<br />
width = 860<br />
height = 150<br />
range = 10h<br />
+ detail<br />
width = 860<br />
height = 200<br />
unison_tolerance = 2<br />
&ldquo;Last 3 Hours&rdquo; 3h<br />
&ldquo;Last 30 Hours&rdquo; 30h<br />
&ldquo;Last 10 Days&rdquo; 10d<br />
&ldquo;Last 30 Days&rdquo; 30d<br />
&ldquo;Last 90 Days&rdquo; 90d<br />
#+ hierarchies<br />
#++ owner<br />
#title = Host Owner<br />
#++ location<br />
#title = Location</p>

<p>*** Probes ***<br />
+ FPing<br />
binary = /usr/local/fping/sbin/fping<br />
*** Slaves ***<br />
secrets=/usr/local/smokeping/etc/smokeping_secrets.dist<br />
+boomer<br />
display_name=boomer<br />
color=0000ff<br />
+slave2<br />
display_name=another<br />
color=00ff00<br />
*** Targets ***<br />
probe = FPing<br />
menu = Top<br />
#title = Network Latency Grapher<br />
title = 欢迎访问XXXIDC网络节点质量监控<br />
#remark = Welcome to the SmokePing website of xxx Company. </p>

<h1 id="here-you-will-learn-all-about-the-latency-of-our-network">Here you will learn all about the latency of our network.</h1>

<p>remark = XXXXX网络质量监控系统<br />
#+ Mobile<br />
+ YD_huabei<br />
menu = China Mobile huabei<br />
title = 移动 华北地区<br />
++ YD_beiing<br />
menu = 移动北京<br />
title = YD_beijing 218.200.240.1<br />
host = 218.200.240.1<br />
++ YD_tianjin<br />
menu = 移动天津<br />
title = YD_tianjin 211.137.160.1<br />
host = 211.137.160.1<br />
++ YD_shijiazhuang<br />
menu = 移动石家庄<br />
title = YD_shijiazhuang 218.207.64.1<br />
host = 218.207.64.1<br />
++ YD_taiyuan<br />
menu = 移动太原<br />
title = YD_taiyuan 211.142.0.1<br />
host = 211.142.0.1<br />
++ YD_huabeibb<br />
menu = 移动华北骨干<br />
title = YD_huabeibb 211.136.67.101<br />
host = 211.136.67.101<br />
+ YD_dongbei<br />
menu = China Mobile dongbei<br />
title = 移动东北地区<br />
++ YD_shenyang<br />
menu = 移动沈阳<br />
title = YD_shenyang 221.180.131.1<br />
host = 221.180.131.1</p>

<p>++ YD_changchun<br />
menu = 移动长春<br />
title = YD_changchun 211.141.71.1<br />
host = 211.141.71.1<br />
+ YD_huadong<br />
menu = China Mobile huadong<br />
title = 移动华东地区<br />
++ YD_huadongbb<br />
menu = 移动华东骨干<br />
title = YD_huadongbb 211.141.71.1<br />
host = 211.141.71.1<br />
++ YD_shanghai<br />
menu = 移动上海<br />
title = YD_shanghai 117.131.0.1<br />
host = 117.131.0.1<br />
++ YD_wuxi<br />
menu = 移动无锡<br />
title = YD_wuxi 120.195.152.1<br />
host = 120.195.152.1<br />
++ YD_yantai<br />
menu = 移动烟台<br />
title = YD_yantai 211.137.206.113<br />
host = 211.137.206.113</p>

<p>++ YD_hangzhou<br />
menu = 移动杭州<br />
title = YD_hangzhou 211.140.0.8<br />
host = 211.140.0.8<br />
+ YD_zhongnan<br />
menu = China Mobile zhongnan<br />
title = 移动中南地区<br />
++ YD_wuhan<br />
menu = 移动武汉<br />
title = YD_wuhan 120.202.0.1<br />
host = 120.202.0.1<br />
++ YD_guangzhou<br />
menu = 移动广州<br />
title = YD_guangzhou 211.139.145.239<br />
host = 211.139.145.239<br />
++ YD_changsha<br />
menu = 移动长沙<br />
title = YD_changsha 211.143.5.1<br />
host = 211.143.5.1<br />
+ YD_xibei<br />
menu = China Mobile xibei<br />
title = 移动西北地区<br />
++ YD_xining<br />
menu = 移动西宁<br />
title = YD_xining 111.12.255.29<br />
host = 111.12.255.29</p>

<p>++ YD_yinchuan<br />
menu = 移动银川<br />
title = YD_yinchuan 111.49.10.1<br />
host = 111.49.10.1<br />
++ YD_xian<br />
menu = 移动西安<br />
title = YD_xian 218.200.63.185<br />
host = 218.200.63.185<br />
+ YD_HuiZong<br />
menu = China Mobile HuiZong<br />
title = 移动汇总<br />
++ YD_HuiZong<br />
menu = 移动汇总<br />
title = YD_HuiZong<br />
host = /YD_huabei/YD_beiing /YD_huabei/YD_tianjin /YD_huabei/YD_shijiazhuang
/YD_huabei/YD_taiyuan /YD_huabei/YD_huabeibb /YD_dongbei/YD_shenyang
/YD_dongbei/YD_changchun /YD_huadong/YD_huadongbb /YD_huadong/YD_shanghai
/YD_huadong/YD_wuxi /YD_huadong/YD_yantai /YD_huadong/YD_hangzhou
/YD_zhongnan/YD_wuhan /YD_zhongnan/YD_guangzhou /YD_zhongnan/YD_changsha
/YD_xibei/YD_xining /YD_xibei/YD_yinchuan /YD_xibei/YD_xian<br />
#+ Unicom<br />
+ UN_xibei<br />
menu = China Unicom xibei<br />
title = 联通西北地区</p>

<p>++ UN_lanzhou<br />
menu = 联通兰州<br />
title = UN_lanzhou 115.85.195.1<br />
host = 115.85.195.1<br />
++ UN_xian<br />
menu = 联通西安<br />
title = UN_xian 124.89.76.1<br />
host = 124.89.76.1<br />
++ UN_jiuquan<br />
menu = 联通酒泉<br />
title = UN_jiuquan 221.7.43.1<br />
host = 221.7.43.1<br />
+ UN_xinan<br />
menu = China Unicom xinan<br />
title = 联通西南地区<br />
++ UN_xinanbb<br />
menu = 联通西南骨干<br />
title = UN_xinanbb 219.158.14.66<br />
host = 219.158.14.66<br />
++ UN_chongqing<br />
menu = 联通重庆<br />
title = UN_chongqing 221.5.203.86<br />
host = 221.5.203.86</p>

<p>++ UN_guiyang<br />
menu = 联通贵阳<br />
title = UN_guiyang 58.16.254.82<br />
host = 58.16.254.82<br />
++ UN_puer<br />
menu = 联通普洱<br />
title = UN_puer 221.3.161.1<br />
host = 221.3.161.1<br />
+ UN_zhongnan<br />
menu = China Unicom zhongnan<br />
title = 联通中南地区<br />
++ UN_zhongnanbb<br />
menu = 联通中南骨干<br />
title = UN_zhongnanbb 219.158.112.46<br />
host = 219.158.112.46<br />
++ UN_kaifeng<br />
menu = 联通开封<br />
title = UN_kaifeng 61.53.134.1<br />
host = 61.53.134.1<br />
++ UN_changsha<br />
menu = 联通长沙<br />
title = UN_changsha 58.20.127.238<br />
host = 58.20.127.238</p>

<p>++ UN_nanning<br />
menu = 联通南宁<br />
title = UN_nanning 221.7.128.68<br />
host = 221.7.128.68<br />
++ UN_guangzhou<br />
menu = 联通广州<br />
title = UN_guangzhou 221.4.66.66<br />
host = 221.4.66.66<br />
++ UN_wuhan<br />
menu = 联通武汉<br />
title = UN_wuhan 218.104.111.122<br />
host = 218.104.111.122<br />
++ UN_zhengzhou<br />
menu = 联通郑州<br />
title = UN_zhengzhou 125.46.62.1<br />
host = 125.46.62.1<br />
+ UN_huadong<br />
menu = China Unicom huadong<br />
title = 联通华东地区<br />
++ UN_shanghai<br />
menu = 联通上海<br />
title = UN_shanghai 58.246.48.1<br />
host = 58.246.48.1</p>

<p>++ UN_hangzhou<br />
menu = 联通杭州<br />
title = UN_hangzhou 60.12.141.49<br />
host = 60.12.141.49<br />
++ UN_putian<br />
menu = 联通莆田<br />
title = UN_putian 58.22.128.2<br />
host = 58.22.128.2<br />
++ UN_nanchang<br />
menu = 联通南昌<br />
title = UN_nanchang 58.17.30.1<br />
host = 58.17.30.1<br />
++ UN_xiamen<br />
menu = 联通厦门<br />
title = UN_xiamen 36.250.77.34<br />
host = 36.250.77.34<br />
++ UN_qingdao<br />
menu = 联通青岛<br />
title = UN_qingdao 202.102.128.68<br />
host = 202.102.128.68<br />
+ UN_dongbei<br />
menu = China Unicom dongbei<br />
title = 联通东北地区</p>

<p>++ UN_dongbeibb<br />
menu = 联通东北骨干<br />
title = UN_dongbeibb 219.158.105.234<br />
host = 219.158.105.234<br />
++ UN_shenyang<br />
menu = 联通沈阳<br />
title = UN_shenyang 124.95.173.47<br />
host = 124.95.173.47<br />
++ UN_jilin<br />
menu = 联通吉林<br />
title = UN_jilin 139.214.195.240<br />
host = 139.214.195.240<br />
++ UN_haerbin<br />
menu = 联通哈尔滨<br />
title = UN_haerbin 202.97.207.240<br />
host = 202.97.207.240<br />
++ UN_fushun<br />
menu = 联通抚顺<br />
title = UN_fushun 60.18.95.1<br />
host = 60.18.95.1<br />
+ UN_huabei<br />
menu = China Unicom huabei<br />
title = 联通华北地区</p>

<p>++ UN_huabeibb<br />
menu = 联通华北骨干<br />
title = UN_huabeibb 219.158.104.134<br />
host = 219.158.104.134<br />
++ UN_alashan<br />
menu = 联通阿拉善<br />
title = UN_alashan 1.24.64.1<br />
host = 1.24.64.1<br />
++ UN_shijiazhuang<br />
menu = 联通石家庄<br />
title = UN_shijiazhuang 110.228.158.1<br />
host = 110.228.158.1<br />
++ UN_tianjin<br />
menu = 联通天津<br />
title = UN_tianjin 113.31.41.119<br />
host = 113.31.41.119<br />
++ UN_beijing<br />
menu = 联通北京<br />
title = UN_beijing 125.34.224.1<br />
host = 125.34.224.1<br />
++ UN_datong<br />
menu = 联通大同<br />
title = UN_datong 118.72.100.1<br />
host = 118.72.100.1<br />
++ UN_tangshan<br />
menu = 联通唐山<br />
title = UN_tangshan 60.2.61.88<br />
host = 60.2.61.88<br />
++ UN_changzhi<br />
menu = 联通长治<br />
title = UN_changzhi 60.220.216.97<br />
host = 60.220.216.97<br />
+ UN_HuiZong<br />
menu = China Unicom HuiZong<br />
title = 联通汇总<br />
++ UN_HuiZong<br />
menu = 联通汇总<br />
title = UN_HuiZong<br />
host = /UN_xibei/UN_lanzhou /UN_xibei/UN_xian /UN_xibei/UN_jiuquan
/UN_xinan/UN_xinanbb /UN_xinan/UN_chongqing /UN_xinan/UN_guiyang
/UN_xinan/UN_puer /UN_zhongnan/UN_zhongnanbb /UN_zhongnan/UN_kaifeng
/UN_zhongnan/UN_changsha /UN_zhongnan/UN_nanning /UN_zhongnan/UN_guangzhou
/UN_zhongnan/UN_wuhan /UN_zhongnan/UN_zhengzhou /UN_huadong/UN_shanghai
/UN_huadong/UN_hangzhou /UN_huadong/UN_putian /UN_huadong/UN_nanchang
/UN_huadong/UN_xiamen /UN_huadong/UN_qingdao /UN_dongbei/UN_dongbeibb
/UN_dongbei/UN_shenyang /UN_dongbei/UN_jilin /UN_dongbei/UN_haerbin
/UN_dongbei/UN_fushun /UN_huabei/UN_huabeibb /UN_huabei/UN_alashan
/UN_huabei/UN_shijiazhuang /UN_huabei/UN_tianjin /UN_huabei/UN_beijing
/UN_huabei/UN_datong /UN_huabei/UN_tangshan /UN_huabei/UN_changzhi<br />
#+ Telecom<br />
+ DX_huabei<br />
menu = China Telecom huabei<br />
title = 电信华北地区<br />
++ DX_beijingbb<br />
menu = 电信北京骨干<br />
title = DX_beijingbb 180.149.128.1<br />
host = 180.149.128.1<br />
++ DX_beijing<br />
menu = 电信北京<br />
title = DX_beijing 106.120.186.61<br />
host = 106.120.186.61<br />
++ DX_baotou<br />
menu = 电信包头<br />
title = DX_baotou 1.180.80.5<br />
host = 1.180.80.5<br />
++ DX_changzhi<br />
menu = 电信长治<br />
title = DX_changzhi 1.70.0.1<br />
host = 1.70.0.1<br />
++ DX_tianjin<br />
menu = 电信天津<br />
title = DX_tianjin 202.97.79.202<br />
host = 202.97.79.202<br />
++ DX_chifeng<br />
menu = 电信赤峰<br />
title = DX_chifeng 123.178.241.2<br />
host = 123.178.241.2<br />
++ DX_zhangjiakou<br />
menu = 电信张家口<br />
title = DX_zhangjiakou 219.148.106.1<br />
host = 219.148.106.1<br />
++ DX_hebeibb<br />
menu = 电信河北骨干<br />
title = DX_hebeibb 218.30.102.126<br />
host = 218.30.102.126<br />
++ DX_chengde<br />
menu = 电信承德<br />
title = DX_chengde 27.129.62.66<br />
host = 27.129.62.66<br />
+ DX_dongbei<br />
menu = China Telecom dongbei<br />
title = 电信东北地区<br />
++ DX_baicheng<br />
menu = 电信白城<br />
title = DX_baicheng 123.172.195.1<br />
host = 123.172.195.1<br />
++ DX_shenyang<br />
menu = 电信沈阳<br />
title = DX_shenyang 219.148.224.170<br />
host = 219.148.224.170<br />
++ DX_haerbin<br />
menu = 电信哈尔滨<br />
title = DX_haerbin 112.100.4.130<br />
host = 112.100.4.130<br />
+ DX_huadong<br />
menu = China Telecom huadong<br />
title = 电信华东地区<br />
++ DX_hefei<br />
menu = 电信合肥<br />
title = DX_hefei 115.238.250.95<br />
host = 115.238.250.95<br />
++ DX_hangzhou<br />
menu = 电信杭州<br />
title = DX_hangzhou 183.136.237.178<br />
host = 183.136.237.178<br />
++ DX_nanchang<br />
menu = 电信南昌<br />
title = DX_nanchang 220.175.137.1<br />
host = 220.175.137.1<br />
++ DX_yantai<br />
menu = 电信烟台<br />
title = DX_yantai 222.173.223.97<br />
host = 222.173.223.97<br />
++ DX_zhangzhou<br />
menu = 电信漳州<br />
title = DX_zhangzhou 27.157.0.1<br />
host = 27.157.0.1<br />
++ DX_shanghai<br />
menu = 电信上海<br />
title = DX_shanghai 114.80.243.1<br />
host = 114.80.243.1<br />
+ DX_zhongnan<br />
menu = China Telecom zhongnan<br />
title = 电信中南地区<br />
++ DX_zhengzhou<br />
menu = 电信郑州<br />
title = DX_zhengzhou 1.192.0.1<br />
host = 1.192.0.1<br />
++ DX_maoming<br />
menu = 电信茂名<br />
title = DX_maoming 121.10.173.117<br />
host = 121.10.173.117</p>

<p>++ DX_changsha<br />
menu = 电信长沙<br />
title = DX_changsha 124.232.137.133<br />
host = 124.232.137.133<br />
++ DX_dongguan<br />
menu = 电信东莞<br />
title = DX_dongguan 125.93.74.17<br />
host = 125.93.74.17<br />
++ DX_nanning<br />
menu = 电信南宁<br />
title = DX_nanning 171.107.80.102<br />
host = 171.107.80.102<br />
++ DX_haikou<br />
menu = 电信海口<br />
title = DX_haikou 220.174.236.1<br />
host = 220.174.236.1<br />
+ DX_xinan<br />
menu = China Telecom xinan<br />
title = 电信西南地区<br />
++ DX_kunming<br />
menu = 电信昆明<br />
title = DX_kunming 116.53.255.34<br />
host = 116.53.255.34<br />
++ DX_chongqing<br />
menu = 电信重庆<br />
title = DX_chongqing 119.84.87.231<br />
host = 119.84.87.231<br />
++ DX_chengdu<br />
menu = 电信成都<br />
title = DX_chengdu 125.64.99.162<br />
host = 125.64.99.162<br />
++ DX_zhidi<br />
menu = 电信芝地<br />
title = DX_zhidi 202.98.246.129<br />
host = 202.98.246.129<br />
++ DX_yuxi<br />
menu = 电信玉溪<br />
title = DX_yuxi 222.220.206.1<br />
host = 222.220.206.1<br />
+ DX_xibei<br />
menu = China Telecom xibei<br />
title = 电信西北地区<br />
++ DX_lanzhou<br />
menu = 电信兰州<br />
title = DX_lanzhou 118.180.5.222<br />
host = 118.180.5.222<br />
++ DX_yinchuan<br />
menu = 电信银川<br />
title = DX_yinchuan 124.224.255.46<br />
host = 124.224.255.46<br />
++ DX_kuerle<br />
menu = 电信库尔勒<br />
title = DX_kuerle 222.83.32.6<br />
host = 222.83.32.6<br />
++ DX_wulumuqi<br />
menu = 电信乌鲁木齐<br />
title = DX_wulumuqi 61.128.111.1<br />
host = 61.128.111.1<br />
++ DX_yanan<br />
menu = 电信延安<br />
title = DX_yanan 36.43.0.1<br />
host = 36.43.0.1<br />
+ DX_HuiZong<br />
menu = China Telecom HuiZong<br />
title = 电信汇总</p>

<p>++ DX_HuiZong<br />
menu = 电信汇总<br />
title = DX_HuiZong<br />
host = /DX_huabei/DX_beijingbb /DX_huabei/DX_beijing /DX_huabei/DX_baotou
/DX_huabei/DX_changzhi /DX_huabei/DX_tianjin /DX_huabei/DX_chifeng
/DX_huabei/DX_zhangjiakou /DX_huabei/DX_hebeibb /DX_huabei/DX_chengde
/DX_dongbei/DX_baicheng /DX_dongbei/DX_shenyang /DX_dongbei/DX_haerbin
/DX_huadong/DX_hefei /DX_huadong/DX_hangzhou /DX_huadong/DX_nanchang
/DX_huadong/DX_yantai /DX_huadong/DX_zhangzhou /DX_huadong/DX_shanghai
/DX_zhongnan/DX_zhengzhou /DX_zhongnan/DX_maoming /DX_zhongnan/DX_changsha
/DX_zhongnan/DX_dongguan /DX_zhongnan/DX_nanning /DX_zhongnan/DX_haikou
/DX_xinan/DX_kunming /DX_xinan/DX_chongqing /DX_xinan/DX_chengdu
/DX_xinan/DX_zhidi /DX_xinan/DX_yuxi /DX_xibei/DX_lanzhou
/DX_xibei/DX_yinchuan /DX_xibei/DX_kuerle /DX_xibei/DX_wulumuqi
/DX_xibei/DX_yanan<br />
EOF<br />
chmod +x /etc/init.d/smokeping<br />
chkconfig smokeping on<br />
chkconfig httpd on<br />
/etc/init.d/httpd start<br />
/etc/init.d/smokeping start<br />
if [ $? -eq 0 ];then<br />
echo -e &ldquo;\\033[32m smokeping setup successfull
URR：http://$IP/smokeping\\033[0m&rdquo;<br />
fi</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>