<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>十shell基础 | 开发者问答集锦</title>
    <meta property="og:title" content="十shell基础 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="十shell基础">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/%E5%8D%81shell%E5%9F%BA%E7%A1%80/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">十shell基础</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<pre><code>shell的表现形式：
        history 
            -c              清空历史命令(清空缓存;默认：1000条)
            -w              将缓存中的历史命令保存到配置文件中
        ~/.bash_history     永久保存历史命令（默认：1000条）
        ！ 数值                调用指定条数的历史命令
        ↑↓ 光标键          调用原来执行过的历史命令
        ！关键词                调用最近一次以此关键词开头的历史命令
        ！！                  执行上一次命令
</code></pre>

<h4 id="输入输出重定向"><strong>输入输出重定向</strong></h4>

<pre><code>    标准输入（键盘）：   /dev/stdin      [设备标识号：0]   通过键盘向服务器发送指令
    标准正确输出： /dev/stdout     [设备标识号：1]   ls命令输出的结果
    标准错误输出： /dev/stderr [设备标识号：2] lss命令输出的结果
        模拟标准输入：echo &quot;123456&quot; | passwd --stdin username  非交互式修改密码
1. 输入重定向
① &quot; asjdg 7y8 hbm,.dd k,2 '
            &gt; alskjd 'd 2 dasld '
            &gt; abc
            2 10 44
        wc &quot;&lt;
</code></pre>

<h4 id="连接符号"><strong>连接符号</strong></h4>

<pre><code>    选项连接符：
        -a ：find /etc -name &quot;init*&quot; -a -type f 
        -o ：find /etc -size -4K -o -size +10M       不取从4K到10M大小的文件
    命令连接符：
        -exec ：find /etc -name &quot;init*&quot; -a -type f -exec ls -l {} \;
        -ok   ：find /tmp -name &quot;init*&quot; -a -type f -ok rm -rf {} \;
        |     ：ls -l /etc/ | more   分页显示/etc/目录下的所有文件的长格式信息
            echo &quot;--help&quot; | cat
            echo &quot;--help&quot; |xargs cat
            #将echo --help 当做cat命令的选项执行
            find /etc -name &quot;init*&quot; -a -type f |xargs ls -l
            #将find所查询到的命令结果（任务流方式）使用|xargs传递给后面的命令
        ;   ：无逻辑关系连接符
        &amp;&amp;  ：有逻辑关系，符号前的命令必须执行成功，才执行符号后的命令
        ||  ：有逻辑关系，符号前的命令若执行成功，则不执行符号后的命令
                          符号前的命令若执行不成功，则执行符号后的命令
        [ &quot;$a&quot; == &quot;abc&quot; ] &amp;&amp; echo yes || echo no
            当a=abc时，输出yes，否则，输出no
    grep 提取包含关键词的行  （行提取命令）
        grep &quot;关键词&quot;      文本文件或文本流
        正则表达式
            -An     在关键词行向下显示n行
            -Bn     在关键词行向上显示n行
    find 在指定范围(目录)内查询符合条件的文件名&amp;路径
        -name
        -type
        -user -group
        -nouser         查询没有所有者的文件
        -[acm]time  -[acm]min
        -size
        -perm 
        -a -o
    默认精确查询 -name abc.txt
        模糊查询：通配符
            -name &quot;*abc.txt&quot;        用到通配符的需要用双引号引用
    echo  [选项]  [输出内容]
            -e          支持反斜线控制的字符转换
            -n          取消输出后行尾的换行符号
</code></pre>

<h4 id="bash特殊符号"><strong>Bash特殊符号</strong></h4>

<table>
<thead>
<tr>
<th>序号</th>
<th>标识格</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td>&ldquo;</td>
<td>其内的只是一个普通字符，原来的特殊含义失效</td>
</tr>

<tr>
<td>2</td>
<td>&rdquo;&rdquo;</td>
<td>其内的几乎是所有字符为一个普通字符，原来的特殊含义失效</td>
</tr>

<tr>
<td>3</td>
<td>``</td>
<td>调用指定命令的结果</td>
</tr>

<tr>
<td>4</td>
<td>$()</td>
<td>调用指定命令的结果</td>
</tr>

<tr>
<td>5</td>
<td>()</td>
<td>其内执行的命令都在新开的子shell中执行</td>
</tr>

<tr>
<td>6</td>
<td>[]</td>
<td>条件判断公式</td>
</tr>

<tr>
<td>7</td>
<td>{}</td>
<td>其内执行的所有命令，与当前shell中无异，但格式更严谨</td>
</tr>

<tr>
<td>8</td>
<td>#</td>
<td>注释</td>
</tr>

<tr>
<td>9</td>
<td>$</td>
<td>在bash shell中调用变量</td>
</tr>

<tr>
<td>10</td>
<td></td>
<td>针对命令的转意符</td>
</tr>
</tbody>
</table>

<h4 id="bash特殊颜色"><strong>Bash特殊颜色</strong></h4>

<table>
<thead>
<tr>
<th>文字颜色</th>
<th>30黑</th>
<th>31红</th>
<th>32绿</th>
<th>33黄</th>
<th>34蓝</th>
<th>35紫</th>
<th>36青</th>
<th>37白</th>
</tr>
</thead>

<tbody>
<tr>
<td>底纹颜色</td>
<td>40黑</td>
<td>41红</td>
<td>42绿</td>
<td>43黄</td>
<td>44蓝</td>
<td>45紫</td>
<td>46青</td>
<td>47白</td>
</tr>

<tr>
<td>特殊显示</td>
<td>0关闭</td>
<td>1高亮</td>
<td>4下划线</td>
<td>5闪烁</td>
<td>7反显</td>
<td>8消影</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<pre><code>颜色设置：如 \e[1;41;33m  \e[0m





    ⑴ ''    ：所有被单引号所引用的字符，都只是一个普通字符，原来的特殊含义失效
        echo '$PATH'    $在单引号中没有调用变量的功能了
    ⑵ &quot;&quot;    ：几乎是所有被双引号引用的字符，都只是一个普通字符，原来的特殊含义失效，除（$ \ ``）
        echo &quot;$PATH&quot;    $在双引号中被调用时，是有效的
    ⑶ `` 和 $()  ：调用指定命令的结果
        time=$(date)
        abc=`ls *`
    # echo `date`
    2018年 07月 03日 星期二 09:10:28 CST
    # echo &quot;`date`&quot;
    2018年 07月 03日 星期二 09:10:37 CST
    # echo '`date`'
    `date`
    ⑷ ()    ：所有在小括号内执行的命令，都是在新开启的子shell中执行的，不会影响当前shell，当小括号内的命令执行完成时，新开启的子shell自动结束消失
    ⑸ {}    ：所有在大括号中执行的命令，都是在当前shell中执行的，与不加括号无异。大括号要严格遵循格式：            { name=lisi;echo $name;}
            a、大括号的左括号和第一条命令之间需要留一个空格
            b、大括号内最后一条命令结尾需要使用;结束
                # { name=lisi;echo $name;}
                # (name=zhangsan;echo $name)   在子shell中执行
    ⑹ [] ：条件判断公式
        ① [ &quot;$abc&quot; != &quot;10&quot; ]        #在进行 == 和 != 进行判断时，必须遵循以下a、b两个原则
                #   == 和 != 是用来判断字符和字符串，不是用来判断数值的。 
                    a、括号两侧必须留有一个空格
                    b、判断符号两侧必须留有空格
        ② [ -f /etc/bashrc ]
            -f 判断指定对象是否存在，判断该文件是否是普通文件
            [ -f /etc/bashrc ] &amp;&amp; source /etc/bashrc
    ⑺ # ：在shell中是注释的意思，在文本内不生效，作为备注和注解
拓展：并不是所有的注释都是不生效的，有些注释代表默认就生效(/etc/ssh/sshd_config)
            ;
            //  

            /*   */
    ⑻ $ ：调用指定变量的值，在bash shell中是这样的，其他shell中不一定
        echo &quot;$PATH&quot;
    ⑼ \ ：将所有的特殊字符和字符串转义为普通字符和字符串（针对命令）
</code></pre>

<h4 id="变量声明"><strong>变量声明</strong></h4>

<pre><code>命令：declare   [+/-] [选项]  变量
-   : 给变量设定类型
+   : 取消变量的类型
-a  : 将变量声明成数组型
-i  : 将变量声明成整数型
-r  : 将变量声明成只读（变量值不能修改，也不能删除，更不能取消只读选项）
-x  : 将变量声明成环境变量
-p  : 显示指定变量的类型及内容
</code></pre>

<h4 id="正则表达式"><strong>正则表达式</strong></h4>

<p>(1) 正则表达式：</p>

<table>
<thead>
<tr>
<th>*</th>
<th>前一个字符任意多次（*前边必须有一个字符）</th>
<th>基础正则表达式</th>
</tr>
</thead>

<tbody>
<tr>
<td>.</td>
<td>匹配任意一个字符</td>
<td>基础正则表达式</td>
</tr>

<tr>
<td>^</td>
<td>限制行首</td>
<td>基础正则表达式</td>
</tr>

<tr>
<td>$</td>
<td>限制行尾</td>
<td>基础正则表达式</td>
</tr>

<tr>
<td>[]</td>
<td>其内任意一个字符，[A-Za-z][0-9][^0-9][abc][a-cdf]</td>
<td>基础正则表达式</td>
</tr>

<tr>
<td>\{n\}</td>
<td>前一个字符重复0到n次</td>
<td>基础正则表达式</td>
</tr>

<tr>
<td>\{n，</td>
<td>前一个字符至少重复n次及以上</td>
<td>基础正则表达式</td>
</tr>

<tr>
<td>\{n，m\}</td>
<td>前一个字符重复n次以上m次以下</td>
<td>基础正则表达式</td>
</tr>

<tr>
<td>+</td>
<td>前一个字符一次或多</td>
<td>egrep</td>
</tr>

<tr>
<td>?</td>
<td>前一个字符0次或一次</td>
<td>egrep</td>
</tr>

<tr>
<td></td>
<td>分支符号(或者)</td>
<td>egrep</td>
</tr>

<tr>
<td>()</td>
<td>其内为一个整体匹配一个字符</td>
<td>egrep</td>
</tr>
</tbody>
</table>

<pre><code>注：当用到egrep时“\{\}”中的反斜杠取消



 (2) 基础正则表达式：
    *   匹配前一个字符任意多次(连续)
        *前一个字符连续出现了多少次（*前边必须有一个字符）
    .   匹配任意一个字符（除去换行符以外）
        若某文本要过滤包含. 的行，则需要使用转义符将.的特殊含义取消
        grep &quot;\.&quot; /sh/passwd
    ^   匹配行首
    $   匹配行尾
        grep &quot;\.$&quot; /sh/passwd       #过滤以.结尾的行
        grep -v &quot;^$&quot;  /sh/passwd    #取消文本的空白行
    []  匹配括号内的任意一个字符
        [0-9] [a-zA-Z] [^0-9]       #尽量不要使用[a-Z]
        注：除了连接符 - 以外，不可以使用其他符号
    \{n\}   # 过滤必须出现指定次数的行
    \{n,\}
            # grep &quot;a\{0,\}&quot; passwd | wc -l
            # grep &quot;a*&quot; passwd | wc -l
    \{,n\}
    \{n,m\}
            # grep &quot;o\{2,3\}&quot; /sh/passwd
 (3) 扩展正则表达式：
        指定匹配的前一个字符出现的次数（类似于*）
        在使用egrep 或 grep -E 时，不需要使用转义符
        +   匹配前一个字符一次或任意多次
        ？   匹配前一个字符0次或1次
        |   分支符号(或者)
(4) 正则表达式过滤手机号码和ip
1. 中国手机号码：
以1开头，11位连续的数字
    grep &quot;1[0-9]\{10\}&quot; sj.txt
每行中只有手机号的：
    grep &quot;^1[0-9]\{10\}$&quot; sj.txt
中国联通：130、131、132、   145、    155、156、    185、186
    拆分：
        13[012][0-9]{8}
        145[0-9]{8}
        1[58][56][0-9]{8}
    组装：1(3[012]|45|[58][56])[0-9]{8}
2.IP范围0-255
拆分（怎么容易写正则匹配怎么拆分）：
            0-9             [0-9]
            10-99           [1-9][0-9]
            100-199         1[0-9][0-9]
            200-249         2[0-4][0-9]
            250-255         25[0-5]
组装：egrep &quot;[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]&quot; b
过滤IP
^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$
</code></pre>

<p>转载于:<a href="https://www.cnblogs.com/outsrkem/p/11170720.html">https://www.cnblogs.com/outsrkem/p/11170720.html</a></p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>