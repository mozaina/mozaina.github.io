<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>原创Android开发之ADB及ADBSHELl命令的应用 | 开发者问答集锦</title>
    <meta property="og:title" content="原创Android开发之ADB及ADBSHELl命令的应用 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="原创Android开发之ADB及ADBSHELl命令的应用">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/%E5%8E%9F%E5%88%9Bandroid%E5%BC%80%E5%8F%91%E4%B9%8Badb%E5%8F%8Aadbshell%E5%91%BD%E4%BB%A4%E7%9A%84%E5%BA%94%E7%94%A8/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">原创Android开发之ADB及ADBSHELl命令的应用</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<p>adb的全称为Android Debug
Bridge，就是起到调试桥的作用。通过adb我们可以在Eclipse中方面通过DDMS来调试Android程序，说白了就是debug工具。adb的工作方式比较特殊，采用监听Socket
TCP 5554等端口的方式让IDE和Qemu通讯，默认情况下adb会daemon相关的网络端口，所以当我们运行Eclipse时adb进程就会自动运行。</p>

<p>adb是Android SDK里的一个工具, 用这个工具可以直接操作管理android模拟器或者真实的android设备(如G1手机). 它的主要功能有:</p>

<ul>
<li><p>运行设备的shell(命令行)</p></li>

<li><p>管理模拟器或设备的端口映射</p></li>

<li><p>计算机和设备之间上传/下载文件</p></li>

<li><p>将本地apk软件安装至模拟器或android设备</p></li>
</ul>

<p><strong>ADB</strong> 是一个 客户端-服务器端 程序, 其中客户端是你用来操作的电脑, 服务器端是android设备.</p>

<p>查看帮助:adb help</p>

<h2 id="一-adb命令">一、ADB命令</h2>

<h3 id="1-显示当前运行的全部模拟器">1、显示当前运行的全部模拟器</h3>

<p>adb devices</p>

<h3 id="2-对某一模拟器执行命令">2、对某一模拟器执行命令</h3>

<p>adb –s 模拟器编号 命令</p>

<h3 id="3-安装应用程序">3、安装应用程序：</h3>

<p>adb install –r 路径+应用名称（记得加上后缀）</p>

<p><a href="https://img.it610.com/image/info8/216c3b606efb4056879f887a1d75edd4.jpg"><img src="https://img.it610.com/image/info8/216c3b606efb4056879f887a1d75edd4.jpg" alt="image" /></a></p>

<h3 id="4-卸载应用-暂时没成功">4、卸载应用（暂时没成功）</h3>

<p>adb uninstall</p>

<h3 id="5-从电脑发送文件至设备">5、从电脑发送文件至设备</h3>

<p>adb push</p>

<p><img src="https://img.it610.com/image/info8/f35a357ff80e4c02979f0f39065c3ada.jpg" alt="image" /></p>

<p>（在adb shell中通过pwd查看路径）</p>

<h3 id="6-从手机至电脑">6、从手机至电脑</h3>

<p>adb pull</p>

<p><a href="https://img.it610.com/image/info8/618bd797611e4d81857e412d8746c8ee.jpg"><img src="https://img.it610.com/image/info8/618bd797611e4d81857e412d8746c8ee.jpg" alt="image" /></a></p>

<h3 id="7-获取管理员权限">7、获取管理员权限</h3>

<p>adb root</p>

<h3 id="8-获取设备的id和序列号">8、获取设备的ID和序列号</h3>

<p>adb get-product //个人表示使用没效果</p>

<p>adb get-serialno</p>

<h3 id="9-无线调试">9、无线调试</h3>

<p>首先用数据线连接手机和电脑 执行以下命令</p>

<p>adb tcpip 5555</p>

<p><a href="https://img.it610.com/image/info8/6afaffb5efd442eba86e500b87de800a.jpg"><img src="https://img.it610.com/image/info8/6afaffb5efd442eba86e500b87de800a.jpg" alt="image" /></a></p>

<p>接下来断开数据线</p>

<p>查看手机ip地址</p>

<p>执行命令：adb connect 192.168.1.105:5555</p>

<p><a href="https://img.it610.com/image/info8/c5a77e3f5ca54e4cb8de63f8ca393b2a.jpg"><img src="https://img.it610.com/image/info8/c5a77e3f5ca54e4cb8de63f8ca393b2a.jpg" alt="image" /></a></p>

<p>即可远程调试设备</p>

<p>如果需要恢复到USB数据线，可以在命令行输入adb usb</p>

<p>我们也可以现在款adbwireless软件进行远程调试</p>

<h3 id="10-重启-关机-进入recovery模式">10、重启、关机、进入recovery模式</h3>

<p>重启 adb reboot</p>

<p>关机</p>

<p>进入recovery模式 adb reboot recovery</p>

<p><a href="https://img.it610.com/image/info8/c8e545780bb74948b21c811c0f231c95.png"><img src="https://img.it610.com/image/info8/c8e545780bb74948b21c811c0f231c95.png" alt="image" /></a></p>

<h3 id="11-屏幕录像">11、屏幕录像</h3>

<p>开始录像 adb shell screenrecord /sdcard/demo.mp4</p>

<p>结束录像 ctrl+c</p>

<p><img src="https://img.it610.com/image/info8/ba1bc37c82f541f79c73eb745800b61c.jpg" alt="image" /></p>

<h3 id="12-屏幕截图">12、屏幕截图</h3>

<p>截图 adb shell screencap -p /sdcard/1.png</p>

<p>复制到本地电脑 adb shell pull /sdcard/1.png 本地路径</p>

<h2 id="二-adb-shell常用命令">二、ADB SHELL常用命令</h2>

<p>输入adb shell命令后即可使用Linux系统下的一些命令像ls、cd、cat、mkdir等等</p>

<h3 id="1-ls命令">1、ls命令</h3>

<h3 id="2-列出安装程序列表">2、列出安装程序列表</h3>

<p>pm list packages</p>

<p><a href="https://img.it610.com/image/info8/9c2a4f7f19684d5c91237f962e8fa990.jpg"><img src="https://img.it610.com/image/info8/9c2a4f7f19684d5c91237f962e8fa990.jpg" alt="【原创】Android开发之ADB及ADB
SHELl命令的应用_第1张图片" /></a></p>

<h3 id="3-查看一个apk所在的路径">3、查看一个apk所在的路径</h3>

<p>pm path 包名</p>

<p><a href="https://img.it610.com/image/info8/f29c110beed248c38e46f92c65361312.jpg"><img src="https://img.it610.com/image/info8/f29c110beed248c38e46f92c65361312.jpg" alt="image" /></a></p>

<p>4、</p>

<h2 id="三-adb-help">三、ADB HELP</h2>

<pre><code>   1: Android Debug Bridge version 1.0.31


   2:  


   3:  -a                            - directs adb to listen on all interfaces for a connection


   4:  -d                            - directs command to the only connected USB device returns an error if more than one USB device is present.


   5:  -e                            - directs command to the only running emulator.returns an error if more than one emulator is running.


   6:  -s           - directs command to the device or emulator with the given serial number or qualifier. Overrides ANDROID_SERIAL environment variable.


   7:  -p      - simple product name like 'sooner', or a relative/absolute path to a product


   8:                                  out directory like 'out/target/product/sooner'.


   9:                                  If -p is not specified, the ANDROID_PRODUCT_OUT


  10:                                  environment variable is used, which must


  11:                                  be an absolute path.


  12:  -H                            - Name of adb server host (default: localhost)


  13:  -P                            - Port of adb server (default: 5037)


  14:  devices [-l]                  - list all connected devices


  15:                                  ('-l' will also list device qualifiers)


  16:  connect [:]       - connect to a device via TCP/IP


  17:                                  Port 5555 is used by default if no port number is specified.


  18:  disconnect [[:]]  - disconnect from a TCP/IP device.


  19:                                  Port 5555 is used by default if no port number is specified.


  20:                                  Using this command with no additional arguments


  21:  


  22:                                  will disconnect from all connected TCP/IP devices.


  23:  


  24: device commands:


  25:   adb push      - copy file/dir to device


  26:   adb pull  []  - copy file/dir from device


  27:   adb sync [  ]     - copy host-&gt;device only if changed


  28:                                  (-l means list but don't copy)


  29:                                  (see 'adb help all')


  30:   adb shell                    - run remote shell interactively


  31:   adb shell           - run remote shell command


  32:   adb emu             - run emulator console command


  33:   adb logcat [  ] - View device log


  34:   adb forward --list           - list all forward socket connections.


  35:                                  the format is a list of lines with the following format:


  36:                                      &quot; &quot;  &quot; &quot;  &quot;\n&quot;


  37:   adb forward   - forward socket connections


  38:                                  forward specs are one of:


  39:                                    tcp:


  40:                                    localabstract:


  41:                                    localreserved:


  42:                                    localfilesystem:


  43:                                    dev:


  44:                                    jdwp: (remote only)


  45:   adb forward --no-rebind  


  46:                                - same as 'adb forward  ' but fails


  47:                                  if  is already forwarded


  48:   adb forward --remove  - remove a specific forward socket connection


  49:   adb forward --remove-all     - remove all forward socket connections


  50:   adb jdwp                     - list PIDs of processes hosting a JDWP transport


  51:  


  52:   adb install [-l] [-r] [-s] [--algo  --key  --iv ] 


  53:                                - push this package file to the device and install it


  54:                                  ('-l' means forward-lock the app)


  55:                                  ('-r' means reinstall the app, keeping its data)


  56:                                  ('-s' means install on SD card instead of internal storage)


  57:                                  ('--algo', '--key', and '--iv' mean the file is encrypted already)


  58:   adb uninstall [-k]  - remove this app package from the device


  59:                                  ('-k' means keep the data and cache directories)


  60:   adb bugreport                - return all information from the device


  61:                                  that should be included in a bug report.


  62:  


  63:   adb backup [-f ] [-apk|-noapk] [-obb|-noobb] [-shared|-noshared] [-all]


  64: [-system|-nosystem] []


  65:                                - write an archive of the device's data to 


  66: .


  67:                                  If no -f option is supplied then the data is written


  68:                                  to &quot;backup.ab&quot; in the current directory.


  69:                                  (-apk|-noapk enable/disable backup of the .apks themselves


  70:                                     in the archive; the default is noapk.)


  71:                                  (-obb|-noobb enable/disable backup of any installed apk expansion


  72:                                     (aka .obb) files associated with each application; the default


  73:                                     is noobb.)


  74:                                  (-shared|-noshared enable/disable backup of the device's


  75:                                     shared storage / SD card contents; the default is noshared.)


  76:                                  (-all means to back up all installed applications)


  77:                                  (-system|-nosystem toggles whether -all automatically includes


  78:                                     system applications; the default is to include system apps)


  79:                                  ( is the list of applications to be backed up.  If


  80:                                     the -all or -shared flags are passed, then the package


  81:                                     list is optional.  Applications explicitly given on the


  82:                                     command line will be included even if -nosystem would


  83:                                     ordinarily cause them to be omitted.)


  84:  


  85:   adb restore            - restore device contents from the  backup archive


  86:  


  87:   adb help                     - show this help message


  88:   adb version                  - show version num


  89:  


  90: scripting:


  91:   adb wait-for-device          - block until device is online


  92:   adb start-server             - ensure that there is a server running


  93:   adb kill-server              - kill the server if it is running


  94:   adb get-state                - prints: offline | bootloader | device


  95:   adb get-serialno             - prints: 


  96:   adb get-devpath              - prints: 


  97:   adb status-window            - continuously print device status for a specified device


  98:   adb remount                  - remounts the /system partition on the device read-write


  99:   adb reboot [bootloader|recovery] - reboots the device, optionally into the bootloader or recovery program


 100:   adb reboot-bootloader        - reboots the device into the bootloader


 101:   adb root                     - restarts the adbd daemon with root permissions


 102:   adb usb                      - restarts the adbd daemon listening on USB


 103:   adb tcpip              - restarts the adbd daemon listening on TCP on the specified port networking:


 104:   adb ppp  [parameters]   - Run PPP over USB.


 105:  Note: you should not automatically start a PPP connection.


 106:   refers to the tty for PPP stream. Eg. dev:/dev/omap_csmi_tty1


 107:  [parameters] - Eg. defaultroute debug dump local notty usepeerdns


 108:  


 109: adb sync notes: adb sync [  ]


 110:    can be interpreted in several ways:


 111:  


 112:   - If  is not specified, both /system and /data partitions will be updated.


 113:  


 114:   - If it is &quot;system&quot; or &quot;data&quot;, only the corresponding partition


 115:     is updated.


 116:  


 117: environmental variables:


 118:   ADB_TRACE                    - Print debug information. A comma separated list of the following values


 119:                                  1 or all, adb, sockets, packets, rwx, usb, sync, sysdeps, transport, jdwp


 120:   ANDROID_SERIAL               - The serial number to connect to. -s takes priority over this if given.


 121:   ANDROID_LOG_TAGS             - When used with the logcat option, only these debug tags are printed.
</code></pre>

<p>转载于:<a href="https://www.cnblogs.com/kavs/p/4516887.html">https://www.cnblogs.com/kavs/p/4516887.html</a></p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>