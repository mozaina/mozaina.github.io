<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>CentOS系列之shell | 开发者问答集锦</title>
    <meta property="og:title" content="CentOS系列之shell - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="CentOS系列之shell">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/centos%E7%B3%BB%E5%88%97%E4%B9%8Bshell/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">CentOS系列之shell</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<ul>
<li>shell初步

<ul>
<li>基础命令

<ul>
<li>1列出文件和文件夹ls</li>
<li>2显示当前目录的路径pwd</li>
<li>3切换目录cd</li>
<li>4将文件时间修改为当前时间touch</li>
<li>5创建新的空文件touch</li>
<li>6创建新目录mkdir</li>
<li>7复制文件cp oldPath newPath</li>
<li>8mv命令用来对文件或目录重新命名或者将文件从一个目录移到另一个目录中</li>
<li>9rm命令</li>
<li>10man命令</li>
<li>11runlevel命令</li>
<li>12chown命令</li>
<li>13chmod命令</li>
</ul></li>
<li>2关机重启注销命令

<ul>
<li>1shutdown 命令</li>
<li>2halt命令</li>
<li>3 PowerOff命令</li>
<li>4reboot命令</li>
</ul></li>
<li>3解压和打包

<ul>
<li>1tar命令</li>
<li>2gzip命令</li>
</ul></li>
<li>更新中</li>
</ul></li>
</ul>

<h1 id="shell初步">shell初步</h1>

<blockquote>
<p>在Linux系统中，一切都是文件。在Linux系统中，一切都是文件。与Windows和Mac
OS不同，Linux对于文件名是区分大小写的。当为文件和目录命名时，每种操作系统都会有一些禁止使用的字<br />
 符。例如，在Mac OS中不允许使用冒号（：）；而Windows中则不能使<br />
 用反斜杠字符（\）。Linux中也有一些禁止使用的字符。</p>
</blockquote>

<h2 id="1-基础命令">1.基础命令</h2>

<h3 id="1-1-列出文件和文件夹-ls">1.1、列出文件和文件夹(ls)</h3>

<blockquote>
<p>ls：列出目录中的文件和子目录。</p>
</blockquote>

<ul>
<li><p>使用通配符列出文件夹的内容</p>

<h1 id="查询出后缀名为-tgz的文件">查询出后缀名为.tgz的文件</h1>

<p>[root@VM_140_90_centos ~]# ls *.tgz
Python-3.6.4.tgz</p></li>

<li><p>ls -R： 查看子文件夹中的文件列表（R参数）</p></li>

<li><p>ls -l （ll）：以单独一列显示内容</p></li>

<li><p>ls -m：一种显示格式选择就是 -m 选项（或 –format=commas ）</p></li>

<li><p>ls -a：查看隐藏的文件和文件夹</p></li>

<li><p>ls -F：显示文件的类型</p></li>

<li><p>ls -color：用不同的颜色显示内容</p></li>

<li><p>ls -r：以相反的顺序显示列表内容</p></li>

<li><p>ls -X：按文件的扩展名排序</p></li>

<li><p>ls -t：按日期和时间排序</p></li>

<li><p>ls -S：按文件大小进行排序</p></li>

<li><p>ls -h：用 K、M 和 G 显示文件大小</p></li>
</ul>

<h3 id="1-2-显示当前目录的路径-pwd">1.2、显示当前目录的路径（pwd）</h3>

<blockquote>
<p>pwd 命令显示当前目录（或工作目录）的完整的绝对路径。</p>
</blockquote>

<h3 id="1-3-切换目录-cd">1.3、切换目录(cd)</h3>

<ul>
<li>cd ~：切换到 home 目录</li>
<li>cd -：切换到以前的目录</li>
</ul>

<h3 id="1-4-将文件时间修改为当前时间-touch">1.4、将文件时间修改为当前时间(touch)</h3>

<blockquote>
<p>只有获得修改文件的权限，才可以对文件使用 touch 命令，修<br />
 改它的时间。否则， touch 命令会运行失败。<br />
 - 将文件时间修改为想要的任意时间</p>
</blockquote>

<pre><code>$ ls -l
-rw-r--r-- 239 2005-10-19 14:00 wireless.log
$ touch -t 197002160701 wireless.log
$ ls -l
-rw-r--r-- 239 1970-02-16 07:01 wireless.log
$ touch -t 9212310000 wireless.log
$ls -l
-rw-r--r-- 239 1992-12-31 00:00 wireless.log
</code></pre>

<h3 id="1-5-创建新的空文件-touch">1.5、创建新的空文件（touch）</h3>

<blockquote>
<p>它将使用你指定的文件名来生成一个空文件。</p>
</blockquote>

<h3 id="1-6-创建新目录-mkdir">1.6、创建新目录（mkdir）</h3>

<blockquote>
<p>touch 命令能够创建空文件，但是如何创建新文件夹呢？使用mkdir 命令就能解决这个问题。</p>
</blockquote>

<ul>
<li>mkdir -p：递归创建子目录</li>

<li><p>看看 mkdir 到底做了什么</p>

<p>[root@VM_140_90_centos public]# mkdir aaa -v
mkdir: created directory `aaa&rsquo;</p></li>
</ul>

<h3 id="1-7-复制文件-cp-oldpath-newpath">1.7、复制文件（cp oldPath newPath）</h3>

<blockquote>
<p>复制文件是计算机用户经常做的工作之一，更不用说OS了。Linuxshell使用的各命令中，最棒的命令之一就是 cp ，它用于复制文件和目录。使用 cp
命令最简单的方法就是输入命令，后面再输入你想复制的文件，然后是被复制文件的新名称。可以把该命令的结构看作是“ cp正在从哪复制的文件
正在复制到哪的文”。这种关系的另一种常见表达方式是“ cp 源文件目标文件”。- 使用通配符复制文件</p>
</blockquote>

<ul>
<li>cp *：使用通配符复制文件，复制所有文件</li>
<li>cp -v：复制文件时显示执行过程</li>
<li>cp -i：防止复制时覆盖重要的文件</li>
<li>cp -R：复制目录</li>
<li>cp -a：复制文件到其他目录以作为完整的备份</li>
</ul>

<h3 id="1-8-mv命令用来对文件或目录重新命名-或者将文件从一个目录移到另一个目录中">1.8、mv命令用来对文件或目录重新命名，或者将文件从一个目录移到另一个目录中。</h3>

<blockquote>
<p>如果目标文件是到某一目录文件的路径，源文件会被移到此目录下，且文件名不变。</p>

<p>如果目标文件不是目录文件，则源文件名（只能有一个）会变为此目标文件名，并覆盖己存在的同名文件。如果源文件和目标文件在同一个目录下，mv的作用就是改文件名。当目标文件是目录文件时，源文件或目录参数可以有多个，则所有的源文件都会被移至目标文件中。所有移到该目录下的文件都将保留以前的文件名。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>mv(选项)(参数)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>–backup=：若需覆盖文件，则覆盖前先行备份；<br />
 -b：当文件存在时，覆盖前，为其创建一个备份；<br />
 -f：若目标文件或目录与现有的文件或目录重复，则直接覆盖现有的文件或目录；</p>

<p>-i：交互式操作，覆盖前先行询问用户，如果源文件与目标文件或目标目录中的文件同名，则询问用户是否覆盖目标文件。用户输入”y”，表示将覆盖目标文件；输入”n”，表示取消对源文件的移动。这样可以避免误将文件覆盖。<br />
 –strip-trailing-slashes：删除源文件中的斜杠“/”；<br />
 -S：为备份文件指定后缀，而不使用默认的后缀；<br />
 –target-directory=：指定源文件要移动到目标目录；<br />
 -u：当源文件比目标文件新或者目标文件不存在时，才执行移动操作。</p>
</blockquote>

<ul>
<li>参数</li>
</ul>

<blockquote>
<pre><code>* 源文件：源文件列表。
* 目标文件：如果“目标文件”是文件名则在移动文件的同时，将其改名为“目标文件”；如果“目标文件”是目录名则将源文件移动到“目标文件”下。
</code></pre>
</blockquote>

<ul>
<li>实例</li>
</ul>

<blockquote>
<p>将文件ex3改名为new1<br />
 mv ex3 new1</p>
</blockquote>

<h3 id="1-9-rm命令">1.9、rm命令</h3>

<blockquote>
<p>rm命令可以删除一个目录中的一个或多个文件或目录，也可以将某个目录及其下属的所有文件及其子目录均删除掉。对于链接文件，只是删除整个链接文件，而原有文件保持不变。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>rm (选项)(参数)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>-d：直接把欲删除的目录的硬连接数据删除成0，删除该目录；<br />
 -f：强制删除文件或目录；<br />
 -i：删除已有文件或目录之前先询问用户；<br />
 -r或-R：递归处理，将指定目录下的所有文件与子目录一并处理；<br />
 –preserve-root：不对根目录进行递归操作；<br />
 -v：显示指令的详细执行过程。</p>
</blockquote>

<ul>
<li>参数</li>
</ul>

<blockquote>
<p>文件：指定被删除的文件列表，如果参数中含有目录，则必须加上-r或者-R选项。</p>
</blockquote>

<ul>
<li>实例</li>
</ul>

<blockquote>
<p>rm -i test example<br />
 Remove test ?n（不删除文件test)<br />
 Remove example ?y（删除文件example)</p>
</blockquote>

<h3 id="1-10-man命令">1.10、man命令</h3>

<blockquote>
<p>man命令是Linux下的帮助指令，通过man指令可以查看Linux中的指令帮助、配置文件帮助和编程帮助等信息。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>man(选项)(参数)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>-a：在所有的man帮助手册中搜索；<br />
 -f：等价于whatis指令，显示给定关键字的简短描述信息；<br />
 -P：指定内容时使用分页程序；<br />
 -M：指定man手册搜索的路径。</p>
</blockquote>

<ul>
<li>参数</li>
</ul>

<blockquote>
<pre><code>* 数字：指定从哪本man手册中搜索帮助；
* 关键字：指定要搜索帮助的关键字。
</code></pre>
</blockquote>

<h3 id="1-11-runlevel命令">1.11、runlevel命令</h3>

<blockquote>
<p>runlevel命令用于打印当前Linux系统的运行等级。</p>
</blockquote>

<ul>
<li>在大多数的linux发行版本中，通常有8个runlevel：<br /></li>
</ul>

<blockquote>
<p>0 停机<br />
 1 单用户模式<br />
 2 多用户，没有 NFS<br />
 3 完全多用户模式<br />
 4 没有用到<br />
 5 图形界面<br />
 6 重新启动</p>
</blockquote>

<h3 id="1-12-chown命令">1.12、chown命令</h3>

<blockquote>
<p>chown命令改变某个文件或目录的所有者和所属的组，该命令可以向某个用户授权，使该用户变成指定文件的所有者或者改变文件所属的组。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>chown(选项)(参数)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>-c或——changes：效果类似“-v”参数，但仅回报更改的部分；<br />
 -f或–quite或——silent：不显示错误信息；<br />
 -h或–no-dereference：只对符号连接的文件作修改，而不更改其他任何相关文件；<br />
 -R或——recursive：递归处理，将指定目录下的所有文件及子目录一并处理；<br />
 -v或——version：显示指令执行过程；<br />
 –dereference：效果和“-h”参数相同；<br />
 –help：在线帮助；<br />
 –reference=：把指定文件或目录的拥有者与所属群组全部设成和参考文件或目录的拥有者与所属群组相同；<br />
 –version：显示版本信息。</p>
</blockquote>

<ul>
<li>参数</li>
</ul>

<blockquote>
<p>用户：组：指定所有者和所属工作组。当省略“：组”，仅改变文件所有者；<br />
 文件：指定要改变所有者和工作组的文件列表。支持多个文件和目标，支持shell通配符。</p>
</blockquote>

<ul>
<li>实例</li>
</ul>

<blockquote>
<p>将目录/usr/meng及其下面的所有文件、子目录的文件主改成 liu：<br />
 chown -R liu /usr/meng</p>
</blockquote>

<h3 id="1-13-chmod命令">1.13、chmod命令</h3>

<blockquote>
<p>chmod命令用来变更文件或目录的权限。</p>
</blockquote>

<ul>
<li>权限范围的表示法如下：</li>
</ul>

<blockquote>
<p>u User，即文件或目录的拥有者；<br />
 g Group，即文件或目录的所属群组；<br />
 o Other，除了文件或目录拥有者或所属群组之外，其他用户皆属于这个范围；<br />
 a All，即全部的用户，包含拥有者，所属群组以及其他用户；<br />
 r 读取权限，数字代号为“4”;<br />
 w 写入权限，数字代号为“2”；<br />
 x 执行或切换权限，数字代号为“1”；<br />
 -不具任何权限，数字代号为“0”；<br />
 s 特殊功能说明：变更文件或目录的权限。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>chmod(选项)(参数)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>-c或——changes：效果类似“-v”参数，但仅回报更改的部分；<br />
 -f或–quiet或——silent：不显示错误信息；<br />
 -R或——recursive：递归处理，将指令目录下的所有文件及子目录一并处理；<br />
 -v或——verbose：显示指令执行过程；<br />
 –reference=：把指定文件或目录的所属群组全部设成和参考文件或目录的所属群组相同；<br />
 +：开启权限范围的文件或目录的该选项权限设置；<br />
 -：关闭权限范围的文件或目录的该选项权限设置；<br />
 =：指定权限范围的文件或目录的该选项权限设置；</p>
</blockquote>

<ul>
<li>参数</li>
</ul>

<blockquote>
<p>权限模式：指定文件的权限模式；<br />
 文件：要改变权限的文件。</p>
</blockquote>

<ul>
<li>实例</li>
</ul>

<blockquote>
<p>chown user:market f01 //把文件f01给uesr，添加到market组</p>
</blockquote>

<h2 id="2-关机重启注销命令">2、关机重启注销命令</h2>

<h3 id="2-1-shutdown-命令">2.1、shutdown 命令</h3>

<blockquote>
<p>shutdown命令用来系统关机命令。shutdown指令可以关闭所有程序，并依用户的需要，进行重新开机或关机的动作。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>shutdown(选项)(参数)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>-c：当执行“shutdown -h 11:50”指令时，只要按+键就可以中断关机的指令；<br />
 -f：重新启动时不执行fsck；<br />
 -F：重新启动时执行fsck；<br />
 -h：将系统关机；<br />
 -k：只是送出信息给所有用户，但不会实际关机；<br />
 -n：不调用init程序进行关机，而由shutdown自己进行；<br />
 -r：shutdown之后重新启动；<br />
 -t：送出警告信息和删除信息之间要延迟多少秒。</p>
</blockquote>

<ul>
<li>参数</li>
</ul>

<blockquote>
<pre><code>* [时间]：设置多久时间后执行shutdown指令；
* [警告信息]：要传送给所有登入用户的信息。
</code></pre>
</blockquote>

<ul>
<li>实例</li>
</ul>

<blockquote>
<pre><code>* 立即关机： shutdown -h now
* 指定5分钟后关机，同时送出警告信息给登入用户：shutdown +5 “System will shutdown after 5
</code></pre>

<p>minutes”</p>
</blockquote>

<h3 id="2-2-halt命令">2.2、halt命令</h3>

<blockquote>
<p>halt命令用来关闭正在运行的Linux操作系统。halt命令会先检测系统的runlevel，若runlevel为0或6，则关闭系统，否则即调用shutdown来关闭系统。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>halt(选项)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>-d：不要在wtmp中记录；<br />
 -f：不论目前的runlevel为何，不调用shutdown即强制关闭系统；<br />
 -i：在halt之前，关闭全部的网络界面；<br />
 -n：halt前，不用先执行sync；<br />
 -p：halt之后，执行poweroff；<br />
 -w：仅在wtmp中记录，而不实际结束系统。</p>
</blockquote>

<ul>
<li>实例</li>
</ul>

<blockquote>
<p>halt -p //关闭系统后关闭电源。<br />
 halt -d //关闭系统，但不留下纪录。</p>
</blockquote>

<h3 id="2-3-poweroff命令">2.3、 PowerOff命令</h3>

<blockquote>
<p>poweroff命令用来关闭计算机操作系统并且切断系统电源。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>poweroff(选项)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>-n：关闭操作系统时不执行sync操作；<br />
 -w：不真正关闭操作系统，仅在日志文件“/var/log/wtmp”中；<br />
 -d：关闭操作系统时，不将操作写入日志文件“/var/log/wtmp”中添加相应的记录；<br />
 -f：强制关闭操作系统；<br />
 -i：关闭操作系统之前关闭所有的网络接口；<br />
 -h：关闭操作系统之前将系统中所有的硬件设置为备用模式。</p>
</blockquote>

<ul>
<li>实例</li>
</ul>

<blockquote>
<p>如果确认系统中已经没有用户存在且所有数据都已保存，需要立即关闭系统，可以使用poweroff命令。</p>
</blockquote>

<ul>
<li>使用poweroff立即关闭系统：poweroff</li>
</ul>

<h3 id="2-4-reboot命令">2.4、reboot命令</h3>

<blockquote>
<p>reboot命令用来重新启动正在运行的Linux操作系统。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>reboot(选项)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>-d：重新开机时不把数据写入记录文件/var/tmp/wtmp。本参数具有“-n”参数效果；<br />
 -f：强制重新开机，不调用shutdown指令的功能；<br />
 -i：在重开机之前，先关闭所有网络界面；<br />
 -n：重开机之前不检查是否有未结束的程序；<br />
 -w：仅做测试，并不真正将系统重新开机，只会把重开机的数据写入/var/log目录下的wtmp记录文件。</p>
</blockquote>

<ul>
<li>实例</li>
</ul>

<blockquote>
<p>reboot //重开机。<br />
 reboot -w //做个重开机的模拟（只有纪录并不会真的重开机）。</p>
</blockquote>

<h2 id="3-解压和打包">3、解压和打包</h2>

<h3 id="3-1-tar命令">3.1、tar命令</h3>

<blockquote>
<p>tar命令可以为linux的文件和目录创建档案。利用tar，可以为某一特定文件创建档案（备份文件），也可以在档案中改变文件，或者向档案中加入新的文件。tar最初被用来在磁带上创建档案，现在，用户可以在任何设备上创建档案。利用tar命令，可以把一大堆的文件和目录全部打包成一个文件，这对于备份文件或将几个文件组合成为一个文件以便于网络传输是非常有用的。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>tar(选项)(参数)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>-A或–catenate：新增文件到以存在的备份文件；<br />
 -B：设置区块大小；<br />
 -c或–create：建立新的备份文件；<br />
 -C ：这个选项用在解压缩，若要在特定目录解压缩，可以使用这个选项。<br />
 -d：记录文件的差别；<br />
 -x或–extract或–get：从备份文件中还原文件；<br />
 -t或–list：列出备份文件的内容；<br />
 -z或–gzip或–ungzip：通过gzip指令处理备份文件；<br />
 -Z或–compress或–uncompress：通过compress指令处理备份文件；<br />
 -f或–file=：指定备份文件；<br />
 -v或–verbose：显示指令执行过程；<br />
 -r：添加文件到已经压缩的文件；<br />
 -u：添加改变了和现有的文件到已经存在的压缩文件；<br />
 -j：支持bzip2解压文件；<br />
 -v：显示操作过程；<br />
 -l：文件系统边界设置；<br />
 -k：保留原有文件不覆盖；<br />
 -m：保留文件不被覆盖；<br />
 -w：确认压缩文件的正确性；<br />
 -p或–same-permissions：用原来的文件权限还原文件；<br />
 -P或–absolute-names：文件名使用绝对名称，不移除文件名称前的“/”号；<br />
 -N 或 –newer=：只将较指定日期更新的文件保存到备份文件里；<br />
 –exclude=：排除符合范本样式的文件。</p>
</blockquote>

<ul>
<li>参数</li>
</ul>

<blockquote>
<p>文件或目录：指定要打包的文件或目录列表。</p>
</blockquote>

<ul>
<li><p>实例</p>

<ul>
<li>将文件全部打包成tar包</li>
</ul></li>
</ul>

<blockquote>
<p>tar -cvf log.tar log2012.log 仅打包，不压缩！<br />
 tar -zcvf log.tar.gz log2012.log 打包后，以 gzip 压缩<br />
 tar -jcvf log.tar.bz2 log2012.log 打包后，以 bzip2 压缩</p>
</blockquote>

<pre><code>* 查阅上述tar包内有哪些文件：
</code></pre>

<blockquote>
<p>tar -ztvf log.tar.gz</p>

<p>注：由于我们使用 gzip 压缩的log.tar.gz，所以要查阅log.tar.gz包内的文件时，就得要加上z这个选项了。</p>
</blockquote>

<pre><code>* 将tar包解压缩：
</code></pre>

<blockquote>
<p>tar -zxvf /opt/soft/test/log.tar.gz</p>
</blockquote>

<pre><code>* 只将tar内的部分文件解压出来：
</code></pre>

<blockquote>
<p>tar -zxvf /opt/soft/test/log30.tar.gz log2013.log</p>
</blockquote>

<pre><code>* 文件备份下来，并且保存其权限：
</code></pre>

<blockquote>
<p>tar -zxvf /opt/soft/test/log30.tar.gz log2013.log</p>
</blockquote>

<pre><code>* 在文件夹当中，比某个日期新的文件才备份：
</code></pre>

<blockquote>
<p>tar -zcvpf log31.tar.gz log2014.log log2015.log log2016.log</p>
</blockquote>

<pre><code>* 备份文件夹内容是排除部分文件：
</code></pre>

<blockquote>
<p>tar -N “2012/11/13” -zcvf log17.tar.gz test</p>
</blockquote>

<pre><code>* 其实最简单的使用 tar 就只要记忆底下的方式即可：
</code></pre>

<blockquote>
<p>压 缩：tar -jcv -f filename.tar.bz2 要被压缩的文件或目录名称<br />
 查 询：tar -jtv -f filename.tar.bz2<br />
 解压缩：tar -jxv -f filename.tar.bz2 -C 欲解压缩的目录</p>

<p>注：首先要弄清两个概念：打包和压缩。打包是指将一大堆文件或目录变成一个总的文件；压缩则是将一个大的文件通过一些压缩算法变成一个小文件。</p>
</blockquote>

<h3 id="3-2-gzip命令">3.2、gzip命令</h3>

<blockquote>
<p>gzip命令用来压缩文件。gzip是个使用广泛的压缩程序，文件经它压缩过后，其名称后面会多处“.gz”扩展名。</p>
</blockquote>

<ul>
<li>语法</li>
</ul>

<blockquote>
<p>gzip(选项)(参数)</p>
</blockquote>

<ul>
<li>选项</li>
</ul>

<blockquote>
<p>-a或——ascii：使用ASCII文字模式；<br />
 -d或–decompress或—-uncompress：解开压缩文件；<br />
 -f或——force：强行压缩文件。不理会文件名称或硬连接是否存在以及该文件是否为符号连接；<br />
 -h或——help：在线帮助；<br />
 -l或——list：列出压缩文件的相关信息；<br />
 -L或——license：显示版本与版权信息；<br />
 -n或–no-name：压缩文件时，不保存原来的文件名称及时间戳记；<br />
 -N或——name：压缩文件时，保存原来的文件名称及时间戳记；<br />
 -q或——quiet：不显示警告信息；<br />
 -r或——recursive：递归处理，将指定目录下的所有文件及子目录一并处理；<br />
 -S或或—-suffix：更改压缩字尾字符串；<br />
 -t或——test：测试压缩文件是否正确无误；<br />
 -v或——verbose：显示指令执行过程；<br />
 -V或——version：显示版本信息；<br />
 -：压缩效率是一个介于1~9的数值，预设值为“6”，指定愈大的数值，压缩效率就会愈高；<br />
 –best：此参数的效果和指定“-9”参数相同；<br />
 –fast：此参数的效果和指定“-1”参数相同。</p>
</blockquote>

<ul>
<li>参数</li>
</ul>

<blockquote>
<p>文件列表：指定要压缩的文件列表。</p>
</blockquote>

<ul>
<li><p>实例</p>

<ul>
<li>把test6目录下的每个文件压缩成.gz文件</li>
</ul></li>
</ul>

<blockquote>
<p>gzip *</p>
</blockquote>

<pre><code>* 把上例中每个压缩的文件解压，并列出详细的信息：
</code></pre>

<blockquote>
<p>gzip -dv *</p>
</blockquote>

<pre><code>* 详细显示例1中每个压缩的文件的信息，并不解压：
</code></pre>

<blockquote>
<p>gzip -l *</p>
</blockquote>

<pre><code>* 压缩一个tar备份文件，此时压缩文件的扩展名为.tar.gz：
</code></pre>

<blockquote>
<p>gzip -r log.tar</p>
</blockquote>

<pre><code>* 递归的压缩目录：
</code></pre>

<blockquote>
<p>gzip -rv test6</p>

<p>注： 这样，所有test下面的文件都变成了
<em>.gz，目录依然存在只是目录里面的文件相应变成了</em>.gz.这就是压缩，和打包不同。因为是对目录操作，所以需要加上-
r选项，这样也可以对子目录进行递归了。</p>
</blockquote>

<pre><code>* 递归地解压目录
</code></pre>

<blockquote>
<p>gzip -dr test6</p>
</blockquote>

<h2 id="更新中">更新中…</h2>

<blockquote>
<p>本博客全部是根据个人经验和参考<a href="http://man.linuxde.net/编写而成">http://man.linuxde.net/编写而成</a></p>
</blockquote>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>