<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>linuxshell编程控制结构exprletforwhileuntilshiftifcasebreakcontinue函数select学习笔记 | 开发者问答集锦</title>
    <meta property="og:title" content="linuxshell编程控制结构exprletforwhileuntilshiftifcasebreakcontinue函数select学习笔记 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="linuxshell编程控制结构exprletforwhileuntilshiftifcasebreakcontinue函数select学习笔记">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%8E%A7%E5%88%B6%E7%BB%93%E6%9E%84exprletforwhileuntilshiftifcasebreakcontinue%E5%87%BD%E6%95%B0select%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">linuxshell编程控制结构exprletforwhileuntilshiftifcasebreakcontinue函数select学习笔记</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p>SHELL编程一UNIX和Shell工具简介<br />
什么是shell？</p>

<p>shell只是一个程序，它在系统中没有特权。因此，有多个不同风格shell共同存在原因——Bourne Shell，Korn Shell，C Shell。</p>

<p>在shell输入命令，先分析用户键入的每个命令，然后为执行程序作初始化。</p>

<p>Shell有自己的内部程序设计语言，这种语言是解释型的，shell用这种语言解释命令行的每一条语句，然后执行。</p>

<p>C等编译型语言，一般是先编译成可执行文件再执行。</p>

<p>1）正规表达式</p>

<p>. 匹配任意字符</p>

<p>ed files， ed 编辑命令</p>

<p>^contents 匹配行首符号</p>

<p>contents$ 匹配文件尾</p>

<p>[&hellip;] 匹配[]内的字符之一</p>

<ul>
<li>配额0个或多个任意字符</li>
</ul>

<p>\{&hellip;\}：x\{&hellip;\}匹配精确数目的字符串</p>

<p>\(&hellip;\): 保存匹配的字符串</p>

<p>2）cut</p>

<p>cut -cN file</p>

<p>cut -dchar -fN file</p>

<p>char是分割符</p>

<p>N 从第1 个开始数的第N 个字节、字符或域</p>

<p>N- 从第N 个开始到所在行结束的所有字符、字节或域<br />
N-M 从第N 个开始到第M 个之间(包括第M 个)的所有字符、字节或域<br />
-M 从第1 个开始到第M 个之间(包括第M 个)的所有字符、字节或域<br />
3）paste命令</p>

<p>paste file1 file2 file3 ,将三个文件的内容连接起来，直接在对应的每一行后连接而不是在第一个文件末尾连接</p>

<p>paste -d‘char’ file1,file2</p>

<p>-d是 可选参数，文件连接的时候的默认分隔符是制表符，我们可以用-d来设定我们想要的字符，其中char的单引号最好是有，没大部分情况也是行的。</p>

<p>paste -d&rsquo;char&rsquo; -s file,-s告诉paste把同一个文件file的行用char连在一起</p>

<p>4）sed 用来编辑数据的程序，指的是流编辑器，与ed的区别是其不能用于交互</p>

<p>sed &rsquo;s/char1/char2/d&rsquo;
file,将file里面的每一个char1替换成char2,只有s的话只会将每行的第一个char2替换，加上g会将所有的char2替换</p>

<p>sed -n &lsquo;1,2p&rsquo; file,选项-n表示没有显式要求的话不显示任意一行，显式指定用p命令来实现，该命令表示输出file的1-2行</p>

<p>sed -n &lsquo;/char/p&rsquo; file，显示包含单词char的行</p>

<p>sed ‘1,2d’file，删除file文件的1-2行</p>

<p>5）tr 过滤器tr用于转换来自标准输入的字符</p>

<p>tr from-chars to-chars，from-chars 和to-chars都是一个或多个字符，输入的任意在from-chars的字符转换成to-
chars中的字符</p>

<p>tr a b &lt; file, 将file中的a全部转成b</p>

<p>tr &lsquo;[a-z]&rsquo; &lsquo;[A-Z]&rsquo; &lt; file, 小写都换成大写</p>

<p>tr -s &lsquo;:&rsquo; &lsquo; &rsquo; &lt; file，假设有连续的多个：，假如没有-s，那么出来的结果将会是压缩成一个&rsquo; &lsquo;。</p>

<p>tr -d &lsquo;:&rsquo; &lt; file ,删除输入流中的：</p>

<p>6）grep 可以搜索一个或多个文件中特定的字符串模式</p>

<p>grep char files</p>

<p>grep -v char file 显示不包含char的行</p>

<p>grep -l char * ，显示包含char的文件名</p>

<p>grep -n char file， 显示行号</p>

<p>7）sort 对输入文件的每一行排序，默认升序</p>

<p>-u 去掉重复行</p>

<p>-r 降序排列</p>

<p>-o，输出重定向，跟&gt;很像，区别在于-o可以重定向为同一个文件，而&gt;不行</p>

<p>-n，按算术方法排序</p>

<p>8）uniq 查找并消除连续重复行</p>

<p>uniq file1</p>

<p>uniq file1 file2</p>

<p>uniq file -d，输出连续重复的行</p>

<p>uniq file -c，输出每行出现的次数</p>

<p>一、基础知识</p>

<p>Shell提供一个到UNIX系统的接口，它收集用户输入并根据输入执行程序，并显示程序的输出。有时被叫做命令解释器。</p>

<p>1、命令：简单命令、复杂命令（带参数）、复合命令（分号隔开，如：who; ll）。</p>

<p>2、Shell类型：Bourne Shell(包括sh, ksh, bash)和C Shell(包括csh, tcsh)。</p>

<p>3、模式：交互式和非交互式。</p>

<p>交互式启动：$/bin/sh 退出：exit</p>

<p>非交互式启动：$/bin/sh filename</p>

<p>4、初始化文件 /etc/profile</p>

<p>使用的终端类型：TERM=vt100</p>

<p>定位命令列表：PATH=/bin:/usr/bin</p>

<p>定位命令帮助列表:MANPATH=/usr/man:/usr/share/man</p>

<p>5、执行 chmod a+x ./logins 例，内容为：</p>

<p>#!/bin/sh 位于第一行，而在其他行时#开头为注</p>

<p>who;ls;</p>

<p>6、文件操作：</p>

<p>ls –aF; cat filename; wc filename; cp -i source destination;</p>

<p>mv –i source destination; rm files;</p>

<p>7、目录操作：</p>

<p>pwd; cd directory; mkdir directory; cp - r source destination;</p>

<p>mv source destination; rmdir; rm –r;</p>

<p>8、文件属性操作：</p>

<p>符号链（相当于快捷方式或别名）创建：ln –s source destination</p>

<p>管道</p>

<p>chmod expression files; (r,w,x,o; 4读,2写,1执行)</p>

<p>chown改变一个文件的所有权; chown options user:group files</p>

<p>chgrp options group files</p>

<p>9、进程</p>

<p>前台进程，后台进程。启动后台进程在命令后面添加&amp;。</p>

<p>前移后：ctrl+z. 后移前：fg. 使后台进程持续运行：nohup</p>

<p>jobs(显示悬挂的及正在后台运行的进程) ps(正在运行的所有进程) kill</p>

<p>SHELL编程二<br />
二、编程</p>

<p>1、变量</p>

<p>定义：name=value (使用带空格的值时加引号)</p>

<p>访问：$name</p>

<p>例：FRUIT=apple $echo $FRUIT(结果为apple) $echo FRUIT(结果为FRUIT)</p>

<p>Bourne Shell只支持标量，Korn Shell中支持数组。</p>

<p>数组创建： name[index]=value 数组访问：${name[index]}</p>

<p>只读变量：readonly name</p>

<p>删除变量：unset name</p>

<p>局部变量（只在当前SHELL实例中存在），环境变量（SHELL任何子进程都能使用），SHELL变量（正确运行所必需，如PWD,PATH,HOME等）。</p>

<p>导出环境变量：export name</p>

<p>2、替换</p>

<p>（1）文件名替换通配符：*（匹配0个或多个）、？（匹配1个存在的任何字符）、[characters]。</p>

<p>匹配给出的字符，例ls test[0123456789].sql或ls test[0-9].sql 。匹配所有以字母或数字结尾的文件：ls *[a-z
A-Z 0-9]。</p>

<p>否定一个集合：如列出所有除a开头的文件，ls [!a]*。</p>

<p>（2）变量替换：</p>

<p>${parameter:-word} 若parameter为空或未设置，则用word代替，parameter值不变</p>

<p>${parameter:=word} 若parameter为空或未设置，则parameter设为值word</p>

<p>${parameter:?message} 若parameter为空或未设置，则message作为标准错误打印</p>

<p>${parameter:+word} 若parameter设置了，则用word代替，parameter值不变</p>

<p>（3）命令和算术替换</p>

<p>例：DATE=’date’ UP=’date; uptime’</p>

<p>foo:$((5+3)/2)</p>

<p>3、引用：关掉一个字符的特殊意义。</p>

<p>三种方式：/（关掉某个），’（关掉全部），”（关掉部份）。</p>

<p>例：echo Hello /; world 输出 Hello ; world</p>

<p>echo ‘<125.**>;(update)’ 输出<125.**>;(update)</p>

<p>双引号未关掉：$用于参数替换，后引号 ’用于命令替换，”， /。</p>

<p>4、流控制</p>

<p>（1）if语法：if list1</p>

<p>then list2</p>

<p>elif list3</p>

<p>then list4</p>

<p>else list5</p>

<p>fi</p>

<p>其中elif和else可选。</p>

<p>例：#!/bin/sh</p>

<p>Fruit=apple</p>

<p>F=b</p>

<p>if $Fruit&gt;$F;</p>

<p>then echo $Fruit</p>

<p>else echo $F</p>

<p>fi</p>

<p>使用test：test expression，可用文件测试、字符串比较、数字比较。</p>

<p>（2）case语法：case word in</p>

<p>pattern1) list1 ;;</p>

<p>Pattern2) list2 ;;</p>

<p>esac</p>

<p>其中;;类似于break。</p>

<p>例：#!/bin/sh</p>

<p>Fruit=apple</p>

<p>case “$Fruit” in</p>

<p>apple) echo “I like apple.” ;;</p>

<p>banana) echo “banana” ;;</p>

<p>esac</p>

<p>运行后输出I like apple.</p>

<p>条件可以运前之前学习的进行组合出复杂表达式。</p>

<p>5、循环</p>

<p>（1）while语法：while command</p>

<p>do list</p>

<p>done</p>

<p>例：输出1~10。</p>

<p>#!/bin/sh</p>

<p>x=1</p>

<p>while [ $x –le 10 ]</p>

<p>do</p>

<p>echo $x</p>

<p>x=$(($x+1))</p>

<p>done</p>

<p>还可以进行嵌套。</p>

<p>（2）until语法：until command</p>

<p>do list</p>

<p>done</p>

<p>（3）for语法：for name in word1 word2…wordN</p>

<p>do list</p>

<p>done</p>

<p>例：输出1~10。</p>

<p>#!/bin/sh</p>

<p>x=1</p>

<p>for x in 1 2 3 4 5 6 7 8 9 10</p>

<p>do</p>

<p>echo $x</p>

<p>done</p>

<p>（4）select语法：select name in word1 word2…wordN</p>

<p>do list</p>

<p>done</p>

<p>（5）break和continue。</p>

<p>6、参数（有些地方不明白）</p>

<p>处理参数和选项采用如下方法：使用case语句手工处理参数和选项，使用getopts处理选项。</p>

<p>（1）特殊变量</p>

<p>7、输入输出</p>

<p>1）向终端输出：echo、printf(格式化输出，位于/usr/bin中)</p>

<p>2）输出重定向：</p>

<p>“&gt;”（把输出的内容重定向到指定的文件中）</p>

<p>“&gt;&gt;”（把输出的内容追加到指定的文件尾部）</p>

<p>tee(同时重定向到屏幕和文件) ：command | tee file</p>

<p>3）输入重定向</p>

<p>Command &lt; file，例：Mail kony.sun@gmail.com &lt; File_Exam</p>

<p>Command &lt;&lt; delimiter</p>

<p>Document</p>

<p>Delimiter</p>

<p>4)读取用户输入</p>

<p>read name 直到用户输入回车为止。</p>

<p>5）管道</p>

<p>6）重定向到同一个文件</p>

<p>例：ll &gt;file1 &gt;&amp;file2</p>

<p>8、函数</p>

<p>1）创建和使用</p>

<p>name( ) { list; } 例如：ls1( ) { ls –l; }</p>

<p>cd( ) { chdir ${1:-$HOME }; PSI=” ’pwd’ $” ; export PSI; }</p>

<p>激活：$name</p>

<p>2）函数间协同工作并共享数据</p>

<p>略，P138</p>

<p>9、文本过滤器</p>

<p>1）最常用的有：head, tail, grep, sort, uniq, tr。</p>

<p>2）head格式：head [ -n lines ] files ，其中[ -n lines ]不写默认查看前10行，带的话指定前n行。</p>

<p>组合使用，例检索5个最常访问的文件：ls –l ut /home/public_html | head -5</p>

<p>3）tail格式：tail [ -n lines ] files ，其中[ -n lines ]不写默认查看后10行，带的话指定后n行。</p>

<p>4）grep格式：grep word file ，例：grep creat test2.sql test.sql</p>

<p>grep -i word file ，不考虑大小写。</p>

<p>grep -v word file/dir ，不包括该单词的。</p>

<p>grep -n word file ，一起写出行号。</p>

<p>grep -l word dir ，只列出包含它的文件名。</p>

<p>5）tr：将一个集合中的所有字符改变成别一个集合中的字符，也可用于删除字符集。</p>

<p>tr ‘set1’ ‘set2’</p>

<p>6）sort：为输入文件占的行进行分类。</p>

<p>例统计一个单词使用了多少次。</p>

<p>7）uniq：打印出文件中所有的唯一行。若某行多次，只打一个。</p>

<p>uniq filename</p>

<p>10、使用正规表达式过滤文本</p>

<p>1）command ‘script’ filenames</p>

<p>command是awk或sed，script是可以被awk或sed理解的命令清单，filenames表示命令所作用的文件清单。</p>

<p>2）正规表达式基本构造块包括：</p>

<p>普通字符：大小写字母、数字、字符。</p>

<p>元字符：.、*、[chars]、^、$、/。例：/a.c/匹配如a+c, a-c, abc行。</p>

<p>3）使用sed</p>

<p>/p打印，/d删除，/s/pattern1/pattern2将2代替1。</p>

<p>例：$sed ‘/0/.[0-9][0-9]$/p’ fruit_prices.txt ，告诉sed打印所有匹配模式/0/.[0-9][0-9]$的行。</p>

<p>11、使用awk过滤文本</p>

<p>编程语言。（见详解）</p>

<p>12、各种工具</p>

<p>1）eval命令：第二次处理命令行时使用。</p>

<p>2）：命令：返回一个完成代码0，用于指示命令成功完成。</p>

<p>3）type命令：告诉用户一个指定命令的全路径。</p>

<p>4）sleep命令：暂停给定秒数，sleep n</p>

<p>5）find命令：检索，find start-dir options actions，例find / -nme alpha –print</p>

<p>6）xargs命令：从标准输入接收单词并将其提供给给定命令作为参数，cat filelist | xargs rm。</p>

<p>7）expr命令：执行简单整数算术运算，$expr <sup>8</sup>&frasl;<sub>3</sub></p>

<p>8）bc命令：不局限于整数的算术工具。</p>

<p>9）remsh/rsh/rcmd/remote命令：远程Shell</p>

<p>SHELL编程三高级主题<br />
1、信号处理</p>

<p>1）信号位于C语言头文件signal.h中。</p>

<p>2、调试</p>

<p>3、使用函数解决问题</p>

<p>1）创建库</p>

<p>创建Shell函数库就像创建Shell脚本，主要区别是库只包含函数，而脚本包含函数和主代码。</p>

<p>2）使用库中包含的函数：.file</p>

<p>3）常见函数：printERROR, printWARNING, pringUSAGE, promptRESPONSE, getSpaceFree,
getSpaceUsed, getPID, getUID, toUpper, toLower, isSpaceAvailable, isUserRoot。</p>

<p>4、使用Shell脚本解决问题</p>

<p>5、脚本可移植性</p>

<p>1）判断unix版本：uname</p>

<p>操作系统发行版本号：uname –rs</p>

<p>硬件类型：uname –m</p>

<p>主机名：uname –n</p>

<p>2）提高可移植性技巧：条件执行和抽取。</p>

<p>6、Shell编程疑难解答</p>

<p>shell编程实例：<br />
1、expr计算整数变量值</p>

<p>格式 :expr arg</p>

<p>例子：计算（2＋3）×4的值<br />
1、分步计算，即先计算2＋3，再对其和乘4<br />
s=<code>expr 2 + 3</code><br />
expr $s \* 4<br />
2、一步完成计算：<br />
expr <code>expr 2 + 3</code> \* 4<br />
–说明：<br />
运算符号和参数之间要有空格分开；<br />
通配符号(*),在作为乘法运算符时要用\、“”、‘’符号修饰<br />
–:expr 3 \* 2 expr 3 “*” 2 expr 3 ‘*’ 2<br />
`(反引号)与键盘上的~同一个键上的符号</p>

<p>[fsy@localhost ~]$ s=<code>expr 2 + 3</code><br />
[fsy@localhost ~]$ echo $s<br />
5<br />
[fsy@localhost ~]$ expr $s \* 4<br />
20<br />
[fsy@localhost ~]$ expr <code>expr 2 + 3</code> \* 4<br />
20<br />
[fsy@localhost ~]$ expr 2 \* 3<br />
6<br />
[fsy@localhost ~]$ expr 2 &ldquo;<em>&rdquo; 3<br />
6<br />
[fsy@localhost ~]$ expr 2 &lsquo;</em>&rsquo; 3<br />
6<br />
[fsy@localhost ~]$ expr 2 * 3<br />
expr: 语法错误<br />
[fsy@localhost ~]$</p>

<p>2、let命令<br />
格式：let arg1 [arg2 &hellip;&hellip;]</p>

<p>说明：</p>

<p>与expr命令相比，let命令更简洁直观<br />
[ ]表示可以有多个参数，arg n (n=1,2…)<br />
运算符与操作数据之间不必用空格分开，但表达式与表达式之间必须要用空格分开<br />
当运算符中有、&amp;、|等符号时，同样需要用引号（单引号、双引号）或者斜杠来修饰运算符<br />
–例子：计算（2＋3）×4的值<br />
[fsy@localhost ~]$ let s=(2+3)*4<br />
[fsy@localhost ~]$ echo $s<br />
20<br />
[fsy@localhost ~]$<br />
3、for语句——坑爹的开始&hellip;&hellip; 和其他语言的for不同！</p>

<p>对一组参数进行一个操作<br />
语法格式：</p>

<p>for 变量 in 列表<br />
do<br />
命令行（通常用到循环变量）<br />
done<br />
说明：<br />
–“列表”为存储了一系列值的列表，随着循环的进行，变量从列表中的第一个值依次取到最后一个值；<br />
–do和done之间的命令通常为根据变量进行处理的一系列命令，这些命令每次循环都执行一次；<br />
–如果“ in 列表”部分省略掉，Bash则认为是“in $@”，即执行该程序时通过命令行传给程序的所有参数的列表。<br />
例1、自定义列表</p>

<p>#!/bin/bash</p>

<p>for var in one two three four five<br />
do<br />
echo &mdash;&mdash;<br />
echo &lsquo;$var is&rsquo; $var<br />
done</p>

<p>运行输出：</p>

<p>-&mdash;&ndash;<br />
$var is one<br />
-&mdash;&ndash;<br />
$var is two<br />
-&mdash;&ndash;<br />
$var is three<br />
-&mdash;&ndash;<br />
$var is four<br />
-&mdash;&ndash;<br />
$var is five</p>

<p>例2、以命令返回值作为列表</p>

<p>#!/bin/bash</p>

<p>for var in <code>ls</code><br />
do<br />
echo &mdash;&ndash;<br />
echo $var<br />
done</p>

<p>运行输出：</p>

<p>-&mdash;-<br />
abb<br />
-&mdash;-<br />
abc<br />
-&mdash;-<br />
a.out<br />
-&mdash;-<br />
a.sh<br />
-&mdash;-<br />
b.sh<br />
-&mdash;-<br />
hello.c<br />
-&mdash;-<br />
scripts<br />
-&mdash;-</p>

<p>例3、命令行参数指定为列表中的数值</p>

<p>#!/bin/bash</p>

<p>for var<br />
do<br />
echo &ldquo;It&rsquo;s $var&rdquo;<br />
done</p>

<p>运行输出：</p>

<p>[fsy@localhost ~]$ sh c.sh a b c d<br />
It&rsquo;s a<br />
It&rsquo;s b<br />
It&rsquo;s c<br />
It&rsquo;s d</p>

<p>4、while语句</p>

<p>语法格式：<br />
while 表达式<br />
do<br />
命令行<br />
done<br />
说明：<br />
–while循环中，只要条件为真，就执行do和done之间的循环命令；<br />
–避免生成死循环。</p>

<p>例如：<br />
#!/bin/bash</p>

<p>num=1<br />
while [ $num -le 10 ]<br />
do<br />
echo -e &ldquo;\t the num is $num&rdquo;<br />
let num=num+1<br />
done</p>

<p>运行输出：</p>

<p>the num is 1<br />
the num is 2<br />
the num is 3<br />
the num is 4<br />
the num is 5<br />
the num is 6<br />
the num is 7<br />
the num is 8<br />
the num is 9<br />
the num is 10</p>

<p>5、until语句</p>

<p>语法格式：<br />
unitil 表达式<br />
do<br />
命令行<br />
done<br />
说明：<br />
–until循环中，只要条件不为真，就执行do和done之间的循环命令，或者说，在until循环中，一直执行do和done之间的循环命令，直到条件为真；<br />
–避免生成死循环。<br />
例：计算1到10的和</p>

<p>#!/bin/bash</p>

<p>sum=0<br />
num=10</p>

<p>until test $num -eq 0<br />
do<br />
sum=<code>expr $sum + $num</code><br />
num=<code>expr $num - 1</code><br />
done<br />
echo &ldquo;sum = $sum&rdquo;</p>

<p>运行输出</p>

<p>sum = 55</p>

<p>6、shift语句<br />
shift语句：将变量的值依次向左传递，并形成一组新的参数值<br />
–例：位置变量当前值为：1=file1 2= file2 3=file3<br />
– 执行一次shift后为：1=file2 2=file3<br />
还可以在shift命令中指定位置变量转移的次数<br />
–shift n</p>

<p>例：<br />
#!/bin/bash</p>

<p>while [ -n &ldquo;$*&rdquo; ]<br />
do<br />
echo $1 $2 $3 $4 $5 $6<br />
shift<br />
done</p>

<p>运行输出</p>

<p>[fsy@localhost scripts]$ sh b.sh 1 2 3 4 5 6 7<br />
1 2 3 4 5 6<br />
2 3 4 5 6 7<br />
3 4 5 6 7<br />
4 5 6 7<br />
5 6 7<br />
6 7<br />
7</p>

<p>7、if语句</p>

<p>if 语句的一般形式 ：<br />
if 条件表达式<br />
then #当条件为真时执行以下语句<br />
命令列表<br />
else #当条件为假时执行以下语句<br />
命令列表<br />
fi<br />
if的测试部分利用test命令实现，也可以利用一般命令执行成功与否来判断。如果命令正常结束，返回值为0，条件测试为真; 否则返回值不为0，条件测试为假<br />
例：</p>

<p>#!/bin/bash</p>

<p>if test -f &ldquo;$1&rdquo;<br />
then<br />
echo &ldquo;$1 is an ordinary file&rdquo;<br />
else<br />
echo &ldquo;$1 is not an ordinary file&rdquo;<br />
fi</p>

<p>运行输出：</p>

<p>[fsy@localhost scripts]$ sh c.sh abb<br />
abb is not an ordinary file<br />
[fsy@localhost scripts]$ sh c.sh a.sh<br />
a.sh is an ordinary file<br />
[fsy@localhost scripts]$</p>

<p>8、case语句</p>

<p>取值后面必须为单词in,每一个模式必须以右括号结束。取值可以为变量或常数。取值检测匹配的每一个模式，一旦模式匹配，其间所有命令开始执行直至;;。执行完匹配模式相应命令后不再继续其他模式。如果无一匹配模式，使用*号捕获该值，再接受其他输入。</p>

<p>[注]<br />
1.模式字符串中可以使用通配符<br />
2.如果一个模式字符串中包含多个模式，那么各模式之间应以竖线(|)隔开，表各模式是“或”的关系，即只要给定字符串与其中一个模式相配，就会执行其后的命令列表。<br />
3.各模式字符串应是唯一的，不应重复出现，并且要合理安排它们的出现顺序，例如，不应将“*”作为头一个模式字符串，因为“*”可以与任何字符串匹配，若第一个出现，就不会再检查其他模式了。<br />
4.case语句以关键字case开头，以关键字esac结束。<br />
5.case的退出（返回）值是整个结构中最后执行的命令的退出值。若没有执行任何命令，则退出值为0.</p>

<p>例：</p>

<p>#!/bin/bash</p>

<p>case $1 in<br />
1)<br />
echo &ldquo; you choice is 1&rdquo;;;<br />
2)<br />
echo &ldquo; your choice is 2&rdquo;;;<br />
*)<br />
echo &ldquo; your choice is others&rdquo;;;<br />
esac</p>

<p>运行输出：</p>

<p>[fsy@localhost scripts]$ sh d.sh 1<br />
you choice is 1<br />
[fsy@localhost scripts]$ sh d.sh 2<br />
your choice is 2<br />
[fsy@localhost scripts]$ sh d.sh 3<br />
your choice is others</p>

<p>9、break与continue</p>

<p>–1、break：用于立即终止当前循环的执行，break命令可以使用户从循环体中退出来。<br />
–语法：break[n] ,其中，n表示要跳出几层循环，默认值为1<br />
–2、continue：跳过循环体中在其之后的语句，会返回到本循环层的开头，进行下一次循环。<br />
–语法：continue[n]，其中，n表示从包含continue语句的最内层循环体向外跳到第几层循环，默认值为1，循环层数是由内向外编号。</p>

<p>10、函数</p>

<p>函数：由函数标题和函数体两部分组成。标题是函数名。函数体是函数内在的命令集合。标题名称必须唯一。变量均为全局变量，没有局部变量。<br />
格式：<br />
[function] 函数名() 或 [function]函数名() {<br />
{ 命令1<br />
命令1 …<br />
… }<br />
}<br />
例：</p>

<p>#!/bin/bash</p>

<p>num=1<br />
hello()<br />
{<br />
echo &ldquo;hello boy~ It&rsquo;s our $num meeting&rdquo;<br />
let num=num+1<br />
}</p>

<p>hello<br />
hello<br />
hello</p>

<p>运行输出</p>

<p>hello boy~ It&rsquo;s our 1 meeting<br />
hello boy~ It&rsquo;s our 2 meeting<br />
hello boy~ It&rsquo;s our 3 meeting</p>

<p>11、select语句</p>

<p>格式：</p>

<p>select 变量 in 列表<br />
do<br />
命令行（通常用到循环变量）<br />
done</p>

<p>制作一个选择表，在列表中选择一个选项执行命令行。如果选择的变量不在列表序列中，则返回一个空值。需要用break退出循环。</p>

<p>例子：</p>

<p>#!/bin/bash</p>

<p>echo &ldquo;a is 5 ,b is 3. Please select your method: &ldquo;</p>

<p>a=5<br />
b=3</p>

<p>select var in &ldquo;a+b&rdquo; &ldquo;a-b&rdquo; &ldquo;a*b&rdquo; &ldquo;a/b&rdquo;<br />
do<br />
break<br />
done</p>

<p>case $var in<br />
&ldquo;a+b&rdquo;)<br />
echo &lsquo;a+b= &lsquo;<code>expr $a + $b</code>;;<br />
&ldquo;a-b&rdquo;)<br />
echo &lsquo;a-b= &lsquo;<code>expr $a - $b</code>;;<br />
&ldquo;a*b&rdquo;)<br />
echo &lsquo;a*b= &lsquo;<code>expr $a \\* $b</code>;;<br />
&ldquo;a/b&rdquo;)<br />
echo &lsquo;a/b= &lsquo;<code>expr $a / $b</code>;;<br />
*)<br />
echo &ldquo;input error&rdquo;<br />
esac</p>

<p>运行输出：</p>

<p>[fsy@localhost scripts]$ sh e.sh<br />
a is 5 ,b is 3. Please select your method:<br />
1) a+b<br />
2) a-b<br />
3) a*b<br />
4) a/b<br />
#? 1<br />
a+b= 8</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>