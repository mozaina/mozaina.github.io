<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>Shell进阶一for和case的用法 | 开发者问答集锦</title>
    <meta property="og:title" content="Shell进阶一for和case的用法 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="Shell进阶一for和case的用法">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/shell%E8%BF%9B%E9%98%B6%E4%B8%80for%E5%92%8Ccase%E7%9A%84%E7%94%A8%E6%B3%95/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">Shell进阶一for和case的用法</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <p>流程控制<br />
过程式编程语言：<br />
顺序执行<br />
选择执行<br />
循环执行</p>

<p>1.条件选择if语句<br />
选择执行：<br />
注意：if语句可嵌套<br />
单分支<br />
if 判断条件;then<br />
条件为真的分支代码<br />
fi<br />
单分支相当于cmd1 &amp;&amp; cmd2</p>

<p>双分支<br />
if 判断条件; then<br />
条件为真的分支代码<br />
else<br />
条件为假的分支代码<br />
fi<br />
逐条件进行判断，第一次遇为“真”条件时，执行其分支，而后结束整个if语句<br />
双分支相当于 cmd1 &amp;&amp; cmd2 || cmd3 但是cmd2必须成功</p>

<p>多分支<br />
if 判断条件1; then<br />
条件1为真的分支代码<br />
elif 判断条件2; then<br />
条件2为真的分支代码<br />
elif 判断条件3; then<br />
条件3为真的分支代码<br />
else<br />
以上条件都为假的分支代码<br />
fi</p>

<p>逐条件进行判断，第一次遇为“真”条件时，执行其分支，而后结束整个if语句</p>

<p>If示例<br />
1.根据命令的退出状态来执行命令<br />
if ping -c1 -W2 station1 &amp;&gt; /dev/null; then<br />
echo ‘Station1 is UP’<br />
elif grep “station1” ~/maintenance.txt &amp;&gt; /dev/null; then<br />
echo ‘Station1 is undergoing maintenance‘<br />
else<br />
echo ‘Station1 is unexpectedly DOWN!’<br />
exit 1<br />
fi</p>

<p>2.age.shell输入一个年龄数值，显示相应的信息（18岁以下 好好学习天天向上，60岁以下努力工作，60岁以后享受生活，其他输入你不是地球人）</p>

<p>3.写一个脚本areyourich.sh 完成如下逻辑</p>

<p>4.条件判断：case语句</p>

<p>case示例：<br />
1.写个脚本，numcase.sh
输入一个数字，属于1、2、3就显示1，2，3；属于4，5，6就显示4，5，6；属于7，8，9就显示7，8，9；否则就显示“other digit”<br />
read -p “Please input a digit: ” num<br />
case $num in<br />
1|2|3)<br />
echo 1,2,3<br />
;;<br />
4|5|6)<br />
echo 4,5,6<br />
;;<br />
7|8|9)<br />
echo 7,8,9<br />
;;<br />
*)<br />
echo “other digit”<br />
;;<br />
esac</p>

<p>2.写个脚本，menucase.sh。列出菜单点菜<br />
001.rice–2 RMB<br />
002.noodles–15 RMB<br />
003.dumpligs—18 RMB<br />
004.beer— 6RMB</p>

<p>练习<br />
1、编写脚本/root/bin/createuser.sh，实现如下功能：使用一个用户名做为参数，如果指定参数的用户存在，就显示其存在，否则添加之；显示添加的用户的id号等信息</p>

<p>2、编写脚本/root/bin/yesorno.sh，提示用户输入yes或no,并判断用户输入的是yes还是no,或是其它信息</p>

<p>3、编写脚本/root/bin/filetype.sh,判断用户输入文件路径，显示其文件类型（普通，目录，链接，其它文件类型）</p>

<p>4、编写脚本/root/bin/checkint.sh,判断用户输入的参数是否为正整数<br />
正整数：[[ “ num&rdquo;= [1−9][0−9]+ n u m &ldquo;= [ 1 − 9 ] [ 0 − 9 ] + ]]</p>

<p>5.循环–循环条件已知的<br />
循环执行<br />
将某代码段重复运行多次<br />
重复运行多少次<br />
循环次数事先已知<br />
循环次数事先未知<br />
有进入条件和退出条件<br />
for, while, until</p>

<p>6.for循环语法一:<br />
for 变量名 in 列表;do<br />
循环体<br />
done<br />
执行机制：<br />
依次将列表中的元素赋值给“变量名”; 每次赋值后即执行一次循环体; 直到列表中的元素耗尽，循环结束</p>

<p>for循环示例<br />
1.写个脚本sum100-for.sh,，先列出1-100的数字，然后求1-100累加和<br />
for num in {1..100}; do echo “num= num”;donesum=0;fornumin1..100;dosum= n u m
” ; d o n e s u m = 0 ; f o r n u m i n 1..100 ; d o s u m = [sum+num];
done;echo sum=$sum</p>

<p>列表生成方式：<br />
(1) 直接给出列表<br />
(2) 整数列表：<br />
(a) {start..end}<br />
(b) (seq [start [step]] end)<br />
seq 1 2 10 #1-10，步进值=2<br />
(3) 返回列表的命令 (seq [start [step]] end) seq 1 2 10 #1-10，步进值=2 (3) 返回列表的命令
(COMMAND)<br />
(4) 使用glob（通配符），如：*.sh<br />
(5) 变量引用；<br />
@ @ *</p>

<p>列表生成脚本示例：<br />
1.写脚本creatuser100-magedu.sh,创建user1…..user100 ,初始密码为magedu,并且首次登录必须修改密码<br />
for i in <code>seg 1 100</code>;do<br />
useradd useri &amp;&gt;/dev/null<br />
echo magedu | passwd –stdin user i &amp;&gt;/dev/null echo magedu | passwd –stdin
user i &amp;&gt;/dev/null<br />
passwd -e user i i &gt;/dev/null<br />
done</p>

<p>2.写脚本scanip.sh，扫描当前网段哪些IP是up的,并记录到文件./ipist.log,顺序执行太慢，所以要用并发执行｛｝&amp;</p>

<blockquote>
<p>./iplist.log #每次追加IP，需要先清空一次免得重复<br />
 read -p “Please input network ID (eg:192.168.0.0): ” net<br />
 net=<code>echo $net | cut -d. -f1-3</code> #用户自定义<br />
 for i in <code>seq 1 254</code>;do<br />
 {if ping -c1 -W1  net. n e t . i &amp;&gt; /dev/null; then<br />
 echo “The host  net. n e t . i is up”<br />
 echo  net. n e t . i &gt; ./iplist.log<br />
 else echo “The host  net. n e t . i is down”<br />
 fi} &amp;<br />
 done<br />
 wait #wait命令，当脚本执行完之后自动回车，显示提示符免得执行完了却不出现提示符</p>
</blockquote>

<p>3.写个脚本netid.sh,让用户输入IP地址和子网掩码，计算出网络ID。<br />
read -p “Please input a ip address: ” ip<br />
read -p “Please input a netmask: ” netmask<br />
for i in {1..4} ; do<br />
net=<code>echo $ip | cut -d. -f$i</code><br />
mask=<code>echo $netmask | cut -d. -f$i</code><br />
if [  i−eq1];thennetid= i − e q 1 ] ; t h e n n e t i d = [net&amp;mask]<br />
else<br />
netid= netid. n e t i d . [net&amp;mask]<br />
fi<br />
done<br />
echo Network ID is $netid</p>

<p>练习:用for实现<br />
1、判断/var/目录下所有文件的类型</p>

<p>2、添加10个用户user1-user10，密码为8位随机字符</p>

<p>3、/etc/rc.d/rc3.d目录下分别有多个以K开头和以S开头的文件；分别读取每个文件，以K开头的输出为文件加stop，以S开头的输出为文件名加start，如K34filename
stop S66filename start</p>

<p>4、编写脚本，提示输入正整数n的值，计算1+2+…+n的总和</p>

<p>5、计算100以内所有能被3整除的整数之和</p>

<p>6、编写脚本，提示请输入网络地址，如192.168.0.0，判断输入的网段中主机在线状态</p>

<p>7、打印九九乘法表 for99sheet.sh<br />
for i in {1..9};do<br />
for j in <code>seq $i</code>;do<br />
echo -e “ j∗ j ∗ i= (( ( ( j*$i))\t\c”<br />
done<br />
echo<br />
done</p>

<p>8、在/testdir目录下创建10个html文件,文件名格式为数字N（从1到10）加随机8个字母，如：1AbCdeFgH.html<br />
随机数：tr -dc ‘0-9a-zA-Z’ &lt; /dev/urandom | head -c8<br />
或者 openssl rand -base64 8<br />
for i in {1..10};do touch $i<code>tr -dc '0-9a-zA-Z' &lt; /dev/urandom | head
-c8</code>.html;done</p>

<p>9、打印等腰三角形</p>

<p>10.做一个国际象棋棋盘chess.sh<br />
思路：行数和列数 i和j，取模（余数）相同的格子颜色是一样的<br />
for i in {1..8} ; do<br />
temp1= [ [ i % 2 ]</p>

<p>for j in {1..8}; do<br />
temp2= [ [ j % 2 ]<br />
if [  temp1−eq t e m p 1 − e q temp2 ];then<br />
echo -e -n “\033[47m \033[0m”<br />
else<br />
echo -e -n “\033[41m \033[0m”<br />
fi<br />
done<br />
echo<br />
done</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>