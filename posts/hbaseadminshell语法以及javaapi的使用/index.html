<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>HBaseAdminShell语法以及JavaAPI的使用 | 开发者问答集锦</title>
    <meta property="og:title" content="HBaseAdminShell语法以及JavaAPI的使用 - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="HBaseAdminShell语法以及JavaAPI的使用">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/hbaseadminshell%E8%AF%AD%E6%B3%95%E4%BB%A5%E5%8F%8Ajavaapi%E7%9A%84%E4%BD%BF%E7%94%A8/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">HBaseAdminShell语法以及JavaAPI的使用</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<p><strong>HBase Admin Shell语法以及Java API 的使用</strong></p>

<p>HBase是用Java编写的，因此它提供Java API和HBase通信。 Java API是与HBase通信的最快方法。下面给出的是引用Java
API管理，涵盖用于管理表的任务。</p>

<p><strong>HBaseAdmin类</strong></p>

<p>HBaseAdmin是一个类表示管理。这个类属于org.apache.hadoop.hbase.client包。使用这个类，可以执行管理员任务。使用Connection.getAdmin()方法来获取管理员的实例。可对表级别进行处理</p>

<p>方法及说明</p>

<table>
<thead>
<tr>
<th>S.No.</th>
<th>方法及说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td></td>
</tr>
</tbody>
</table>

<p><strong>void createTable(HTableDescriptor desc)</strong></p>

<p>创建一个新的表</p>

<p>2 |</p>

<p><strong>void createTable(HTableDescriptor desc, byte[][] splitKeys)</strong></p>

<p>创建一个新表使用一组初始指定的分割键限定空区域</p>

<p>3 |</p>

<p><strong>void deleteColumn(byte[] tableName, String columnName)</strong></p>

<p>从表中删除列</p>

<p>4 |</p>

<p><strong>void deleteColumn(String tableName, String columnName)</strong></p>

<p>删除表中的列</p>

<p>5 |</p>

<p><strong>void deleteTable(String tableName)</strong></p>

<p>删除表</p>

<p><strong>Descriptor类</strong></p>

<p>这个类包含一个HBase表，如详细信息：</p>

<ul>
<li>所有列族的描述，</li>
<li>如果表是目录表，</li>
<li>如果表是只读的，</li>
<li>存储的最大尺寸，</li>
<li>当区域分割发生，</li>
<li>与之相关联的协同处理器等</li>
</ul>

<h3 id="构造函数">构造函数</h3>

<table>
<thead>
<tr>
<th>S.No.</th>
<th>构造函数和总结</th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td></td>
</tr>
</tbody>
</table>

<p><strong>HTableDescriptor(TableName name)</strong></p>

<p>构造一个表描述符指定TableName对象。</p>

<h3 id="方法及说明">方法及说明</h3>

<table>
<thead>
<tr>
<th>S.No.</th>
<th>方法及描述</th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td></td>
</tr>
</tbody>
</table>

<p><strong>HTableDescriptor addFamily(HColumnDescriptor family)</strong></p>

<p>将列家族给定的描述符</p>

<p><strong>一、创建表</strong></p>

<p><strong>【1】Shell 使用</strong></p>

<p>可以使用命令创建一个表，在这里必须指定表名和列族名。在HBase shell中创建表的语法如下所示。</p>

<p>create ‘’,’’</p>

<p>示例：下面给出的是一个表名为emp的样本模式。它有两个列族：“personal data”和“professional data”。</p>

<table>
<thead>
<tr>
<th>Row key</th>
<th>personal data</th>
<th>professional data</th>
</tr>
</thead>

<tbody>
<tr>
<td></td>
<td></td>
<td></td>
</tr>

<tr>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<p>在HBase shell创建该表如下所示。</p>

<p>在HBase shell创建该表如下所示。</p>

<p>hbase(main):002:0&gt; create &lsquo;emp&rsquo;, &lsquo;personaldata&rsquo;, &lsquo;professionaldata&rsquo;</p>

<p>它会给下面的输出。</p>

<p>0 row(s) in 1.1300 seconds</p>

<p>=&gt; Hbase::Table - emp</p>

<p>验证创建 : 可以验证是否已经创建，使用 list 命令如下所示。在这里，可以看到创建的emp表。</p>

<p>hbase(main):002:0&gt; list</p>

<p>TABLE</p>

<p>emp</p>

<p>2 row(s) in 0.0340 seconds</p>

<p><strong>【2】JavaAPI 使用</strong></p>

<p>下面给出的是完整的程序，通过管理员创建一个表。</p>

<p>import java.io.IOException;</p>

<p>import org.apache.hadoop.hbase.HBaseConfiguration;</p>

<p>import org.apache.hadoop.hbase.HColumnDescriptor;</p>

<p>import org.apache.hadoop.hbase.HTableDescriptor;</p>

<p>import org.apache.hadoop.hbase.client.HBaseAdmin;</p>

<p>import org.apache.hadoop.hbase.TableName;</p>

<p>import org.apache.hadoop.conf.Configuration;</p>

<p>public class CreateTable {</p>

<p>public static void main(String[] args) throws IOException {</p>

<p>//配置对象作为参数</p>

<p>Configuration con = HBaseConfiguration.create();</p>

<p>con.set( <strong>&ldquo;hbase.zookeeper.quorum&rdquo;</strong> , <strong>&ldquo;140.143.236.169:2181&rdquo;</strong> );</p>

<p>con.set( <strong>&ldquo;hbase.rootdir&rdquo;</strong> , <strong>&ldquo;hdfs://140.143.236.169:8020/hbase&rdquo;</strong> );</p>

<p>//初始实例配置类传递此实例给HBaseAdmin</p>

<p>HBaseAdmin admin = new HBaseAdmin(con);</p>

<p>// Instantiating table descriptor class</p>

<p>HTableDescriptor tableDescriptor = new
HTableDescriptor(TableName.valueOf(&ldquo;emp&rdquo;));</p>

<p>// Adding column families to table descriptor</p>

<p>tableDescriptor.addFamily(new HColumnDescriptor(&ldquo;personal&rdquo;));</p>

<p>tableDescriptor.addFamily(new HColumnDescriptor(&ldquo;professional&rdquo;));</p>

<p>// Execute the table through admin</p>

<p>admin.createTable(tableDescriptor);</p>

<p>System.out.println(&rdquo; Table created &ldquo;);</p>

<p>}</p>

<p>}</p>

<p>编译和执行上述程序如下所示。</p>

<p>Table created</p>

<p><strong>二、HBase 库列表</strong></p>

<p><strong>【1】Shell 使用</strong></p>

<p>list 是用来列出HBase中所有表的命令。下面给出了 list 命令的语法。</p>

<p>hbase(main):001:0 &gt; list</p>

<p>当输入这个命令，并在HBase提示符下执行，它会显示HBase中的所有表的列表，如下图所示。</p>

<p>hbase(main):001:0&gt; list</p>

<p>TABLE</p>

<p>emp</p>

<p>在这里，可以看到一个名为表emp。</p>

<p><strong>【2】JavaAPI 使用</strong></p>

<p>就可以得到使用HTableDescriptor类长度可变的HTableDescriptor[]数组的长度。从该对象使用getNameAsString()方法获得表的名称。运行&rsquo;for&rsquo;循环而获得HBase表的列表。</p>

<p>下面给出的是使用Java API程序列出所有HBase中表的列表。</p>

<p>import java.io.IOException;</p>

<p>import org.apache.hadoop.conf.Configuration;</p>

<p>import org.apache.hadoop.hbase.HBaseConfiguration;</p>

<p>import org.apache.hadoop.hbase.HTableDescriptor;</p>

<p>import org.apache.hadoop.hbase.MasterNotRunningException;</p>

<p>import org.apache.hadoop.hbase.client.HBaseAdmin;</p>

<p>public class ListTables {</p>

<p>public static void main(String args[])throws MasterNotRunningException,
IOException{</p>

<p>// 配置对象作为参数</p>

<p>Configuration con = HBaseConfiguration.create();</p>

<p>con.set( <strong>&ldquo;hbase.zookeeper.quorum&rdquo;</strong> , <strong>&ldquo;140.143.236.169:2181&rdquo;</strong> );</p>

<p>con.set( <strong>&ldquo;hbase.rootdir&rdquo;</strong> , <strong>&ldquo;hdfs://140.143.236.169:8020/hbase&rdquo;</strong> );</p>

<p>// 初始实例配置类传递此实例给HBaseAdmin</p>

<p>HBaseAdmin admin = new HBaseAdmin( con);</p>

<p>//列出HBase中所有的表的列表</p>

<p>HTableDescriptor[] tableDescriptor =admin.listTables();</p>

<p>// printing all the table names.</p>

<p>for (int i=0; i</p>

<p>System.out.println(tableDescriptor[i].getNameAsString());</p>

<p>}</p>

<p>}</p>

<p>}</p>

<p>编译和执行上述程序如下所示。</p>

<p>User</p>

<p>emp</p>

<p><strong>三、禁用表</strong></p>

<p><strong>【1】Shell 使用</strong></p>

<p>要删除表或改变其设置，首先需要使用 disable 命令关闭表。使用 enable 命令，可以重新启用它。</p>

<p>下面给出的语法是用来禁用一个表：</p>

<p>disable &lsquo;emp&rsquo;</p>

<p>下面给出的是一个例子，说明如何禁用表。</p>

<p>hbase(main):025:0&gt; disable &lsquo;emp&rsquo;</p>

<p>0 row(s) in 1.2760 seconds</p>

<p>验证  : 禁用表之后，仍然可以通过 list 和exists命令查看到。无法扫描到它存在，它会给下面的错误。</p>

<p>hbase(main):028:0&gt; scan &lsquo;emp&rsquo;</p>

<p>ROW COLUMN+CELL</p>

<p>ERROR: emp is disabled.</p>

<p>is_disabled</p>

<p>这个命令是用来查看表是否被禁用。它的语法如下。</p>

<p>hbase&gt; is_disabled &lsquo;table name&rsquo;</p>

<p>下面的例子验证表名为emp是否被禁用。如果禁用，它会返回true，如果没有，它会返回false。</p>

<p>hbase(main):031:0&gt; is_disabled &lsquo;emp&rsquo;</p>

<p>true</p>

<p>0 row(s) in 0.0440 seconds</p>

<p>disable_all</p>

<p>此命令用于禁用所有匹配给定正则表达式的表。disable_all命令的语法如下。</p>

<p>hbase&gt; disable_all &lsquo;r.*&rsquo;</p>

<p>假设有5个表在HBase，即raja, rajani, rajendra, rajesh 和 raju。下面的代码将禁用所有以 raj 开始的表。</p>

<p>hbase(main):002:0&gt; disable_all &lsquo;raj.*&rsquo;</p>

<p>raja</p>

<p>rajani</p>

<p>rajendra</p>

<p>rajesh</p>

<p>raju</p>

<p>Disable the above 5 tables (y/n)?</p>

<p>y</p>

<p>5 tables successfully disabled</p>

<p><strong>【2】JavaAPI 使用</strong></p>

<p>要验证一个表是否被禁用，使用isTableDisabled()方法和disableTable()方法禁用一个表。这些方法属于HBaseAdmin类。按照下面给出禁用表中的步骤。</p>

<p>下面给出的是完整的程序，以验证表是否被禁用;如果没有，那么禁用它</p>

<p>import java.io.IOException;</p>

<p>import org.apache.hadoop.conf.Configuration;</p>

<p>import org.apache.hadoop.hbase.HBaseConfiguration;</p>

<p>import org.apache.hadoop.hbase.MasterNotRunningException;</p>

<p>import org.apache.hadoop.hbase.client.HBaseAdmin;</p>

<p>public class DisableTable{</p>

<p>public static void main(String args[]) throws MasterNotRunningException,
IOException{</p>

<p>// Instantiating configuration class</p>

<p>Configuration conf = HBaseConfiguration.create();</p>

<p>conf .set( <strong>&ldquo;hbase.zookeeper.quorum&rdquo;</strong> , <strong>&ldquo;140.143.236.169:2181&rdquo;</strong> );</p>

<p>conf .set( <strong>&ldquo;hbase.rootdir&rdquo;</strong> , <strong>&ldquo;hdfs://140.143.236.169:8020/hbase&rdquo;</strong> );</p>

<p>// Instantiating HBaseAdmin class</p>

<p>HBaseAdmin admin = new HBaseAdmin(conf);</p>

<p>// Verifying weather the table is disabled</p>

<p>Boolean bool = admin.isTableDisabled(&ldquo;emp&rdquo;);</p>

<p>System.out.println(bool);</p>

<p>// Disabling the table using HBaseAdmin object</p>

<p>if(!bool){</p>

<p>admin.disableTable(&ldquo;emp&rdquo;);</p>

<p>System.out.println(&ldquo;Table disabled&rdquo;);</p>

<p>}</p>

<p>}</p>

<p>}</p>

<p>编译和执行上述程序如下所示。</p>

<p>false</p>

<p>Table disabled</p>

<p><strong>四、启用表</strong></p>

<p><strong>【1】Shell 使用</strong></p>

<p>启用表的语法：</p>

<p>enable ‘emp’</p>

<p>给出下面是一个例子，使一个表启用。</p>

<p>hbase(main):005:0&gt; enable &lsquo;emp&rsquo;</p>

<p>0 row(s) in 0.4580 seconds</p>

<p>验证:  启用表之后，扫描。如果能看到的模式，那么证明表已成功启用。</p>

<p>hbase(main):006:0&gt; scan &lsquo;emp&rsquo;</p>

<p>ROW COLUMN+CELL</p>

<p>1 column=personal data:city, timestamp=1417516501, value=hyderabad</p>

<p>1 column=personal data:name, timestamp=1417525058, value=ramu</p>

<p>1 column=professional data:designation, timestamp=1417532601, value=manager</p>

<p>1 column=professional data:salary, timestamp=1417524244109, value=50000</p>

<p>2 column=personal data:city, timestamp=1417524574905, value=chennai</p>

<p>2 column=personal data:name, timestamp=1417524556125, value=ravi</p>

<p>2 column=professional data:designation, timestamp=14175292204, value=sr:engg</p>

<p>2 column=professional data:salary, timestamp=1417524604221, value=30000</p>

<p>3 column=personal data:city, timestamp=1417524681780, value=delhi</p>

<p>3 column=personal data:name, timestamp=1417524672067, value=rajesh</p>

<p>3 column=professional data:designation, timestamp=14175246987, value=jr:engg</p>

<p>3 column=professional data:salary, timestamp=1417524702514, value=25000</p>

<p>3 row(s) in 0.0400 seconds</p>

<p>is_enabled</p>

<p>此命令用于查找表是否被启用。它的语法如下：</p>

<p>hbase&gt; is_enabled &lsquo;table name&rsquo;</p>

<p>下面的代码验证表emp是否启用。如果启用，它将返回true，如果没有，它会返回false。</p>

<p>hbase(main):031:0&gt; is_enabled &lsquo;emp&rsquo;</p>

<p>true</p>

<p>0 row(s) in 0.0440 seconds</p>

<p><strong>【2】JavaAPI 使用</strong></p>

<p>要验证一个表是否被启用，使用isTableEnabled()方法;并且使用enableTable()方法使一个表启用。这些方法属于HBaseAdmin类。按照下面给出启用表的步骤。</p>

<p>下面给出的是完整的程序，以验证表是否已启用，如果它不是，那么启用它。</p>

<p>import java.io.IOException;</p>

<p>import org.apache.hadoop.conf.Configuration;</p>

<p>import org.apache.hadoop.hbase.HBaseConfiguration;</p>

<p>import org.apache.hadoop.hbase.MasterNotRunningException;</p>

<p>import org.apache.hadoop.hbase.client.HBaseAdmin;</p>

<p>public class EnableTable{</p>

<p>public static void main(String args[]) throws MasterNotRunningException,
IOException{</p>

<p>// Instantiating configuration class</p>

<p>Configuration conf = HBaseConfiguration.create();</p>

<p>conf .set( <strong>&ldquo;hbase.zookeeper.quorum&rdquo;</strong> , <strong>&ldquo;140.143.236.169:2181&rdquo;</strong> );</p>

<p>conf .set( <strong>&ldquo;hbase.rootdir&rdquo;</strong> , <strong>&ldquo;hdfs://140.143.236.169:8020/hbase&rdquo;</strong> );</p>

<p>// Instantiating HBaseAdmin class</p>

<p>HBaseAdmin admin = new HBaseAdmin(conf);</p>

<p>// Verifying weather the table is disabled</p>

<p>Boolean bool = admin.isTableEnabled(&ldquo;emp&rdquo;);</p>

<p>System.out.println(bool);</p>

<p>// Disabling the table using HBaseAdmin object</p>

<p>if(!bool){</p>

<p>admin.enableTable(&ldquo;emp&rdquo;);</p>

<p>System.out.println(&ldquo;Table Enabled&rdquo;);</p>

<p>}</p>

<p>}</p>

<p>}</p>

<p>编译和执行上述程序如下所示。</p>

<p>false</p>

<p>Table Enabled</p>

<p><strong>五、表存在</strong></p>

<p><strong>【1】Shell 使用</strong></p>

<p>可以使用exists命令验证表的存在。下面的示例演示了如何使用这个命令。</p>

<p>hbase(main):024:0&gt; exists &lsquo;emp&rsquo;</p>

<p>Table emp does exist</p>

<p>0 row(s) in 0.0750 seconds</p>

<p>hbase(main):015:0&gt; exists &lsquo;student&rsquo;</p>

<p>Table student does not exist</p>

<p>0 row(s) in 0.0480 seconds</p>

<p><strong>【2】JavaAPI 使用</strong></p>

<p>可以使用HBaseAdmin类的tableExists()方法验证表在HBase中是否存在。按照下面给出的步骤验证HBase表存在。</p>

<p>下面给出的是使用java程序中的Java API来测试一个HBase表的存在。</p>

<p>import java.io.IOException;</p>

<p>import org.apache.hadoop.hbase.HBaseConfiguration;</p>

<p>import org.apache.hadoop.conf.Configuration;</p>

<p>import org.apache.hadoop.hbase.client.HBaseAdmin;</p>

<p>public class TableExists{</p>

<p>public static void main(String args[])throws IOException{</p>

<p>// Instantiating configuration class</p>

<p>Configuration conf = HBaseConfiguration.create();</p>

<p>conf .set( <strong>&ldquo;hbase.zookeeper.quorum&rdquo;</strong> , <strong>&ldquo;140.143.236.169:2181&rdquo;</strong> );</p>

<p>conf .set( <strong>&ldquo;hbase.rootdir&rdquo;</strong> , <strong>&ldquo;hdfs://140.143.236.169:8020/hbase&rdquo;</strong> );</p>

<p>// Instantiating HBaseAdmin class</p>

<p>HBaseAdmin admin = new HBaseAdmin(conf);</p>

<p>// Verifying the existance of the table</p>

<p>boolean bool = admin.tableExists(&ldquo;emp&rdquo;);</p>

<p>System.out.println( bool);</p>

<p>}</p>

<p>}</p>

<p>编译和执行上述程序如下所示。</p>

<p>true</p>

<p><strong>六、删除表</strong></p>

<p><strong>【1】Shell 使用</strong></p>

<p>用drop命令可以删除表。在删除一个表之前必须先将其禁用。</p>

<p>hbase(main):018:0&gt; disable &lsquo;emp&rsquo;</p>

<p>0 row(s) in 1.4580 seconds</p>

<p>hbase(main):019:0&gt; drop &lsquo;emp&rsquo;</p>

<p>0 row(s) in 0.3060 seconds</p>

<p>使用exists 命令验证表是否被删除。</p>

<p>hbase(main):020:0&gt; exists &lsquo;emp&rsquo;</p>

<p>Table emp does not exist</p>

<p>0 row(s) in 0.0730 seconds</p>

<p>drop_all</p>

<p>这个命令是用来在给出删除匹配“regex”表。它的语法如下：</p>

<p>hbase&gt; drop_all ‘t.*’</p>

<p>注意：要删除表，则必须先将其禁用。</p>

<p>示例：  假设有一些表的名称为raja, rajani, rajendra, rajesh, 和 raju。</p>

<p>hbase(main):017:0&gt; list</p>

<p>TABLE</p>

<p>raja</p>

<p>rajani</p>

<p>rajendra</p>

<p>rajesh</p>

<p>raju</p>

<p>9 row(s) in 0.0270 seconds</p>

<p>所有这些表以字母raj开始。首先使用disable_all命令禁用所有这些表如下所示。</p>

<p>hbase(main):002:0&gt; disable_all &lsquo;raj.*&rsquo;</p>

<p>raja</p>

<p>rajani</p>

<p>rajendra</p>

<p>rajesh</p>

<p>raju</p>

<p>Disable the above 5 tables (y/n)?</p>

<p>y</p>

<p>5 tables successfully disabled</p>

<p>现在，可以使用 drop_all 命令删除它们，如下所示。</p>

<p>hbase(main):018:0&gt; drop_all &lsquo;raj.*&rsquo;</p>

<p>raja</p>

<p>rajani</p>

<p>rajendra</p>

<p>rajesh</p>

<p>raju</p>

<p>Drop the above 5 tables (y/n)?</p>

<p>y</p>

<p>5 tables successfully dropped</p>

<p><strong>【2】JavaAPI 使用</strong></p>

<p>可以使用 HBaseAdmin 类的deleteTable()方法删除表。按照下面给出是使用Java API来删除表中的步骤。</p>

<p>下面给出的是完整的Java程序用于删除HBase表。</p>

<p>import java.io.IOException;</p>

<p>import org.apache.hadoop.hbase.HBaseConfiguration;</p>

<p>import org.apache.hadoop.conf.Configuration;</p>

<p>import org.apache.hadoop.hbase.client.HBaseAdmin;</p>

<p>public class DeleteTable {</p>

<p>public static void main(String[] args) throws IOException {</p>

<p>// Instantiating configuration class</p>

<p>Configuration conf = HBaseConfiguration.create();</p>

<p>conf .set( <strong>&ldquo;hbase.zookeeper.quorum&rdquo;</strong> , <strong>&ldquo;140.143.236.169:2181&rdquo;</strong> );</p>

<p>conf .set( <strong>&ldquo;hbase.rootdir&rdquo;</strong> , <strong>&ldquo;hdfs://140.143.236.169:8020/hbase&rdquo;</strong> );</p>

<p>// Instantiating HBaseAdmin class</p>

<p>HBaseAdmin admin = new HBaseAdmin(conf);</p>

<p>// disabling table named emp</p>

<p>admin.disableTable(&ldquo;emp12&rdquo;);</p>

<p>admin.deleteTable(&ldquo;emp12&rdquo;);</p>

<p>System.out.println(&ldquo;Table deleted&rdquo;);</p>

<p>}</p>

<p>}</p>

<p>编译和执行上述程序如下所示。</p>

<p>Table deleted</p>

<p><strong>七、关闭表</strong></p>

<p><strong>【1】Shell 使用</strong></p>

<p>可以通过键入exit命令退出shell。</p>

<p>hbase(main):021:0&gt; exit</p>

<p>要停止HBase，浏览进入到HBase主文件夹，然后键入以下命令。</p>

<p>./bin/stop-hbase.sh</p>

<p><strong>【2】JavaAPI 使用</strong></p>

<p>可以使用HBaseAdmin类的shutdown()方法关闭HBase。按照下面给出关闭HBase的步骤：</p>

<p>下面给出的是停止HBase的程序。</p>

<p>import java.io.IOException;</p>

<p>import org.apache.hadoop.hbase.HBaseConfiguration;</p>

<p>import org.apache.hadoop.conf.Configuration;</p>

<p>import org.apache.hadoop.hbase.client.HBaseAdmin;</p>

<p>public class ShutDownHbase{</p>

<p>public static void main(String args[])throws IOException {</p>

<p>// Instantiating configuration class</p>

<p>Configuration conf = HBaseConfiguration.create();</p>

<p>conf .set( <strong>&ldquo;hbase.zookeeper.quorum&rdquo;</strong> , <strong>&ldquo;140.143.236.169:2181&rdquo;</strong> );</p>

<p>conf .set( <strong>&ldquo;hbase.rootdir&rdquo;</strong> , <strong>&ldquo;hdfs://140.143.236.169:8020/hbase&rdquo;</strong> );</p>

<p>// Instantiating HBaseAdmin class</p>

<p>HBaseAdmin admin = new HBaseAdmin(conf);</p>

<p>// Shutting down HBase</p>

<p>System.out.println(&ldquo;Shutting down hbase&rdquo;);</p>

<p>admin.shutdown();</p>

<p>}</p>

<p>}</p>

<p>编译和执行上述程序如下所示。</p>

<p>Shutting down hbase</p>

<p>参考： 易百</p>

<h4 id="你可能感兴趣的">你可能感兴趣的</h4>

<ul>
<li><a href="/article/110.htm" title="强大的销售团队背后 竟然是大数据分析的身影">强大的销售团队背后 竟然是大数据分析的身影</a> 蓝儿唯美 <a href="/search/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/1.htm">数据分析</a></li>
<li><a href="/article/237.htm" title="Haproxy+Keepalived高可用双机单活">Haproxy+Keepalived高可用双机单活</a> bylijinnan <a href="/search/%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/1.htm">负载均衡</a><a href="/search/keepalived/1.htm">keepalived</a><a href="/search/haproxy/1.htm">haproxy</a><a href="/search/%E9%AB%98%E5%8F%AF%E7%94%A8/1.htm">高可用</a></li>
<li><a href="/article/364.htm" title="eclipse编辑器中文乱码问题解决">eclipse编辑器中文乱码问题解决</a> 0624chenhong <a href="/search/eclipse%E4%B9%B1%E7%A0%81/1.htm">eclipse乱码</a></li>
<li><a href="/article/491.htm" title="基础篇--resources资源">基础篇&ndash;resources资源</a> 不懂事的小屁孩 <a href="/search/android/1.htm">android</a></li>
<li><a href="/article/618.htm" title="接上篇补上window平台自动上传证书文件的批处理问卷">接上篇补上window平台自动上传证书文件的批处理问卷</a> 酷的飞上天空 <a href="/search/window/1.htm">window</a></li>
<li><a href="/article/745.htm" title="企业物联网大潮涌动：如何做好准备？">企业物联网大潮涌动：如何做好准备？</a> 蓝儿唯美 <a href="/search/%E4%BC%81%E4%B8%9A/1.htm">企业</a></li>
<li><a href="/article/872.htm" title="spring学习——数据库（mybatis持久化框架配置）">spring学习——数据库（mybatis持久化框架配置）</a> a-john <a href="/search/mybatis/1.htm">mybatis</a></li>
<li><a href="/article/999.htm" title="Java静态代理、动态代理实例">Java静态代理、动态代理实例</a> aijuans <a href="/search/Java%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86/1.htm">Java静态代理</a></li>
</ul>

<p><strong>按字母分类：</strong>
<a href="/tags/A/1.htm">A</a><a href="/tags/B/1.htm">B</a><a href="/tags/C/1.htm">C</a><a href="/tags/D/1.htm">D</a><a href="/tags/E/1.htm">E</a><a href="/tags/F/1.htm">F</a><a href="/tags/G/1.htm">G</a><a href="/tags/H/1.htm">H</a><a href="/tags/I/1.htm">I</a><a href="/tags/J/1.htm">J</a><a href="/tags/K/1.htm">K</a><a href="/tags/L/1.htm">L</a><a href="/tags/M/1.htm">M</a><a href="/tags/N/1.htm">N</a><a href="/tags/O/1.htm">O</a><a href="/tags/P/1.htm">P</a><a href="/tags/Q/1.htm">Q</a><a href="/tags/R/1.htm">R</a><a href="/tags/S/1.htm">S</a><a href="/tags/T/1.htm">T</a><a href="/tags/U/1.htm">U</a><a href="/tags/V/1.htm">V</a><a href="/tags/W/1.htm">W</a><a href="/tags/X/1.htm">X</a><a href="/tags/Y/1.htm">Y</a><a href="/tags/Z/1.htm">Z</a><a href="/tags/0/1.htm">其他</a></p>

<p><a href="/">首页</a> - <a href="/custom/about.htm">关于我们</a> - <a href="javascript:void(0)">设为首页</a> -
<a href="javascript:void(0)">加入收藏</a> - <a href="/search/Java/1.htm">站内搜索</a> -
<a href="/sitemap.xml">Sitemap</a> - <a href="/custom/delete.htm">侵权投诉</a></p>

<p>版权所有 IT知识库 CopyRight © 2009-2015 IT知识库 IT610.com , All Rights Reserved.
<a href="http://www.beian.miit.gov.cn">京ICP备09083238号</a></p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>