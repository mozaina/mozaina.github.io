<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>学习shell | 开发者问答集锦</title>
    <meta property="og:title" content="学习shell - 开发者问答集锦">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-09-02T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-09-02T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="">
    <meta name="description" content="学习shell">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/posts/%E5%AD%A6%E4%B9%A0shell/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <article class="post">
        <header>
            <h1 class="post-title">学习shell</h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            

<h4 id="1-什么是shell">1、什么是shell？</h4>

<p>答：替我们工作的是硬件，而控制硬件的是核心，用户是利用shell控制核心提供的工具来操控硬件正确的工作。也就是说shell充当了人类和核心间沟通者得角色！</p>

<p>图1 硬件、核心和shell的关系</p>

<h4 id="2-bash-shell">2、BASH SHELL</h4>

<p>目前几乎所有的linux都使用bash作为管理核心的主要shell！BASH的优点有如下几个：</p>

<p>1、命令记忆功能--只要在命令行中按上下键就可以找到输入的前一个指令！你曾经输入过的指令记录在根目录的
./bash_history下。但需要注意的是./bash_history 记录的是你上一次登陆以前执行过的指令，至于这一次登陆执行的命令都被暂存在内存里！</p>

<p>2、补全功能，主要分为命令补全和文件名称补全。 输入命令的一部分后按下Tab健补全命令或者文件名，按两下会出现所有可能结果。。。很好用哦！！</p>

<p>3、命令别名设定功能- 例如将用la 取代ls -al 急事 alias la=&lsquo;ls -al&rsquo;</p>

<p>4、.作业控制，前景背景控制</p>

<p>关于shell scripts的内容将在以后的博文中提到</p>

<h4 id="3-环境变量">3、环境变量</h4>

<h5 id="1-什么是环境变量">1、什么是环境变量？</h5>

<p>在正确登陆linux系统后才能以shell跟linux沟通，这时候有一个bash执行程序，真正经由bash跟系统沟通。在进入shell之前，由于系统需要一些变量来提供数据的存取（或者是一些环境的设定参数值，例如是否显示色彩）所以就需要一些所谓的环境变量来读入系统。这些环境变量包括PATH,HOME.MAIL.SHELL等，都非常重要！！为了与自定义变量的区别，环境变量通常以大写字符表示。</p>

<p>下表罗列了一些Linux系统使用的变量并说明了它们的用处。在表格后面将列举一些变量例值。</p>

<table>
<thead>
<tr>
<th><strong>变量</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td>PATH</td>
<td>这个变量包含了一系列由冒号分隔开的目录，系统就从这些目录里寻找可执行文件。如果你输入的可执行文件（例如ls、rc-</td>
</tr>
</tbody>
</table>

<p>update或者emerge）不在这些目录中，系统就无法执行它（除非你输入这个命令的完整路径，如/bin/ls）。<br />
ROOTPATH | 这个变量的功能和PATH相同，但它只罗列出超级用户（root）键入命令时所需检查的目录。<br />
LDPATH | 这个变量包含了一系列用冒号隔开的目录，动态链接器将在这些目录里查找库文件。<br />
MANPATH | 这个变量包含了一系列用冒号隔开的目录，命令man会在这些目录里搜索man页面。<br />
INFODIR | 这个变量包含了一系列用冒号隔开的目录，命令info将在这些目录里搜索info页面。<br />
PAGER | 这个变量包含了浏览文件内容的程序的路径（例如less或者more）。<br />
EDITOR | 这个变量包含了修改文件内容的程序（文件编辑器）的路径（比如nano或者vi）。<br />
KDEDIRS | 这个变量包含了一系列用冒号隔开的目录，里面放的是KDE相关的资料。<br />
CONFIG_PROTECT | 这个变量包含了一系列用空格隔开的目录，它们在更新的时候会被Portage保护起来。<br />
CONFIG_PROTECT_MASK | 这个变量包含了一系列用空格隔开的目录，它们在更新的时候不会被Portage保护起来。</p>

<p>HISTSIZE是指保存历史命令记录的条数。</p>

<p>LOGNAME是指当前用户的登录名。</p>

<p>HOSTNAME是指主机的名称，许多应用程序如果要用到主机名的话，通常是从这个环境变量中来取得的。</p>

<p>SHELL是指当前用户用的是哪种Shell。</p>

<p>LANG/LANGUGE是和语言相关的环境变量，使用多种语言的用户可以修改此环境变量。</p>

<p>MAIL是指当前用户的邮件存放目录。</p>

<p>PS1是基本提示符，对于root用户是#，对于普通用户是$。PS2是附属提示符，默认是“&gt;”。可以通过修改此环境变量来修改当前的命令符。</p>

<p>getenv()访问一个环境变量。输入参数是需要访问的变量名字，返回值是一个字符串。如果所访问的环境变量不存在，则会返回NULL。</p>

<p>setenv()在程序里面设置某个环境变量的函数。</p>

<p>unsetenv()清除某个特定的环境变量的函数。</p>

<p>1)etc/profile:此文件为系统的每个用户设置环境信息,当用户第一次登录时,该文件被执行.<br />
并从/etc/profile.d目录的配置文件中搜集shell的设置.<br />
注：在这里我们设定是为所有用户可使用的全局变量。</p>

<p>2)/etc/bashrc:为每一个运行bash shell的用户执行此文件.当bash shell被打开时,该文件被读取.</p>

<p>3)~/.bash_profile:每个用户都可使用该文件输入专用于自己使用的shell信息,当用户登录时,该文件仅仅执行一次!默认情况下,他设置一些环境变量,执行用户的.bashrc文件.<br />
注：~在LINUX下面是代表HOME这个变量的。<br />
另外在不同的LINUX操作系统下，这个文件可能是不同的，可能是~/.bash_profile； ~/.bash_login或
~/.profile其中的一种或几种，如果存在几种的话，那么执行的顺序便是：~/.bash_profile、 ~/.bash_login、
~/.profile。</p>

<p>4)~/.bashrc:该文件包含专用于你的bash shell的bash信息,当登录时以及每次打开新的shell时,该文件被读取.<br />
(注：这个文件是 .开头的，所以在文件夹中被隐藏了)</p>

<p>5)~/.bash_logout:当每次退出系统(退出bash shell)时,执行该文件.<br />
另外,/etc/profile中设定的变量(全局)的可以作用于任何用户,而~/.bashrc等中设定的变量(局部)只能继承/etc/profile中的变量,他们是/&ldquo;父子/&ldquo;关系</p>

<p>~/.bash_profile 是交互式、login 方式进入 bash 运行的<br />
~/.bashrc 是交互式 non-login 方式进入 bash 运行的<br />
通常二者设置大致相同，所以通常前者会调用后者。</p>

<p>好的，总结一下他们的执行方式：<br />
当你登录并且登录shell是bash时,bash首先执行/etc/profile文件中的命令(如果该文件存在),然后它顺序寻找~
/.bash_profile,~/.bash_login或~/.profile文件,并执行找到的第一个可读文件中的命令.当登录bash退出时,它
将执行~/.bash_logout文件中的命令.<br />
当启动一个交互的bash时,它将执行~/.bashrc文件中的命令(如果该文件存在并且可读).当非交互地启动以运行一个shell脚本时,bash将查找bash_env环境变量,确定执行文件的名称
。</p>

<h5 id="2-关于环境变量命令介绍">2、关于环境变量命令介绍：</h5>

<p>1.echo 显示某个环境变量值 echo $PATH 注意：为了要分辨是不是变量，linux系统预设变量名称前会加一个$符号！</p>

<p>2.export 设置一个新的环境变量 export HELLO=&ldquo;hello&rdquo; (可以无引号)<br />
3.env 显示所有环境变量<br />
4.set 显示本地定义的shell变量<br />
5.unset 清除环境变量 unset HELLO<br />
6.readonly 设置只读环境变量 readonly HELLO</p>

<h4 id="3-linux中的变量命名规则">3、linux中的变量命名规则</h4>

<p>1） 变量和变量内容以等号‘=’连接。</p>

<p>2） 等号左右不能有空格。</p>

<p>3）变量名称只能是字母与数字,且不能以数字开头。</p>

<p>4）若变量值存在空格,则必需以双引号或单引号包裹起来.注意：双引号内的特殊字符可以保留变量特性，单引号内的特殊字符则仅为一般字符。</p>

<pre><code>[root@lpp ~]# name=lpp
[root@lpp ~]# echo $name
lpp
[root@lpp ~]# myname=&quot;$name it's me&quot;
[root@lpp ~]# echo $myname
lpp it's me
[root@lpp ~]# myname='$name it's me'
$name is me
</code></pre>

<p>5）&rdquo;\&ldquo;既可以作为跳转字符,也可以作为转义字符。</p>

<pre><code>[root@lpp ~]# var=\$HOME
[root@lpp ~]# echo $var
$HOME
</code></pre>

<p>6） 若变量要括增内容,应该使用双引号及$引用该变量。</p>

<pre><code>[root@lpp ~]# var=$HOME
[root@lpp ~]# echo $var
/root
[root@lpp ~]# var=&quot;$var &quot;lpp
[root@lpp ~]# echo $var
/root lpp
</code></pre>

<p>7) 若该变量需要在该程序的子程序中运行,需要使用export.</p>

<pre><code>[root@lpp ~]# name=&quot;lpp's pc&quot;
[root@lpp ~]# echo $name
lpp's pc
[root@lpp ~]# /bin/bash --另开一个bash的子程序
[root@lpp ~]# echo $name

[root@lpp ~]# exit
exit
[root@lpp ~]# export name
[root@lpp ~]# /bin/bash
[root@lpp ~]# echo $name
lpp's pc
</code></pre>

<p>8)在一串指令中如果需要借助其他指令,可以使用<code>command</code>来嵌套(注意这里不是单引号,而是quote符号,也就是你的键盘上F1下面的那个按钮)</p>

<pre><code>[root@lpp profile.d]# uname -r
2.6.18-194.el5
[root@lpp profile.d]# var=&quot;My kerne is &quot;`uname -r`
[root@lpp profile.d]# echo $var
My kerne is 2.6.18-194.el5
</code></pre>

<p>9） 取消变量使用unset</p>

<p>明天继续努力！！加油！FIGHTING!</p>

        </div>

        


        

<div class="post-archive">
    <h2>See Also</h2>
    <ul class="listing">
        
        <li><a href="/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a></li>
        
        <li><a href="/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/">009Shell脚本下条件测试eqne</a></li>
        
        <li><a href="/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/">00Pythonmanagepyshell和Python的分析</a></li>
        
        <li><a href="/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a></li>
        
        <li><a href="/posts/018dockerfileshell/">018DockerfileSHELL</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='https://zaina.newban.cn/tags/shell'>shell</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>