<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>shell | 开发者问答集锦</title>
    <meta property="og:title" content="shell - 开发者问答集锦">
    <meta property="og:type" content="article">
        
        
    <meta name="Keywords" content="">
    <meta name="description" content="shell">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/tags/shell/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/tags/shell/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <h3 class="archive-title">
        包含标签
        <span class="keyword">shell</span>
        的文章
    </h3>
    

    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%96%B0%E6%89%8B%E7%AF%87/">Linuxshell编程新手篇</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            Linux之shell编程：将在shell执行的命令放在一个文件里执行
目录  一、变量 二、if语句 三、for循环 四、while循环 五、函数  一、变量 1.1. 创建文件并编辑文件，将命令写在文件里，然后执行。
在文件开始处添加#!bin/bash。

#!bin/bash vb='变量' echo $vb  
1.2 删除变量
#!bin/bash vb='变量' #echo $vb unset vb echo $vb  
1.3 在shell编程里引号的意义
‘’：单引号里的内容都按原来的样子输出。
“”：双引号里的内容如果有命令会输出命名。
``：反引号里的内容为shell命令。
二、if语句 2.1 [ ]为判断条件，里面对的内容必须跟中括号分开不能挨着，if开头fi结尾，一个if对应一个fi
eq：等于
gt：大于
ge：大于等于
lt：小于
le：小于等于
2.2 公式：
if [ 条件 ];then
echo ‘输出’
elif [ 条件 ];then
echo ‘输出’
else
echo ‘输出’
#!bin/bash a=1 b=1 c=2 if [ $a -eq $c ];then echo '1等于1' elif [ $a -gt $c ];then echo '2大于1' else echo '两都没执行' fi……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%96%B0%E6%89%8B%E7%AF%87/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%97%B6%E6%8A%A5badsubstitution%E9%94%99%E8%AF%AF%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">linuxshell编程时报badsubstitution错误的解决办法</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            :bad substitution错误 应该是某个变量名字打错，找不对应的值对替换，直接报错结果；
检索全文中替换的${}变量，改正即可。
示例：
我用Linux shell脚本输出一段文字生成一个R程序，报错：
/mnt/bai/yongxin/bin/ternary_16s.sh: line 1: # 説我第一行就有错，由于输出多行，内部出错，无法检查错误所在行；我最终使用了逐行/段落添加的方法，逐渐缩小错误范围，找到了报错行(原文有几百行，找了一百多行才找到，试了十几次)。其行是正文中一个变量多打一了个空格，如${height }，应该为${height}；下次注意，直接找变量就可以马上解决。
cat &lt;otu_ternary.r ############################################################# # Title: Didfferent abundance OTU -- Tenary plot # Author: Yong-Xin Liu # E-mail: yxliu@genetics.ac.cn # Date: 2017/6/21 # Update: 2017/6/21 # Description: Script to draw tenary plot # Input File required in the blow list: # 需要DA_OTU计算各组间的差异OTU结果 # 1. &quot;../doc/design.txt&quot; Design of experiment # 2. &quot;otu_table.txt&quot; OTU table, better include taxonomy # 3.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%97%B6%E6%8A%A5badsubstitution%E9%94%99%E8%AF%AF%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%A1%88%E4%BE%8B/">Linuxshell编程案例</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            一、随机生成字符文件名 1.需求描述：
使用for循环在/usr/test目录下创建10个html文件，其中每个文件需要包含10个随机小写字母加固定字符串test,案例名称如下：
以下为示例：

**
**
2.代码部分：
#!bin/bash #Autor:OLIVER #Date :2018-12-11 #Desc :生成随机文件名 #Version 1.0 [ -d /usr/prac ] || mkdir /usr/prac cd /usr/prac echo $(pwd) &amp;&amp; \ for i in {1..10} do filename=$(uuidgen|tr '0-9-' 'a-z'|cut -c 1-10 ) touch ${filename}_test.html done  代码高亮截图：

3.代码说明
[ -d /usr/prac ] || mkdir /usr/prac 判断文件夹/usr/prac是否存在，不存在则新建
echo $(pwd) &amp;&amp; \ 控制台输出当前文件目录
0-9- 该表达式会将短线过滤
二、批量修改文件名 1.需求描述
将上述文件名中的test后缀批量修改为exp,并且将文件名后缀修改为.HTML
以下为示例：

2.代码部分
#!bin/bash #Autor:OLIVER #Date :2018-12-11 #Desc :批量修改文件名 #Version 1.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%A1%88%E4%BE%8B/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%A8%A1%E6%8B%9F%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95/">linuxshell编程模拟用户登录</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            a=&ldquo;hello world&rdquo;
echo &ldquo;A is:&rdquo; $a
echo &ldquo;when you want to run this script ,please input your id and passwd!&rdquo;
echo &ldquo;please input you ID:&rdquo;
read ID
stty -echo
echo &ldquo;please input your password&rdquo;
read password
stty echo
if [ $ID = &ldquo;abc&rdquo; ] &amp;&amp; [ $password = &ldquo;123&rdquo; ]
then
echo &ldquo;ok ,your have already login.&rdquo;
else
echo &ldquo;your input is error&rdquo;
fi……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%A8%A1%E6%8B%9F%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">LinuxShell编程正则表达式</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            一 正则表达式与通配符
1 正则表达式是用在文件中匹配符合条件的字符串，正则是包含匹配，grep，awk，sed等命令可以支持正则表达式
2 通配符是用来匹配符合条件的文件名，通配符是完全匹配，ls，find，cp这些命令不支持正则表达式，所以只能用Shell自己的通配符来进行匹配了。
二 基础正则表达式
这里引用兄弟连的测试文本

1 * 前一个字符匹配0次或任意多次
grep “a*” test_rule.txt
匹配所有内容，包括空白行（由于*可以匹配0次）

grep “aa*” test_rule.txt
匹配至少包含有一个a的行

grep “aaa*” test_rule.txt
匹配至少包含有两个a的行

2 . 匹配除了换行符之外的任意一个字符
grep “s..d” test_rule.txt
匹配s和d直接一定要有两个字符的行

grep “s.*d” test_rule.txt
匹配s和d直接任意字符

grep “.*” test_rule.txt
匹配所有内容

3 ^匹配行首 $匹配行尾
grep “^M” test_rule.txt
匹配以大写M开头的行

grep “n$” test_rule.txt
匹配以小写n结尾的行

grep -n “^$” test_rule.txt
匹配空白行

4 [] 匹配括号中指定的任意一个字符，只匹配一个字符
grep “s[ao]id” test_rule.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%B1%823%E4%BD%8D%E6%95%B0%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0/">Linuxshell编程求3位数水仙花数</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%B1%823%E4%BD%8D%E6%95%B0%E6%B0%B4%E4%BB%99%E8%8A%B1%E6%95%B0/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">LinuxShell编程流程控制</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            一 if语句
1 单分支if语句
if [ 条件判断式 ];then
程序
fi
或者
if [ 条件判断式 ]
then
程序
fi
注意点：
if语句使用fi结尾，跟一般语言使用大括号结尾不同
中括号和条件判断式直接必须有空格
then后面跟符合条件之后执行的程序，可以放在[]之后用;分隔，也可以换行写入，就不需要;了
例子：判断分区使用率

我现在想把/dev/sda5中的第5列的数字截取出来，然后判断是否大于一个限定数字，如果大于就输出警告，我这里为了测试，限制数字为10


2 双分支if语句
if [ 条件判断式 ]
then
条件成立时，执行的程序
else
条件不成立时，执行的另外一个程序
fi
例子1：备份mysql数据库

记录时间。记录大小，然后判断备份目录是否存在，如果不存在创建，然后把/var/lib/mysql和记录时间和大小的文件一起备份到/tmp/dbbak

3 多分支if条件语句
if [ 条件判断式1 ]
then
当条件判断式1成立时，执行程序1
elif [ 条件判断式2 ]
then
当条件判断式2成立时，执行程序2
…省略更多条件…
else
当所有条件都不成立时，执行此程序
fi
例子：


二 case语句
case $变量名 in
“值1”)
如果变量的值等于值1，则执行程序1……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E7%9A%84%E7%AE%80%E5%8D%95%E7%94%A8%E6%B3%95/">LinuxShell编程的简单用法</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            第一个Shell脚本程序
1、#! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行
2、echo 控制台输出
建立 test.sh测试文件
vi /tmp/test.sh
#!/bin/bash echo &quot;Hello World&quot;  保存退出后赋予文件权限chmod +x test.sh
运行测试./test.sh
结果在控制台打印

变量定义及使用
shell编程中分为两种变量，第一种是我们自己定义的变量（自定义变量），第二种是Linux已定义的环境变量
#！/bin/bash echo ${PATH} #使用环境变量 str=&quot;good,good&quot; echo ${str} #自定义变量str，不需要声明变量，直接赋值  将linux命令执行结果赋值给变量
path=`pwd` echo ${path}  预定义变量
$# :命令行参数或位置参数的数量
$? :最近一次执行的命令或shell脚本的出口状态
$* :表示所有的位置参数，其值是所有位置参数的值
$$ : 变量是shell脚本里面的进程ID。Shell脚本经常使用这个变量组织临时文件名，确保文件名的唯一性
测试代码
!/bin/bash a=$1 //输入的第一个值 b=$2 //输入的第二个值 c=$[$1+$2*2] echo c变量$c echo 变量个数$# echo 状态$? echo 命令本身$0 echo 所有参数$* echo 进程$$  
数值关系运算符……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E7%9A%84%E7%AE%80%E5%8D%95%E7%94%A8%E6%B3%95/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/">linuxshell编程笔记</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0shell%E7%9A%84%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA1echo%E5%91%BD%E4%BB%A4/">linuxshell编程笔记shell的输入与输出1echo命令</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linuxshell%E7%BC%96%E7%A8%8B%E7%AC%94%E8%AE%B0shell%E7%9A%84%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA1echo%E5%91%BD%E4%BB%A4/">阅读全文</a></p>
        </div>
    </article>
    

    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/tags/shell/page/299/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/298/">298</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/299/">299</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/tags/shell/page/300/">300</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/301/">301</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/302/">302</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1621/">1621</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/tags/shell/page/301/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>