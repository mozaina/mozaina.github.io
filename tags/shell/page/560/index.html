<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>shell | 开发者问答集锦</title>
    <meta property="og:title" content="shell - 开发者问答集锦">
    <meta property="og:type" content="article">
        
        
    <meta name="Keywords" content="">
    <meta name="description" content="shell">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/tags/shell/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/tags/shell/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <h3 class="archive-title">
        包含标签
        <span class="keyword">shell</span>
        的文章
    </h3>
    

    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellgrepcut%E6%95%B4%E7%90%86/">shellgrepcut整理</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            写在前面，有一文本a.txt，内容如下
name=zjf
num=001
happy=yes
需要使用grep取得happy一行的行号，方法如下：
grep -n happy ./a.txt | cut -f1 -d&rdquo;:&rdquo;
解释一下：
1. 使用grep在取出的内容前面添加行号，结果为230:happy=yes
2. 对上面结果操作，取分隔符“：”前面内容，即230。（若为-f2，则表示取“：”后面的内容happy=yes）
当然，用sed也是可以实现该功能的，比如：sed -n &lsquo;/happy/=&rsquo; ./a.txt ，会直接显示行号3。
sed的用法可以看这里
对于cut的使用，最常用的就只有下面几种方法，从网上摘录一段。
cut -b list [-n] [file &hellip;]
cut -c list [file &hellip;]
cut -f list [-d delim][-s][file &hellip;]
上面的-b、-c、-f分别表示字节、字符、字段（即byte、character、field）；
list表示-b、-c、-f操作范围，-n常常表示具体数字；
file表示的自然是要操作的文本文件的名称；
delim（英文全写：delimiter）表示分隔符，默认情况下为TAB；
-s表示不包括那些不含分隔符的行（这样有利于去掉注释和标题）
下面说说list所指的范围表示方法：
范围的表示方法：
N 只有第N项
N- 从第N项一直到行尾
N-M 从第N项到第M项（包括M）
-M 从一行的开始到第M项（包含M）
- 从一行的开始到结束的所有项
可以随便使用一个文本进行测试，单独取一行可以配合grep来使用，cut命令可以从一个文本文件或者文本流中提取文本列。……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/shellgrepcut%E6%95%B4%E7%90%86/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellgrepsed%E5%B8%B8%E8%A7%81%E7%94%A8%E6%B3%95/">shellgrepsed常见用法</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/shellgrepsed%E5%B8%B8%E8%A7%81%E7%94%A8%E6%B3%95/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellgrep%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">shellgrep中的正则表达式</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            介绍 ls /usr/bin | grep zip  这个命令会列出，位于目录 /usr/bin 中，文件名中包含子字符串“zip”的所有文件。
这个 grep 程序以这样的方式来接受选项和参数：
grep [options] regex [file...]  这里的 regx 是指一个正则表达式。
下面是grep的常见options列表：
-i：模式匹配时忽略大小写 -V：显示不匹配的行 -l：列出匹配模式的文件名称,而不是打印匹配的行 -n：列出检索目标所在的行号 -c：统计匹配的行总数,不显示行信息  grep 正则表达式示例 在 /etc/passswd 目录中搜索 ‘liuyan’:
grep liuyan /etc/passwd  输出：
liuyan:x:1001:1001:,,,:/home/liuyan:/bin/bash  搜索大小写任意的 liuyan 或 raj：
grep -E -i -w 'liuyan|raj'/etc/passwd  这里加上-E，就是一个扩展的正则表达式的模式。
锚点 你可以分别使用 ^ 和 $ 符号来正则匹配输入行的开始或结尾。
grep ^liuyan /etc/passwd  仅仅只搜索出以单词 liuyan 开始的行，即不显示 liuyangit、liuyang 等：
grep -w ^liuyan /etc/passwd grep 'foo$' 文件名 #找出以单词foo结尾的行 grep '^foo$' 文件名 #匹配仅仅只包含foo的行 grep '^$' 文件名 #搜索空行  字符类 grep '[lL]iuyan' 文件名 grep -w '[lL]iuyan[0-9]' 文件名 grep 'foo[0-9][0-9]' 文件名 grep '[A-Za-z]' 文件名 grep [wn] 文件名  放在括号内的表达式，即包在 “[[:” 和 “:]]” 之间的字符类的名字，它表示的是属于此类的所有字符列表。标准的字符类名称如下：……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/shellgrep%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellgrep%E5%91%BD%E4%BB%A4/">shellgrep命令</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/shellgrep%E5%91%BD%E4%BB%A4/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellgrep%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/">Shellgrep命令详解</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
             一、grep命令 grep命令是Globally search a Regular Expression and Print out the line的缩写
作用：grep命令是一种强大的文本搜索工具，根据用户指定的“模式”对目标文本进行匹配检查，打印匹配得到的行
模式（pattern）：由正则表达式或者字符及基本文字所编写的过滤条件
语法格式：
grep [options]  [options]主要参数：
   参数 含义     －c 只输出匹配行的计数   －i 不区分大 小写(只适用于单字符)。   －h 查询多文件时不显示文件名   －l 查询多文件时只输出包含匹配字符的文件名   －n 显示匹配行及 行号。   －s 不显示不存在或无匹配文本的错误信息。   －v 显示不包含匹配文本的所有行。   - w 匹配整词。   - x 匹配整行   -r 递归搜索，不仅所搜当前目录，还搜索子目录   -q 禁止输出任何结果，以退出状态表示是否搜索成功   -b 打印匹配行距文件头部的偏移量，以字节为单位   -o 与-b结合使用，打印匹配词距文件头部的偏移量，以字节为单位   -E 支持拓展的正则表达式   -F 不支持正则表达式，按照字符串的字面意思进行匹配    ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/shellgrep%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellgrep%E6%88%96egrep%E6%88%96awk%E8%BF%87%E6%BB%A4%E4%B8%A4%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E5%85%B3%E9%94%AE%E8%AF%8D/">Shellgrep或egrep或awk过滤两个或多个关键词</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            grep 或 egrep 或awk 过滤两个或多个关键词:
grep -E ‘123|abc’ filename // 找出文件（filename）中包含123或者包含abc的行
egrep ‘123|abc’ filename //用egrep同样可以实现
awk ‘/123|abc/’ filename // awk 的实现方式……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/shellgrep%E6%88%96egrep%E6%88%96awk%E8%BF%87%E6%BB%A4%E4%B8%A4%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E5%85%B3%E9%94%AE%E8%AF%8D/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellgrep%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E6%B1%89%E5%AD%97/">shellgrep正则匹配汉字</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            Shell grep正则匹配中文 测试文本 demo_exe.c，内容如下，需要注意保存的编码格式，对输出到终端有影响：
我们中文操作系统ASNI默认是GBK的。
 1 #include 2 #include 3 #include &lt;string.h&gt; 4 #include 5 #include 6 #include 7 8 /* 9 * export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/local/tmp; /data/local/tmp/demo_exe 10 */ 11 int main(int argc, char** argv) { 12 // 这个是中文 13 void *handle = NULL; 14 char* locname = setlocale(LC_ALL, &quot;&quot;); 15 // 这个是中文 16 // 17 if ((handle = dlopen(demo_dso_so, RTLD_NOW)) == NULL) { 18 printf(&quot;dlopen出错: %s\n&quot;, dlerror()); 19 } 20 printf(&quot;@%s[%s]dlopen return handle = %#x.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/shellgrep%E6%AD%A3%E5%88%99%E5%8C%B9%E9%85%8D%E6%B1%89%E5%AD%97/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellhead%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%B4%E9%83%A8/">Shellhead显示文件的头部</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/shellhead%E6%98%BE%E7%A4%BA%E6%96%87%E4%BB%B6%E7%9A%84%E5%A4%B4%E9%83%A8/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellheredocument%E5%85%8D%E4%BA%A4%E4%BA%92%E4%B8%8Eexpect%E5%85%8D%E4%BA%A4%E4%BA%92/">shellHereDocument免交互与expect免交互</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            免交互  一、Here Document免交互  1.1 Here Document免交互 1.2 Here Document使用注意事项  二、Here Document常规用法  2.1 Here Document免交互  2.1.1 通过read命令接收输入并打印 2.1.2 通过passwd给用户设置密码  2.2 Here Document变量设定 2.2.1 变量替换  2.2.2 变量设定  2.3 Here Document格式控制  2.3.1 关闭变量替换功能 2.3.2 去除每行之前的tab字符  2.4 Here Document多行注释  2.4.1 通过Here Document方式使bash支持多行注释 2.4.2 语法格式   三、Expect概述  3.1 expect概述 3.2expect安装 3.3 Expect基本命令  3.3.1 expect 3.3.2 send 3.3.3 spawn 3.3.4 结束符 3.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/shellheredocument%E5%85%8D%E4%BA%A4%E4%BA%92%E4%B8%8Eexpect%E5%85%8D%E4%BA%A4%E4%BA%92/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/shellheredocument%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%A8%8B%E5%BA%8F%E8%AF%BB%E5%86%99%E6%93%8D%E4%BD%9C/">shellheredocument的一些操作交互式程序读写操作</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            学了一点皮毛的shell，感觉博大精深，而里面的here docunment更加神奇
有一个交互式程序，每次读入两个值，然后输出两个值，而我想直接用shell来把输入重定向到程序，然后把输出重定向到一个文件，试了挺久，终于找到了方法，那就是用here docunment，网上的教程基本都是里面写死的内容，我想能不能里面也是一个shell语句呢，结果是可以的，只需要用``引住就好了，而且这个shell语句的输出都会作为here docunment的输入来执行，简直牛掰
./code &lt;&lt; EOF &gt; /tmp/output.txt ` while read LINE do echo $LINE done &lt; /tmp/input.txt` EOF  ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/shellheredocument%E7%9A%84%E4%B8%80%E4%BA%9B%E6%93%8D%E4%BD%9C%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%A8%8B%E5%BA%8F%E8%AF%BB%E5%86%99%E6%93%8D%E4%BD%9C/">阅读全文</a></p>
        </div>
    </article>
    

    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/tags/shell/page/559/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/558/">558</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/559/">559</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/tags/shell/page/560/">560</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/561/">561</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/562/">562</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1621/">1621</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/tags/shell/page/561/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>