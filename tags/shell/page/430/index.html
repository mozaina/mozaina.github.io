<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>shell | 开发者问答集锦</title>
    <meta property="og:title" content="shell - 开发者问答集锦">
    <meta property="og:type" content="article">
        
        
    <meta name="Keywords" content="">
    <meta name="description" content="shell">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/tags/shell/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/tags/shell/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <h3 class="archive-title">
        包含标签
        <span class="keyword">shell</span>
        的文章
    </h3>
    

    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E4%B8%8Bshell%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85mysql5719%E7%AE%80%E5%8D%95%E6%9A%B4%E5%8A%9B/">linux环境下shell一键安装mysql5719简单暴力</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            #!/bin/bash
cd /ijiami/soft/
tar -zxvf mysql-5.7.19-linux-glibc2.12-x86_64.tar.gz
mv mysql-5.7.19-linux-glibc2.12-x86_64 mysql
mv mysql /ijiami
groupadd mysql
useradd -r -g mysql mysql
chown -R mysql:mysql ./
mv /etc/my.cnf /etc/my.cnf.bak
cp /ijiami/soft/my.cnf /etc/my.cnf
mkdir -p /ijiami/mysql/data
cd /ijiami/mysql/
bin/mysqld &ndash;initialize &ndash;user=mysql &ndash;basedir=/ijiami/mysql/ &ndash;datadir=/ijiami/mysql/data/ 2&gt;&amp;1 | tee &gt;/home/mysql.log
chown -R root:root ./
chown -R mysql:mysql data
cp support-files/mysql.server /etc/init.d/mysql
chmod 755 /etc/init.d/mysql
chkconfig &ndash;level 2345 mysql on
ln -s /ijiami/mysql/bin/mysqladmin /usr/sbin
ln -s /ijiami/mysql/bin/mysql /usr/sbin……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E4%B8%8Bshell%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85mysql5719%E7%AE%80%E5%8D%95%E6%9A%B4%E5%8A%9B/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%90%AF%E5%8A%A8jar%E5%8C%85%E7%9A%84shell/">Linux环境下启动jar包的shell</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            #! /bin/sh name=&quot;beautifulDistrict&quot; Xmx=1024m Xms=1024m Xmn=512m PermSize=256m MaxPermSize=512m pid=${name}&quot;.pid&quot; logName=&quot;all&quot; jarName=`ls | grep -e &quot;^\${name}.*jar$&quot; | sort -r | head -n 1` start(){ if [ -f &quot;$pid&quot; ] then echo &quot;$jarName is running !&quot; exit 0; else echo -n &quot;start ${jarName} ...&quot; nohup java -Xmx${Xmx} -Xms${Xms} -Xmn${Xmn} \ -XX:PermSize=${PermSize} \ -XX:MaxPermSize=${MaxPermSize} \ -XX:+UseParNewGC \ -XX:+UseConcMarkSweepGC \ -XX:CMSFullGCsBeforeCompaction=3 \ -XX:CMSInitiatingOccupancyFraction=60 -jar ${jarName} &gt;/dev/null 2&gt;&amp;1 &amp; #注意：必须有&amp;让其后台执行，否则没有pid生 [ $? -eq 0 ] &amp;&amp; echo &quot;[ok]&quot; echo $!……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%90%AF%E5%8A%A8jar%E5%8C%85%E7%9A%84shell/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E9%80%9A%E8%BF%87shell%E8%84%9A%E6%9C%AC%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85redis/">Linux环境下通过shell脚本一键安装redis</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            前言：linux系统环境（centos-7 64位）
 ####1．关于关系型数据库和nosql数据库
关系型数据库是基于关系表的数据库，最终会将数据持久化到磁盘上，而nosql数据 库是基于特殊的结构，并将数据存储到内存的数据库。从性能上而言，nosql数据库 要优于关系型数据库，从安全性上而言关系型数据库要优于nosql数据库，所以在实 际开发中一个项目中nosql和关系型数据库会一起使用，达到性能和安全性的双保证。
####2、redis是使用c语言开发，安装之前需要我们自己编译。
####3．redis在Linux上的安装步骤（写文章之时所使用的redis版本：redis-3.0.0.tar.gz）
1）安装redis编译的c环境，yum install gcc-c++
2）将redis-3.0.0上传到Linux系统中
3）解压到/usr/local下 tar -xvf redis-3.0.0 -C /usr/local
4）进入redis-3.0.0目录 使用make命令编译redis
5）在redis-3.0.0目录中 使用make PREFIX=/usr/local/redis install命令安装
redis到/usr/local/redis中
6）拷贝redis-3.0.0中的redis.conf到安装目录redis中
7）启动redis 在bin下执行命令redis-server redis.conf
8）如需远程连接redis，需要将防火墙关闭
####4、以上步骤有些繁琐很难记忆，下面来看看通过shell脚本一键安装。
编写shell脚本，redis-install.sh
#!/bin/bash #安装gcc yum install gcc-c++ #接收参数：redis压缩包绝对路径 src=$1 #接收参数：redis安装绝对路径 target=$2 echo $src unzipParentDir=${src%/*} temp=${src%t*} #解压缩后的目录 unzipDir=${temp%.*} echo &quot;directory :&quot;$unzipParentDir echo &quot;file path :&quot;$unzipDir #unzip tar file to current directory #解压缩 tar -xzvf $src -C $unzipParentDir #进入解压后的目录 cd $unzipDir echo `pwd` #编译 make #安装 make PREFIX=$target install #复制redis配置文件 cp -f redis.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E4%B8%8B%E9%80%9A%E8%BF%87shell%E8%84%9A%E6%9C%AC%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85redis/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E4%B8%ADshell%E8%84%9A%E6%9C%AC%E4%B8%AD%E8%87%AA%E5%8A%A8%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81/">linux环境中shell脚本中自动输入密码</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            本文实现方法是通过Linux中的expect实现，具体实现方法如下：
首先查看系统是否安装了expect，执行命令如下：
[root@iZuf6hxps1f8adqu07rbinZ ~]# whereis expect expect:[root@iZuf6hxps1f8adqu07rbinZ ~]#  出现如上提示则表示未安装，然后执行如下命令安装expect：
[root@iZuf6hxps1f8adqu07rbinZ ~]# yum install -y expect  然后获取安装后的expect目录，执行命令如下：
[root@iZuf6hxps1f8adqu07rbinZ ~]# whereis expect expect: /usr/bin/expect /usr/share/man/man1/expect.1.gz  前期工作就算完成了，开始shell脚本，案例如下：
#注解：这里指的下expect的执行目录 #！/usr/bin/expect #注解：这里指的下监控多久时间内依然会自动输入密码，比如200s set timeout 200 #注解：spawn 后面指的是要执行的shell脚本或者命令 spawn ./run.sh #注解：指的是监控输入命令或脚本后将会提示需要输入密码的信息 expect &quot;Password：” #注解：自动填充密码：mima123并确认 send &quot;mima123\n&quot; #注解：指的是监控输入命令或脚本后将会提示需要输入密码的信息 expect &quot;vlog@10.114.19.121‘s password’：” #注解：自动填充密码：vlog1234并确认 send &quot;vlog1234\n&quot; #注解：结束标签 interact  注：上面示例里用到两个expect，实际中根据自己需要，要自动输入几次就往后面加几个expect/send即可。……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E4%B8%ADshell%E8%84%9A%E6%9C%AC%E4%B8%AD%E8%87%AA%E5%8A%A8%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E4%BD%BF%E7%94%A8shell%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85mysql56/">Linux环境使用Shell脚本安装Mysql56</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            1. 前言 之前在Linux上安装Mysql总是花费很多时间，一行一行执行命令，很是繁琐，所以决定写个脚本提升下效率，这个脚本是基于Mysql5.6版本写的，后续版本不适用，但是如果自己能看懂脚本的可以稍加修改，如果有需要其他版本的自己又不是很熟悉Shell脚本的留言给我。
2. 准备工作 到Mysql官网或者到华为软件仓库去下载Mysql安装包
官网链接：https://dev.mysql.com/downloads/mysql/5.6.html#downloads

有32位和64位的区分 ，根据需要下载
华为软件仓库：https://mirrors.huaweicloud.com/mysql/Downloads/MySQL-5.6/
我下载的版本是mysql-5.6.41-linux-glibc2.12-x86_64.tar.gz
下载好安装包后拷贝到Linux服务器的任意位置上
检查机器上是否安装autoconf，执行命令：rpm -qa|grep autoconf

若无如上输出，则执行命令安装：yum -y install autoconf
3. 配置脚本 脚本内容如下
#!/bin/bash # Mysql安装包所在路径,需要带上包名，示例：PACKAGE_FULL_WAY=/root/mysql-5.6.41-linux-glibc2.12-x86_64.tar.gz readonly PACKAGE_FULL_WAY= # Mysql安装主目录,示例：INSTALL_HOME=/usr/local/mysql readonly INSTALL_HOME= # Mysql数据库root用户密码,示例：USER_PASSWD=root readonly USER_PASSWD= #check user if [[ &quot;$UID&quot; -ne 0 ]]; then echo &quot;ERROR: the script must run as root&quot; exit 3 fi function log_info() { echo &quot;[$(date -d today +&quot;%Y-%m-%d %H:%M:%S %:::z&quot;)] $1&quot; } function log_error() { echo -e &quot;[$(date +&quot;%Y-%m-%d %H:%M:%S %Z%:z&quot;)] [ERROR] $* \n&quot; exit 1 } function check_result() { local ret_code=$1 shift local error_msg=$* if [[ ${ret_code} -ne 0 ]]; then log_error ${error_msg} fi } # 校验参数 function check_param() { if [[ !……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E4%BD%BF%E7%94%A8shell%E8%84%9A%E6%9C%AC%E5%AE%89%E8%A3%85mysql56/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8Fshell%E5%8F%98%E9%87%8Fcommandnotfound%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/">linux环境变量shell变量commandnotfound解决方法</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            在Ubuntu中有如下几个文件可以设置环境变量
1、/etc/profile:在登录时,操作系统定制用户环境时使用的第一个文件,此文件为系统的每个用户设置环境信息,当用户第一次登录时,该文件被执行。
2、/etc/environment:在登录时操作系统使用的第二个文件,系统在读取你自己的profile前,设置环境文件的环境变量。
3、~/.bash_profile:在登录时用到的第三个文件是.profile文件,每个用户都可使用该文件输入专用于自己使用的shell信息,当用户登录时,该 文件仅仅执行一次!默认情况下,他设置一些环境变游戏量,执行用户的.bashrc文件。/etc/bashrc:为每一个运行bash shell的用户执行此文件.当bash shell被打开时,该文件被读取.
4、~/.bashrc:该文件包含专用于你的bash shell的bash信息,当登录时以及每次打开新的shell时,该该文件被读取。
几个环境变量的优先级
1&gt;2&gt;3
设置永久环境变量
1.环境变量配置中，要先删除.bash_profile中的三行关于.bashrc的定义，然后把环境变量配置在.bashrc中
2.选择要使用的java环境：update-alternatives –config java
3.要使得刚修改的环境变量生效：source .bashrc
4.查看环境变量：env
可以放到/etc/bash/bashrc，这样就是系统级的
1、在用LINUX命令时为什么别人的计算机能用自己的不能用呢，其实是自己的系统环境变量没有添加，最笨的方法就是进入到相应的文件夹下在执行这个命令，这样命令就起效了
例如fdisk命令就需要在相应文件夹/sbin/下输入指令 ./fdisk 就出现你要看的东西了
再如ifconfig命令需要在文件夹/sbin/下指执行./ifconfig就出现你要看的东西了
./bin:
bin为binary的简写主要放置一些系统的必备执行档例如:cat、cp、chmod df、dmesg、gzip、kill、ls、mkdir、more、mount、rm、su、tar等。
/usr/bin:
主要放置一些应用软体工具的必备执行档例如c++、g++、gcc、chdrv、diff、dig、du、eject、elm、free、gnome*、 gzip、htpasswd、kfm、ktop、last、less、locale、m4、make、man、mcopy、ncftp、 newaliases、nslookup passwd、quota、smb*、wget等。
/sbin:
主要放置一些系统管理的必备程式例如:cfdisk、dhcpcd、dump、e2fsck、fdisk、halt、ifconfig、ifup、 ifdown、init、insmod、lilo、lsmod、mke2fs、modprobe、quotacheck、reboot、rmmod、 runlevel、shutdown等。
/usr/sbin:
放置一些网路管理的必备程式例如:dhcpd、htpd、imap、in.*d、inetd、lpd、named、netconfig、nmbd、samba、sendmail、squid、swap、tcpd、tcpdump等。
可以在家目录下查看.bash_profile里的PATH。如果是：PATH=$PATH:$HOME/bin则需要添加成如下：
PATH=$PATH:$HOME/bin:/sbin:/usr/bin:/usr/sbin
[注]本人又添加了一条命令才能执行，不同情况不同分析哈：
export PATH=$PATH:/sbin
2、常在/etc/profile文件中修改环境变量，在这里修改的内容是对所有用户起作用的。
以下主要操作将在该文件中进行。
3、如何添加环境变量。
例如添加“NAME=liheng” 。
在profile文件的最后添加如下内容export NAME=liheng
变量值liheng可以加引号也可以不加，效果一样。
4、在profile文件添加或修改的内容需要注销系统才能生效。
5、重复定义变量怎样理解。
经常出现的是对PATH变量的定义。
例如：在peofile文件默认对PATH变量都有设置PATH=￥￥￥￥￥￥￥，在以后可能在对PATH设置，一般都加在profile文件的最后PATH=······(打个比方)。而系统之中认定的PATH=·······￥￥￥￥￥￥￥￥￥，也就是说相同名字的环境变量，后写入的先起作用。大家一定要注意。
6、特殊字符介绍。
例如在profile中有如下内容，通过以下内容说明特殊符号的用法。
export A=/q/jing:aaa/cc/ld
export B=.:/liheng/wang
export A=/cd/cdr:$A
大家注意红色的符号:
 表示并列含义，例如A变量值有多个，用：符号进行分离。
  .……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8Fshell%E5%8F%98%E9%87%8Fcommandnotfound%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8Fshell%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%BB%A5%E5%8F%8A%E5%9C%A8ubuntu%E4%B8%8B%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">Linux环境变量shell环境变量以及在Ubuntu下设置环境变量</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            在远程的ubuntu系统的服务器上安装pytorch的过程中，对环境变量的认识有提升了一层，记录如下。
shell 什么是shell？
环境变量 到底什么是环境变量？
环境变量（environment variables）一般指在操作系统（Operate System, OS）总中用来指定操作系统运行环境的一些参数，如：临时文件夹位置和系统文件夹位置等。 环境变量用来配置操作系统或其他应用程序。
环境变量是操作系统的一个具有特定名字的对象，它包含一个或者多个应用程序所使用到的信息。
当要运行一个程序而没告诉它程序所在的完整路径时，系统会在 当前目录 下搜索该程序，其次就是到 环境变量 去找。
【举例说明】Linux中的cd，pwd，cp，mkdir等常见命令的两种执行方式：
pwd  以及
/usr/bin/pwd  pwd命令可以直接被执行的原因就是因为设置了环境变量，可以通过echo $PATH来查看环境变量下的PATH路径，比如：
echo $PATH /home/face/bin:/home/face/.local/bin:/usr/local/ndk/android-ndk-r20:/usr/local/ndk/android-ndk-r20:/usr/local/android-sdk-linux/platform-tools:/usr/local/android-sdk-linux/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin  shell 环境变量 环境变量有三种：
 局部 环境变量：只对当前会话有效，未在任何配置文件中记录，并且通过一组特殊的命令创建和删除。 用户 环境变量：为特定用户定义的变量，并且在每次用户使用本地终端会话时或用户使用远程登录会话时加载。这些变量通常设置在并从一下配置文件加载：.bashrc,.bash_profile,.bash_login,.profile。这些文件存放于主目录。 系统 环境变量：为系统所有用户可用的变量。这些变量存在于以下文件：/etc/environment,/etc/profile,/etc/profile.d,/etc/bash.bashrc。这些变量在系统打开时加载。  设置环境变量 方法 注意：设置环境变量的方法，除了用export直接代码，也可以用vim或vi打开系统文件，进入编辑模式后进行手动编辑。
 export的意思就是将局部变量设置为环境变量
 # 设置新路径(覆盖其它全部命令) export PATH=/xxx/bin # 添加一个新的路径 export PATH=/xxx/bin:$PATH # 删除全部路径 unset PATH  模式 大致来说，有两种设置变量的模式：
1、 设置临时变量（ 作用于终端 ）
 什么是临时环境变量？
简单的理解就是你现在这个命令窗口的变量，等你新开一个命令窗口，那么这个变量就不复存在，无法使用。这样的概念类似于函数的局部变量无法全部使用的感觉一样。
 # 设置新路径(覆盖其它全部命令) export PATH=/xxx/bin # 添加一个新的路径 export PATH=/xxx/bin:$PATH  2、 永久设置（ 作用于当前用户或者所有用户 ）……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8Fshell%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E4%BB%A5%E5%8F%8A%E5%9C%A8ubuntu%E4%B8%8B%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%8F%8Ashell%E5%90%AF%E5%8A%A8%E7%9A%84%E6%96%B9%E5%BC%8F/">linux环境变量及shell启动的方式</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            linux环境变量 在bash shell种，环境变量用于存储有关shell会话和工作环境的信息。环境变量分为两类：
 全局变量 局部变量  全局变量 对于shell会话和所有生成的子shell都是可见的。 局部变量 只对创建他们的shell可见。
查看全局变量，可以使用env或printenv命令。
使用set命令，可以查看所有的环境变量，包括局部变量、全局变量以及用户定义变量。用户定义变量也分局部环境变量和全局环境变量。
设置局部用户定义变量 按照bash shell的惯例，所有的环境变量名均使用大写字母，因此用户定义局部变量时要坚持使用小写字母。
var_name=var_value  局部环境变量，只能在当前shell中使用，在子shell中不可用。如果在子进程中设置了局部变量，一旦退出了子进程，该局部变量就不可用。
设置全局环境变量 如果在当前进程中设置了全局环境变量，那么在当前shell创建的子shell中，该变量都是可用的。创建全局环境变量的方法是：
var_name=var_value export var_name  修改子shell中全局环境变量，并不会影响父shell中该变量的值。
在子shell中甚至无法使用export命令改变父shell中全局环境变量的值，也无法用unset删除全局环境变量。
shell启动的方式  作为默认登录shell 作为非登录shell的交互式shell 作为运行脚本的非交互式shell  登录shell 启动文件执行的顺序：
 /etc/profile 定义一些环境变量(PATH/USER/HOSTNAME/HISTSIZE等)
读取/etc/profile.d/*.sh（颜色、语言、执行别名等）
 ~/.bash_profile、~/.bash_login、~/.profile（依次只读取其中一个）
 ~/.bash_profile会调用~/.bashrc(如果存在），~/.bashrc会调用/etc/bashrc（如果存在）
  可以用source指令加载脚本的变更
交互式shell: 不需要登录即可运行的shell，如su和原bash下的新bash动作
~/.bashrc、/etc/bashrc
非交互式shell 系统执行shell脚本时用的是这种shell。为了在运行脚本时运行一些特定启动的命令，bash shell提供了 BASH_ENV 环境变量，它会检查这个环境变量来查看要执行的启动文件。
有些shell脚本是通过启动一个子shel来执行的，子shell可以继承父shell导出过的变量。
环境变量持久化 如果想持久化全局环境变量，最好在/etc/profile.d目录中创建一个以.sh结尾的文件，将新增或修改过的全局环境变量放置在这个文件中。
在大多数发行版中，用~/.bashrc文件存储个人用户永久性bash shell变量。……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%8F%8Ashell%E5%90%AF%E5%8A%A8%E7%9A%84%E6%96%B9%E5%BC%8F/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E7%BC%96%E7%A8%8B%E6%A8%A1%E6%8B%9Fshell%E8%A7%A3%E9%87%8A%E5%99%A8%E7%86%9F%E6%82%89linux%E4%B8%8B%E7%9A%84c%E8%AF%AD%E8%A8%80%E7%BC%96%E7%A8%8B/">linux环境编程模拟Shell解释器熟悉linux下的C语言编程</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
             开发环境 Red Hat Enterprise Linux Server release 7.0 (Maipo)
开发语言 C
参考书籍 Linux程序设计 第四版
代码地址 https://github.com/GoingJack/Mybash
知识要点  ## **用户名字，用户ID的获取方法
  头文件:**
 #include #include  作用 :获取系统相关信息(当前用户名,用户ID，用户组ID，用户家目录，用户Shell)信息返回指向passwd类型结构体指针。
struct passwd *getpwuid(uid_t uid);
passwd结构体体成员变量:


 主机名字的获取 #include  int uname(struct utsname *name);
#include int gethostname(char *name ,size_t namelen);
  作用:gethostname 函数把机器的网络名写入name字符串.该字符串至少有namelen个字符长。成功时,gethostname返回0，否则返回-1。
uname系统调用可以获得关于主机的更多详细信息，uname函数把主机信息写入name参数指向的结构。utsname结构定义在头文件sys/utsname.h中，它至少包含如下图所示的成员

 ##  ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E7%8E%AF%E5%A2%83%E7%BC%96%E7%A8%8B%E6%A8%A1%E6%8B%9Fshell%E8%A7%A3%E9%87%8A%E5%99%A8%E7%86%9F%E6%82%89linux%E4%B8%8B%E7%9A%84c%E8%AF%AD%E8%A8%80%E7%BC%96%E7%A8%8B/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/linux%E7%94%A8c%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84shell1/">Linux用C语言实现简单的shell1</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            发一波福利，操作系统的实验内容，大家可以借鉴一下，不过我的代码可能也存在一定的问题。
因为在一开始老师是一节一节课教的，当时并不知道后面还会用输入输出重定向，管道等一系列问题，我的兴趣也不在这个方面也没有预习，所以一来代码写的比较丑，二来没有对于代码进行一个合理的规划，写的也比较乱。
代码暂时实现到输入输出重定向，之后可能会加上管道处理等方面的程序。
如果让我重新写这段代码应该会规划的更好一点吧
/*author：Samsons date：2015.4.10*/ #include #include #include #include &lt;string.h&gt; #include #include #include #define MAX(100) #define LEN(100) char *arglist[MAX]; //shell指令参数表 int num; //shell指令参数个数 int execute(char* arglist[])//执行外部命令 { int error; error=execvp(arglist[0],arglist); if (error==-1) printf(&quot;failed\n&quot;); exit(1); } char* make(char *buf)//将字符串传入参数表内 { char *cp; cp=malloc(strlen(buf)+1); if (cp==NULL) { fprintf(stderr,&quot;no memory\n&quot;); exit(1); } strcpy(cp,buf); return cp; } int my_system(char *buf,char *arglist[])//对于字符串进行分割 { int num,j,i,last; char buffer[LEN]; num=0; i=0; while (num&lt;MAX) { if (buf[i]=='\n') { arglist[num]=NULL; return num; } if (buf[i]==' ') i++; last=i; while (buf[i]!……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/linux%E7%94%A8c%E8%AF%AD%E8%A8%80%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84shell1/">阅读全文</a></p>
        </div>
    </article>
    

    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/tags/shell/page/429/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/428/">428</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/429/">429</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/tags/shell/page/430/">430</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/431/">431</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/432/">432</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1621/">1621</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/tags/shell/page/431/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>