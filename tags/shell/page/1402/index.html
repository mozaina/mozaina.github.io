<!doctype html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <title>shell | 开发者问答集锦</title>
    <meta property="og:title" content="shell - 开发者问答集锦">
    <meta property="og:type" content="article">
        
        
    <meta name="Keywords" content="">
    <meta name="description" content="shell">
        
    <meta name="author" content="">
    <meta property="og:url" content="https://zaina.newban.cn/tags/shell/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <link rel="alternate" type="application/rss+xml+xml" href="https://zaina.newban.cn/tags/shell/index.xml" title="开发者问答集锦" />
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
    
    
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://zaina.newban.cn">
                        开发者问答集锦
                    </a>
                
                
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="" href="https://zaina.newban.cn">首页</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    
    <h3 class="archive-title">
        包含标签
        <span class="keyword">shell</span>
        的文章
    </h3>
    

    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%8D%81%E5%88%86%E9%92%9F%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%972020318shell%E5%AD%A6%E4%B9%A0%E5%8F%98%E9%87%8F/">十分钟轻松学习系列2020318SHELL学习变量</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            1. 什么是变量？ 1）小时候一个家属院的亲邻，知道你是老谁家的小谁，举例： 你是老王家的小张，你本身叫李雷，但是大家知道你是老王家的小张，不知道你名字不要紧，所以映射关系如下： =李雷 ， 这个 ****就是变量，变量值是 李雷 ，找到了，自然就映射到李雷。
2. 规范： a）一般情况变量名应该全部大写，而且应该定义在脚本最上方(shebang: #!/bin/bash下面)
 #Scripts_1: #!/bin/bash HANDSOME1=&quot;吴彦祖&quot; #变量为字符串 HANDSOME2=$1 #变量为位置参数 # /*下方为函数体*/   b) shell脚本支持一些特殊字符，但是我说个规定，变量中规中矩，别整幺蛾子字符起变量名字，除了
(1)下划线_
(2)[A-Za-z0-9]其他字符一律不带
(3)数字不能开头
 举例：
 正确变量： LEBRON_JAMES, KEVIN_DURANT ，但是要杜绝系统已有的变量名，例如HOSTNAME之类的就别取了； 驼峰法则也可以： pathToSheet, getTheCorrectInfo 都是很专业的写法；  禁止以下方式取名！！！：
 倾奇脑洞版变量： 特朗普是我孙子，龘靐齉鬱，123hahaha, ㄣ憂喐dě女孠╰☆ぷ， @#$% 土鳖示例： 尽量符合英文原版，不要用拼音，例如什么 LIFANG，PINGFANG，MUBIAOWENJIAN，CHUANRUWENJIAN，太low   3. 如何使用变量： 变量是个代号，如何取到代号的值， 使用&rdquo;$&rdquo;
 #Scripts_2: #!/bin/bash HANDSOME1=&quot;吴彦祖&quot; HANDSOME2=&quot;ㄣ憂喐dě女孠╰☆ぷ&quot; echo $HANDSOME1 echo $HANDSOME2 # 脚本输出结果是： 吴彦祖 (换行) ㄣ憂喐dě女孠╰☆ぷ  4.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%8D%81%E5%88%86%E9%92%9F%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%972020318shell%E5%AD%A6%E4%B9%A0%E5%8F%98%E9%87%8F/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%8D%81%E5%88%86%E9%92%9F%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%972020319shell%E5%AD%A6%E4%B9%A0%E5%8F%98%E9%87%8F%E8%BF%9B%E9%98%B6/">十分钟轻松学习系列2020319SHELL学习变量进阶</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            本章是针对上一章关于变量应用的进阶用法  ## 变量防篡改 - readonly  需求：老子认为自己是世界上最英俊的男子，不接受任何反驳，但是代码出现问题如下：
#！/bin/bash THEMOSTHANDSOMEMAN=&quot;璐璐桑&quot; THEMOSTHANDSOMEMAN=&quot;庞统&quot; echo &quot;墨镜墨镜请告诉我谁是这个世界上最帅的人：$THEMOSTHANDSOMEMAN&quot;  结果翻车了。。。

所以为了防止后面有人恶意或者无意篡改我的变量，我应该如何保证自己是世界上最英俊的人？
#！/bin/bash readonly THEMOSTHANDSOMEMAN=&quot;璐璐桑&quot; THEMOSTHANDSOMEMAN=&quot;庞统&quot; echo &quot;墨镜墨镜请告诉我谁是这个世界上最帅的人：$THEMOSTHANDSOMEMAN&quot;  看下图报错，报错告知这个最英俊名额被锁定了，庞统完犊子了，我才是世界上最英俊的人！

敲黑板！敲黑板！敲黑板！ == &gt; 这个功能还挺常用的，尤其针对一些可能会重名的变量值。
知识扩展： linux命令 #unset 可以把这个变量废了，无法再引用， 但是对只读变量无效
 ## 全局变量和局部变量 - local  从故事开始，一个机构下面五个部门，五个部门每年有财政预算，机构为每个部门拨款：
case1： _ 部门1：“老大，没钱了，给点”_ ===&gt; 老大：“拿着~”
case2: 部门1：“兄弟，我们没钱了给点” ===&gt; 部门2：“滚！”
case3： 老大：“老弟，没钱了，给点” ===&gt; 部门1：“你找部门[≠1]去要”
这个故事就是说，我们可以扒外，但是你不能吃里！
同时定义了一个局部一个shell全局变量，看输出结果
#!/bin/bash local VAR1=100 VAR1=200 echo $VAR1  200打印出来了是shell全局变量，看local局部变量怎么报错的，这个local只能用在function里：

解释这个事儿，我用一段代码：
#!/bin/bash VAR1=200 function A1() { local VAR1=10 echo $VAR1 } function A2() { local VAR1=20 echo $VAR1 } echo $VAR1 # 这个是shell全局的变量，所以肯定是200 A1 # 不用管这个什么意思，调用了函数，打印了VAR1，但是是A1函数中的VAR1，也就是10 A2 # 这个自然就是20了，学过编程一定要了解作用域  结果见下图，分析的没有问题：……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%8D%81%E5%88%86%E9%92%9F%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%972020319shell%E5%AD%A6%E4%B9%A0%E5%8F%98%E9%87%8F%E8%BF%9B%E9%98%B6/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%8D%81%E5%88%86%E9%92%9F%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%972020320shell%E5%AD%A6%E4%B9%A0%E5%87%BD%E6%95%B0%E5%9F%BA%E7%A1%80/">十分钟轻松学习系列2020320SHELL学习函数基础</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            出于对培训章节考虑，因为后续需要用函数完成各种demo，所以先粗略讲一下函数，以免在后续课程中，对函数不了解，不知道写法为何意 1. 函数创建方法： #!/bin/bash #固定shebang写法 IP=192.168.1.1 #定义变量： = 一般变量名都是大写，=左右无空格挨着写 Add() { #函数头 echo &quot;赞美太阳~&quot; #函数体 } Add #调用过程  上述就是一个完整的无参数函数调用过程，可粘贴脚本内容直接在shell中运行
与其他编程语言不同，调用函数无需()，相当于直接写函数名，即完成函数调用
函数有没有位置之分？？
猜测一下最上方的 Add 是否可以调用下方的函数？？
#!/bin/bash Add Add() { TEAM=ccb local TEAM=bbjyz echo $TEAM } Add  这个坑爹的结果告诉你不能，也就是说函数定义和变量一样，开头就得全部写出来，绝对不能在函数上方调用函数！！！！！ 
有参数：注意shell语言中不存在 function xxx(args…) {} 这种写法，也就是说只能传递位参$1,$2…
#!/bin/bash Add() { echo $1 echo $2 expr $1 + $2 # expr函数后方 $1+$2这种方式不对，必须空格 $1(空格)+(空格)$2 } Add 10 20  看结果，我调用函数后传参，都属于shell脚本内部行为

还有一点，函数内的位参是存在作用域的，即调用函数时跟在函数后方位参数可以传递到函数内，脚本后的位参是不能传递给函数内的位参，举例说明，因为函数中有$1和$2，所以我在脚本外部传位参，结果可见，函数内部位参由于函数作用域，并不能作用到整个shell脚本
也就是说，你shell外面传参，关我函数内位参毛事儿！……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%8D%81%E5%88%86%E9%92%9F%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%972020320shell%E5%AD%A6%E4%B9%A0%E5%87%BD%E6%95%B0%E5%9F%BA%E7%A1%80/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%8D%81%E5%88%86%E9%92%9F%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%972020325shell%E5%AD%A6%E4%B9%A0%E5%90%84%E7%A7%8D%E5%88%80%E4%B9%90%E7%9A%84%E7%94%A8%E6%B3%95/">十分钟轻松学习系列2020325SHELL学习各种刀乐的用法</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            $在shell中为何非常重要，因为它是美元的标志，虽然现在疫情导致美帝快完犊子了 通过$读取变量的值，具体原理如下图：
变量开辟一块内存空间，就好比你住酒店，变量名相当于门牌号，变量值相当于你。
shell脚本中不同$的用法  $?：这个是在流程控制中最常用的，重中之重！
解释说明：$?反映的是上一条命令或者一个流程中的返回值，如果为0，则上面的命令或者流程执行成功；如果非0，则上面的命令或者流程执行失败，常见写法如下图：
#!/bin/bash  mv nginx.conf /etc/nginx/ #将这个配置文件移动到/etc/nginx目录下 if [ $? -ne 0 ];then #如果 $? != 0，则打印移动失败 echo &ldquo;移动失败&rdquo; fi
  所以通过上述$?可以判断出上条命令是否成功，从而决定接下来shell流程的走向。
 $$：如果执行某个shell脚本，这个显示的是当前进程的PID，注意是进程ID
程序和进程的区别： 程序本身是的集合，可以理解为就是文本堆积，保存在硬盘中，不关内存啥事儿；只有运行起来的程序才叫进程，进程启动需要占用内存空间，完成或者kill后会根据垃圾回收(或手动释放)的方式释放本来占据的内存空间。
 $1,$2…$n：位参，这个不讲了，用的很多了
 $#： 这个提一嘴，这个可以计算出你传递了多少个位置参数
这个在运维开发中经常用作判断，假设计算一个shell脚本应该传递多少个参数，如果参数值不够，那么脚本流程控制走向发生改变或者报错。

结果如下：

 ${# }：这个用法见我举例，这个也是最常用的判断方法，计算一个变量或者字符串的长度，开发的同事应该知道一般编程语言中有len()这种函数计算一个列表(数组，切片),map的长度等

执行结果如下正确，本身字符串就由五个字符构成：

 $( )：讲完了{}的作用，小括号的作用是什么？
小括号中传递的是linux命令，我们把命令作为键，把命令得到的结果作为值，$()返回的就是命令执行后的值， 注意只能传命令！！！！ ：

$(cmd)=cmd： 注意这个是反引号，两种方法是等同的：

输出结果如下：

 $*和$@：两个都是将所有传递的参数整合成列表，区别举例如下，记好我说的原则：
   在无 &ldquo; &rdquo; 的情况下，$*和 $@ 没有任何区别。……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%8D%81%E5%88%86%E9%92%9F%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%972020325shell%E5%AD%A6%E4%B9%A0%E5%90%84%E7%A7%8D%E5%88%80%E4%B9%90%E7%9A%84%E7%94%A8%E6%B3%95/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%8D%81%E5%88%86%E9%92%9F%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%972020325shell%E5%AD%A6%E4%B9%A0%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%9F%BA%E7%A1%80/">十分钟轻松学习系列2020325SHELL学习流程控制基础</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            pppppppppppppopppo[opooc## 所有编程语言离不开流程控制，没有流程控制还玩个毛~
 流程控制分为三种：顺序，选择，循环  1) 顺序： 这个没啥好说的吧，根据之前的函数基础篇章， 自上而下逐行解释 ，需求：如何完成煮泡面
把编程抽象化人类行为的过程，把人类做的每一个事情用流程描述出来，所以伪代码如下：
#定义变量 面饼，调料，水，承载器皿 #制作方法 (这个就是函数了，选择不同的方法，二选一，也可以掰一半，一半泡一半煮-_-#) function 泡() { 制作过程xxxxx } function 煮() { #定义变量 火 制作过程xxxxx }  2） 选择： 分支语句了，如果满足xx条件，执行xx；满足yy条件，执行yy…
我不讲复杂变化，只讲固定格式，以后写就按照我这种固定格式写，肯定没错
shell脚本固定选择流程如下：
if [ ];then xxxxx #做什么事儿，自己填内容 elif [];then #不是必要的格式，增加条件分支 xxxxx #做什么事儿，自己填内容 else xxxxx #做什么事儿，自己填内容 fi  举例说明：
if [ 3 -gt 2 ];then #如果3&gt;2,打印我最帅 echo &quot;我最帅&quot; elif [ 2 -lt 3 ];then #如果2&lt;3,打印我最帅，if...elif 和 if...if的区别我在后续流程进阶中讲 echo &quot;我最帅&quot; else echo &quot;我也最帅&quot; #如果上述条件都不满足，我也最帅 fi  3）循环： 小时候老师问1+…+100等于多少，好多人都知道5050，有几种计算方式？……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%8D%81%E5%88%86%E9%92%9F%E8%BD%BB%E6%9D%BE%E5%AD%A6%E4%B9%A0%E7%B3%BB%E5%88%972020325shell%E5%AD%A6%E4%B9%A0%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%9F%BA%E7%A1%80/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%8D%81%E9%81%93%E9%9D%9E%E5%B8%B8%E5%A5%BD%E7%9A%84shell%E8%84%9A%E6%9C%AC%E8%AF%95%E9%A2%98/">十道非常好的shell脚本试题</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            ……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%8D%81%E9%81%93%E9%9D%9E%E5%B8%B8%E5%A5%BD%E7%9A%84shell%E8%84%9A%E6%9C%AC%E8%AF%95%E9%A2%98/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%8D%87%E7%BA%A7shell%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83/">升级Shell工作环境</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            在工作中常会遇到程序员用着系统的 terminal 艰难的敲击着 bash shell 的命令。这种原始的方式可能会导致工作效率降低。
对于终端的选择，每个人的习惯不一样，无法要求保持一致，但是我觉着，最基础最常用的终端功能的配置，最好还是在团队里推广一下，可以一定程度提高那些用着默认 terminal 的大神们的效率(PS: 听说有些大神使用记事本写代码，这类不在考虑之中)。但是这类配置又比较零散，所以趁着周末写一个我自身常用的 Shell 工作环境的总结吧，本文以MacOS为例，对于Linux系统，在文章最后列举了一些差异。本文适合想要提高一些终端使用效率的同学们。
iTerm2 安装及配置 首先需要安装 iTerm2，下载地址：iTerm2 Download，建议下载 Stable Release 版本。
安装完成后，打开 iTerm2 -&gt; Preferences，就可以根据自己的使用习惯进行一些偏好设置了，由于可配置的选项太多，这里不做一一列举，只对我自己设定的一些选项进行简单的介绍。(注意下载的不同版本的 iTerm2 的默认配置有可能有细微差别)
 对于 General 选项卡，目前还没遇到修改的需求。
 对于 Appearence 选项卡，我改动了 Tabs 的一些设置，如下图：
 将 &ldquo;Tab bar location&rdquo; 改为了 Top 将 &ldquo;Theme&rdquo; 改为了 Light(可以根据个人习惯进行选择)  改动较多的就是 Profiles 选项卡了，Profiles 主要是与显示外观有关的配置，在左侧可以新建多个 profile 配置，这里我只采用了 Default。
  每个 Profile 的右边有多个配置选项：General、Colors、Text、Window、Terminal、Session、Keys、Advanced：
* General：在下方有个 &quot;Working Directory&quot; 的配置，这个是当你每次打开 shell 时默认进入的工作目录，可以根据自己的工作习惯进行配置。由于我经常工作在 home 的 Work 目录中，所以我勾选了 &quot;Directory&quot; 选项，并设置了 Work 目录。 * Colors：这个地方需要根据习惯自己调整配置。想想以后常用的 Shell 的样子就是这里决定的，还是值得花时间去根据自己喜好进行配置。由于我个人使用 Emacs 作为常用编辑器，而且 emacs 一直在用 Solarized light 主题，所以我再右下角的 &quot;Color Presets&quot; 里面选择了 &quot;Solarized light&quot; 主题。字体、背景颜色都可以在 Solarized light 的基础上进行微调。  此外，在 Colors 选项卡中，有个 &ldquo;Cursor Guide&rdquo; 选项，这个选项可以高亮当前光标所在行，更方便的找到光标位置，有需要的可以打开。不过这里有一个快捷键 &ldquo;Command+/&rdquo; 可以直接定位到光标位置，很好用，所以我没有打开 &ldquo;Cursor Guide&rdquo;。……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%8D%87%E7%BA%A7shell%E5%B7%A5%E4%BD%9C%E7%8E%AF%E5%A2%83/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%8D%87%E7%BA%A7ttyshellpyhotn/">升级ttyshellpyhotn</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            渗透测试中，linux拿到的低权限shell，也就是老外说的initial foothold （shell）（能进入靶机或实战服务器了。。）。常常有很多限制。这种shell很容易不小心因按键给中断挂了，如果执行什么卡住了，你一按ctrl+c就直接挂完了，丢了。 如果按tab键，也不能自动补齐。。。且有些功能还只能在tty下运行。。。等等，总之不是好shell
升级成tty
一般都是安装了Python的
操作如下：
中途会表面上断掉，以及你看不见你输入啥东西，没影响。
python -c 'import pty; pty.spawn(&quot;/bin/bash&quot;)' 然后按下ctrl+z 再输入stty raw -echo 再输入fg 按两次回车键enter export TERM=screen stty rows 34 cols 136  如果没有Python2，那基本装的就是Python3了
把第一步改成python3 -c 'import pty; pty.spawn(&quot;/bin/bash&quot;)'。其他不变
升级好后，再按tab就有自动补齐功能了，方便不少。
执行什么自动扫描文件或其他之类。如果卡住了，或者你不想要他执行了。直接大胆ctrl+c退出，不怕shell断。。依然在。。……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%8D%87%E7%BA%A7ttyshellpyhotn/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%8D%87%E7%BA%A7%E5%88%B0xcode9shell%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E6%89%93%E5%8C%85%E5%A4%B1%E8%B4%A5/">升级到xcode9shell脚本自动打包失败</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            升级完xcode9 自动打包报：
xcrun: error: unable to find utility “PackageApplication”, not a developer tool or in PATH
Build step ‘Execute shell’ marked build as failure
因为8.3以后把PackageApplication删除了，
一下是我的解决方案
1.https://gist.github.com/anonymous/48f3e4c5ae25313dc0fe10d9ec50c3fc 下载PackageApplication文件
2.、放到 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/usr/bin 文件下
3.命令行输入 ：
chmod +x /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneO‌​S.platform/Developer‌​/usr/bin/PackageAppl‌​ication or chmod +x /Applications/Xcode- beta.app/Contents/Developer/Platforms/iP‌​honeOS.platform/Deve‌​loper/usr/bin/Packag‌​eApplication
在打包就可以了……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%8D%87%E7%BA%A7%E5%88%B0xcode9shell%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E6%89%93%E5%8C%85%E5%A4%B1%E8%B4%A5/">阅读全文</a></p>
        </div>
    </article>
    
    <article class="post">
        <header>
            <h1 class="post-title">
                <a href="https://zaina.newban.cn/posts/%E5%8D%95%E4%BD%93%E6%9C%8D%E5%8A%A1shell%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99%E8%AE%B0%E5%BD%95/">单体服务shell脚本编写记录</a>
            </h1>
        </header>
        <date class="post-meta meta-date">
            2020年9月2日
        </date>
        
        <div class="post-content">
            1、在现阶段，公司需要在短时间内完成单体服务对数据的处理，由于每秒钟的数据量过大，需要对单体服务复制成四个服务在一个服务器（现在没钱买多服务器），本次用shell脚本完成对单体服务自动运行、结束、重启等功能的实现和编排。暂时未使用到docker。先使用java -jar XXX.jar 这种运行方式。
2、run.sh
#! /bin/sh ##This is my first shell script. ##Writen by xuxin 2020-04-21 #!/bin/bash #这里可替换为你自己的执行程序，其他代码无需更改 #赋值springbootd打包后的jar包到子文件夹中 cp project-0.0.1-SNAPSHOT.jar app.jar cp app.jar service-1/app-1.jar cp app.jar service-2/app-2.jar cp app.jar service-3/app-3.jar cp app.jar service-4/app-4.jar #可执行权限 chmod +x service-1/service-1.sh chmod +x service-2/service-2.sh chmod +x service-3/service-3.sh chmod +x service-4/service-4.sh #获取本地文件目录 project_patch=$(cd $(dirname $0);pwd) echo ${project_patch} APP_NAME=app.jar #使用说明，用来提示输入参数 usage() { echo &quot;Usage: sh 执行脚本.sh [start|stop|restart|status]&quot; exit 1 } #启动方法 start(){ sh /data/service/Hanwei/project/service-1/service-1.sh start sh /data/service/Hanwei/project/service-2/service-2.……
            <p class="readmore"><a href="https://zaina.newban.cn/posts/%E5%8D%95%E4%BD%93%E6%9C%8D%E5%8A%A1shell%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99%E8%AE%B0%E5%BD%95/">阅读全文</a></p>
        </div>
    </article>
    

    



<ol class="page-navigator">
    
    <li class="prev">
        <a href="https://zaina.newban.cn/tags/shell/page/1401/">上一页</a>
    </li>
    

    

    
        
        
    
    

    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/">1</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1400/">1400</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1401/">1401</a>
        </li>
        
    
        
        
        <li  class="current">
            <a href="https://zaina.newban.cn/tags/shell/page/1402/">1402</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1403/">1403</a>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1404/">1404</a>
        </li>
        
    
        
        <li>
            <span>...</span>
        </li>
        
    
        
        
        <li >
            <a href="https://zaina.newban.cn/tags/shell/page/1621/">1621</a>
        </li>
        
    

    
    

    <li class="next">
        <a href="https://zaina.newban.cn/tags/shell/page/1403/">下一页</a>
    </li>
    
</ol>




</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://zaina.newban.cn">开发者问答集锦 By </a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        <div class="github-badge">
            <a href="https://www.flysnow.org/" target="_black"><span class="badge-subject">Design by</span><span class="badge-value bg-brightgreen">飞雪无情</span></a>
        </div>
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>



<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://zaina.newban.cn/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://zaina.newban.cn">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://zaina.newban.cn/posts/001rubyruby%E4%B8%AD%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F%E5%AE%9E%E4%BE%8B%E5%8F%98%E9%87%8F%E5%B1%80%E9%83%A8%E5%8F%98%E9%87%8F%E7%B1%BB%E5%8F%98%E9%87%8Fsymbol%E5%AF%B9%E6%AF%94/" title="001rubyRuby中全局变量实例变量局部变量类变量Symbol对比">001rubyRuby中全局变量实例变量局部变量类变量Symbol对比</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/007hadoop%E9%9B%86%E7%BE%A4%E9%85%8D%E7%BD%AEhadoop%E9%9B%86%E7%BE%A4%E7%9A%84%E5%90%AF%E5%8A%A8%E5%92%8C%E6%B5%8B%E8%AF%95ssh%E5%85%8D%E7%99%BB%E9%99%86%E9%85%8D%E7%BD%AEstartallshhdfs%E5%B8%B8%E7%94%A8%E7%9A%84shell/" title="007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell">007Hadoop集群配置Hadoop集群的启动和测试SSH免登陆配置startallshhdfs常用的shell</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/009shell%E8%84%9A%E6%9C%AC%E4%B8%8B%E6%9D%A1%E4%BB%B6%E6%B5%8B%E8%AF%95eqne/" title="009Shell脚本下条件测试eqne">009Shell脚本下条件测试eqne</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/00pythonmanagepyshell%E5%92%8Cpython%E7%9A%84%E5%88%86%E6%9E%90/" title="00Pythonmanagepyshell和Python的分析">00Pythonmanagepyshell和Python的分析</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/010zookeeper%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5zookeeper%E7%9A%84%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BAzookeeper%E7%9A%84shell%E5%91%BD%E4%BB%A4/" title="010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令">010Zookeeper的基本概念Zookeeper的集群搭建Zookeeper的shell命令</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/018dockerfileshell/" title="018DockerfileSHELL">018DockerfileSHELL</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%85%A5%E9%97%A801bashshell%E7%89%B9%E6%80%A7/" title="01Shell入门01bashShell特性">01Shell入门01bashShell特性</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%8F%98%E9%87%8F/" title="01Shell变量">01Shell变量</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E6%96%B9%E5%BC%8Fbash%E5%9F%BA%E6%9C%AC%E5%8A%9F%E8%83%BD/" title="01Shell基础概述脚本执行方式Bash基本功能">01Shell基础概述脚本执行方式Bash基本功能</a>
    </li>
    
    <li>
        <a href="https://zaina.newban.cn/posts/01shell%E7%BC%96%E7%A8%8Bhelloworld/" title="01shell编程helloworld">01shell编程helloworld</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://zaina.newban.cn/tags/ruby/">ruby</a>
    
    <a href="https://zaina.newban.cn/tags/shell/">shell</a>
    
</div>
    </section>

    

    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://zaina.newban.cn/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>